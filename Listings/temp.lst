C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE TEMP
OBJECT MODULE PLACED IN .\Objects\temp.obj
COMPILER INVOKED BY: D:\DWIN\Keil_v5\C51\BIN\C51.EXE source\temp.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\driver;.\sour
                    -ce) DEBUG OBJECTEXTEND CODE SYMBOLS PRINT(.\Listings\temp.lst) OBJECT(.\Objects\temp.obj)

line level    source

   1          #include "temp.h"
   2          #include "sys.h"
   3          #include "string.h"
   4          
   5          #define ARR_SIZE(x) (sizeof(x) / sizeof(x[0]))
   6          
   7          
   8          // struct Flags {
   9          //     u32 flag1 : 1;
  10          //     u32 flag2 : 1;
  11          //     u32 flag3 : 1;
  12          //     u32 flag4 : 1;
  13          // };
  14          
  15          typedef enum {
  16              EIID_TIG,       EIID_TIG_SPOT, EIID_MMA,
  17              EIID_AC,        EIID_AC_MIX,   EIID_DC_MINUS, EIID_DC_PLUS,
  18              EIID_2T,        EIID_4T,       EIID_4T_PLUS,
  19              EIID_HF,        EIID_LIFT,
  20              EIID_PULSE_OFF, EIID_PULSE_ON,
  21              EIID_D_10,      EIID_D_16,     EIID_D_20,     EIID_D_24, EIID_D_32, EIID_D_40,
  22              EIID_SIN,       EIID_TRIG,     EIID_RECT,     EIID_TRAP,
  23              EIID_H2O_ON,    EIID_H2O_OFF,
  24              EIID_NO_ICON,
  25          }icon_id;
  26          
  27          enum {
  28              MEN_WELD_MOD, 
  29              MEN_BTN_MOD,
  30              MEN_POL_MOD, 
  31              MEN_IGN_MOD,
  32              MEN_PLS_MOD,
  33              MEN_PLS_WAVE_SHAPE_MOD,  
  34              MEN_D_MOD,   
  35              MEN_FLOW_MOD,
  36          };
  37          
  38          enum {
  39              TIG,
  40              TIG_SPOT,
  41              MMA,
  42          };
  43          
  44          code const u16 ICON_RECT_SZ = 128;
  45          
  46          code const u32 active_items[] = {
  47              0xffffffff, //tig
  48              0xffffffff, //tig spot
  49              ((u32)1 << EIID_TIG)       | ((u32)1 << EIID_TIG_SPOT) | ((u32)1 << EIID_MMA)     |
  50              ((u32)1 << EIID_AC)        | ((u32)1 << EIID_DC_MINUS) | ((u32)1 << EIID_DC_PLUS) |
  51              ((u32)1 << EIID_PULSE_OFF) | ((u32)1 << EIID_PULSE_ON),    //mma
  52          };
  53          u8 cur_active_items_id = TIG;
  54          
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 2   

  55          code const u32 menu_item_bm[] = { 
  56              ((u32)1 << EIID_TIG)       | ((u32)1 << EIID_TIG_SPOT) | ((u32)1 << EIID_MMA),      
  57              ((u32)1 << EIID_2T)        | ((u32)1 << EIID_4T)       | ((u32)1 << EIID_4T_PLUS),    
  58              ((u32)1 << EIID_AC)        | ((u32)1 << EIID_AC_MIX)   | ((u32)1 << EIID_DC_MINUS) | ((u32)1 << EIID_D
             -C_PLUS),                                             
  59              ((u32)1 << EIID_HF)        | ((u32)1 << EIID_LIFT),
  60              ((u32)1 << EIID_PULSE_OFF) | ((u32)1 << EIID_PULSE_ON),
  61              ((u32)1 << EIID_SIN)       | ((u32)1 << EIID_TRIG)     | ((u32)1 << EIID_RECT)     | ((u32)1 << EIID_T
             -RAP),                                                
  62              ((u32)1 << EIID_D_10)      | ((u32)1 << EIID_D_16)     | ((u32)1 << EIID_D_20)     | ((u32)1 << EIID_D
             -_24) | ((u32)1 << EIID_D_32) | ((u32)1 << EIID_D_40),
  63              ((u32)1 << EIID_H2O_OFF)   | ((u32)1 << EIID_H2O_ON),   
  64          }; 
  65          
  66          
  67          
  68          
  69          icon_t cur_menu[32];
  70          u32 cur_menu_active;
  71          u8 cur_menu_size;
  72          
  73          
  74          //—Ç–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω—ã –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º –º–
             -µ–Ω—é
  75          idata u32 main_menu_bm; //–±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–µ–Ω—é –Ω–∞ –Ω–∏–∂–Ω–
             -µ–º —ç–∫—Ä–∞–Ω–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  76          
  77          
  78          void (*cur_menu_fanc)(u8 item_pos);
  79          
  80          void change_mode_control(u8 item_pos);
  81          void dgus_draw_icons(u16 vp, icon_t *p_icon, u8 size);
  82          void make_menu_bar(u16 vp, u8 is_vertical, u16 start_x, u16 start_y, u32 id_bm, void (*cur_menu_fanc)(u8 i
             -tem_pos));
  83          
  84          
  85          
  86          
  87          
  88          
  89          
  90          void dgus_draw_icons(u16 vp, icon_t *p_icon, u8 size)
  91          {//classic now change 
  92   1          u8 i, j;
  93   1          u16 cmd[100];
  94   1          cmd[0] = 0x2407; //icon_write_instruction      
  95   1          cmd[1] = size; //display_icon_cnt
  96   1          j = 2;
  97   1          for(i = 0; i < size; i++) {
  98   2              cmd[j] = p_icon[i].r.x0;
  99   2              j++;
 100   2              cmd[j] = p_icon[i].r.y0;
 101   2              j++;
 102   2              cmd[j] = p_icon[i].ico;
 103   2              j++;
 104   2          }
 105   1          cmd[j] = 0xFF00;
 106   1          write_dgus_vp(vp, (u8*)&cmd, j);
 107   1      }
 108          
 109          
 110          void make_menu_bar(u16 vp, u8 is_vertical, u16 start_x, u16 start_y, u32 id_bm, void (*cur_menu_fanc)(u8 i
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 3   

             -tem_pos))
 111          {
 112   1          u8 i;
 113   1          s16 shift_x;
 114   1          s16 shift_y;
 115   1      
 116   1          if(is_vertical)
 117   1              shift_y = -ICON_RECT_SZ;
 118   1          else
 119   1              shift_x = ICON_RECT_SZ;
 120   1      
 121   1          i = 0;
 122   1          cur_menu_size = 0;
 123   1          while (id_bm != 0) {
 124   2              if((u32)id_bm & (u32)1) {
 125   3                  cur_menu[cur_menu_size].ico = i;
 126   3                  cur_menu[cur_menu_size].r.x0 = start_x;
 127   3                  cur_menu[cur_menu_size].r.y0 = start_y;
 128   3                  cur_menu[cur_menu_size].r.x1 = start_x + ICON_RECT_SZ;
 129   3                  cur_menu[cur_menu_size].r.y1 = start_y + ICON_RECT_SZ;
 130   3                  start_x += shift_x;
 131   3                  start_y += shift_y;
 132   3                  cur_menu_size++;        
 133   3              }
 134   2              id_bm >>= 1;
 135   2              i++;
 136   2          }
 137   1      
 138   1          cur_menu_fanc = cur_menu_fanc;
 139   1          dgus_draw_icons(vp, cur_menu, cur_menu_size);
 140   1      }
 141          
 142          void bottom_level_controls(u8 item_pos)
 143          { //–≤—ã–∑–æ–≤–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –≤ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º –º–µ–Ω—é
 144   1          u32 bm;
 145   1          u8 i;
 146   1          //–ø–æ–ª—É—á–∏—Ç—å –∏–Ω–¥–µ–∫—Å —Ç–∏–ø–∞ –º–µ–Ω—é 
 147   1          for(i = 0; i < ARR_SIZE(menu_item_bm); i++) {
 148   2              if(menu_item_bm[i] & (u32)1 << cur_menu[item_pos].ico) {
 149   3                  bm = active_items[cur_active_items_id] & menu_item_bm[i];
 150   3                  bm &= ~((u32)1 << cur_menu[item_pos].ico); //—É–±—Ä–∞—Ç—å –∏–∑ –æ—Ç–±–æ—Ä–∞–∂–µ–Ω–∏—è —ç–ª–µ–º
             -–µ–Ω—Ç –∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –≤—ã—Å–≤–µ—á–µ–Ω –≤ –Ω–∏–∂–Ω–µ–º –º–µ–Ω—é
 151   3                  make_menu_bar(0x9500, 1, ICON_RECT_SZ * item_pos, 0, bm, change_mode_control);     
 152   3                  break;
 153   3              }
 154   2          }
 155   1      }
 156          
 157          void change_mode_control(u8 item_pos) 
 158          {//–≤—ã–∑–æ–≤–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —ç–µ–ª–µ–º–µ–Ω—Ç–∞ –≤ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–º –º–µ–Ω—é
 159   1          u8 i;
 160   1          for(i = 0; i < ARR_SIZE(menu_item_bm); i++) {
 161   2              if(menu_item_bm[i] & (u32)1 << cur_menu[item_pos].ico) {
 162   3                  main_menu_bm &= ~menu_item_bm[i]; //–æ—á–∏—Å—Ç—å –æ–±–ª–∞—Å—Ç—å —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —ç—Ç–∏–º
             - –ø–æ–¥–º–µ–Ω—é –≤ –≥–∞–≤–Ω–æ–º –º–µ–Ω—é
 163   3                  main_menu_bm |= ((u32)1 << cur_menu[item_pos].ico); //–≤—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –≤—ã–±—Ä
             -–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é            
 164   3                  draw_bottom_menu();
 165   3                  break;
 166   3              }
 167   2          }
 168   1      
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 4   

 169   1          
 170   1          switch (cur_menu[item_pos].ico)
 171   1          {
 172   2              case EIID_TIG:
 173   2                  cur_active_items_id = TIG;
 174   2                  break;
 175   2              
 176   2              case EIID_TIG_SPOT:
 177   2                  cur_active_items_id = TIG_SPOT;
 178   2                  break;
 179   2      
 180   2              case EIID_MMA:
 181   2                  cur_active_items_id = MMA;
 182   2                  break;
 183   2      
 184   2          }
 185   1      }
 186          
 187          
 188          
 189          void draw_bottom_menu(void)
 190          {   
 191   1          make_menu_bar(0x9000, 0, 0, 800 - ICON_RECT_SZ, main_menu_bm, bottom_level_controls);   
 192   1      }
 193          
 194          
 195          
 196          
 197          
 198          
 199          
 200          
 201          
 202          
 203          
 204          
 205          
 206          
 207          
 208          
 209          
 210          
 211          
 212          
 213          
 214          
 215          
 216          
 217          
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 5   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _dgus_draw_icons (BEGIN)
                                           ; SOURCE LINE # 90
0000 900000      R     MOV     DPTR,#vp
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 EB                MOV     A,R3
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EA                MOV     A,R2
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F E9                MOV     A,R1
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 91
                                           ; SOURCE LINE # 94
0011 900000      R     MOV     DPTR,#cmd
0014 7424              MOV     A,#024H
0016 F0                MOVX    @DPTR,A
0017 A3                INC     DPTR
0018 7407              MOV     A,#07H
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 95
001B 900000      R     MOV     DPTR,#size
001E E0                MOVX    A,@DPTR
001F FF                MOV     R7,A
0020 900000      R     MOV     DPTR,#cmd+02H
0023 E4                CLR     A
0024 F0                MOVX    @DPTR,A
0025 A3                INC     DPTR
0026 EF                MOV     A,R7
0027 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 96
0028 900000      R     MOV     DPTR,#j
002B 7402              MOV     A,#02H
002D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 97
002E E4                CLR     A
002F 900000      R     MOV     DPTR,#i
0032 F0                MOVX    @DPTR,A
0033         ?C0001:
0033 900000      R     MOV     DPTR,#size
0036 E0                MOVX    A,@DPTR
0037 FF                MOV     R7,A
0038 A3                INC     DPTR
0039 E0                MOVX    A,@DPTR
003A FE                MOV     R6,A
003B C3                CLR     C
003C 9F                SUBB    A,R7
003D 4003              JC      $ + 5H
003F 020000      R     LJMP    ?C0002
                                           ; SOURCE LINE # 98
0042 EE                MOV     A,R6
0043 75F009            MOV     B,#09H
0046 A4                MUL     AB
0047 FF                MOV     R7,A
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 6   

0048 900000      R     MOV     DPTR,#p_icon
004B E0                MOVX    A,@DPTR
004C FB                MOV     R3,A
004D A3                INC     DPTR
004E E0                MOVX    A,@DPTR
004F FA                MOV     R2,A
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 2F                ADD     A,R7
0053 F9                MOV     R1,A
0054 EA                MOV     A,R2
0055 35F0              ADDC    A,B
0057 FA                MOV     R2,A
0058 900001            MOV     DPTR,#01H
005B 120000      E     LCALL   ?C?ILDOPTR
005E FF                MOV     R7,A
005F 900000      R     MOV     DPTR,#j
0062 E0                MOVX    A,@DPTR
0063 25E0              ADD     A,ACC
0065 2400        R     ADD     A,#LOW cmd
0067 F582              MOV     DPL,A
0069 E4                CLR     A
006A 3400        R     ADDC    A,#HIGH cmd
006C F583              MOV     DPH,A
006E E5F0              MOV     A,B
0070 F0                MOVX    @DPTR,A
0071 A3                INC     DPTR
0072 EF                MOV     A,R7
0073 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 99
0074 900000      R     MOV     DPTR,#j
0077 E0                MOVX    A,@DPTR
0078 04                INC     A
0079 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 100
007A 900003            MOV     DPTR,#03H
007D 120000      E     LCALL   ?C?ILDOPTR
0080 FF                MOV     R7,A
0081 900000      R     MOV     DPTR,#j
0084 E0                MOVX    A,@DPTR
0085 25E0              ADD     A,ACC
0087 2400        R     ADD     A,#LOW cmd
0089 F582              MOV     DPL,A
008B E4                CLR     A
008C 3400        R     ADDC    A,#HIGH cmd
008E F583              MOV     DPH,A
0090 E5F0              MOV     A,B
0092 F0                MOVX    @DPTR,A
0093 A3                INC     DPTR
0094 EF                MOV     A,R7
0095 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 101
0096 900000      R     MOV     DPTR,#j
0099 E0                MOVX    A,@DPTR
009A 04                INC     A
009B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 102
009C 900000      R     MOV     DPTR,#p_icon
009F E0                MOVX    A,@DPTR
00A0 FB                MOV     R3,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 7   

00A3 FA                MOV     R2,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 F9                MOV     R1,A
00A7 900000      R     MOV     DPTR,#i
00AA E0                MOVX    A,@DPTR
00AB 75F009            MOV     B,#09H
00AE A4                MUL     AB
00AF F582              MOV     DPL,A
00B1 85F083            MOV     DPH,B
00B4 120000      E     LCALL   ?C?CLDOPTR
00B7 FF                MOV     R7,A
00B8 900000      R     MOV     DPTR,#j
00BB E0                MOVX    A,@DPTR
00BC 25E0              ADD     A,ACC
00BE 2400        R     ADD     A,#LOW cmd
00C0 F582              MOV     DPL,A
00C2 E4                CLR     A
00C3 3400        R     ADDC    A,#HIGH cmd
00C5 F583              MOV     DPH,A
00C7 E4                CLR     A
00C8 F0                MOVX    @DPTR,A
00C9 A3                INC     DPTR
00CA EF                MOV     A,R7
00CB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 103
00CC 900000      R     MOV     DPTR,#j
00CF E0                MOVX    A,@DPTR
00D0 04                INC     A
00D1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 104
00D2 900000      R     MOV     DPTR,#i
00D5 E0                MOVX    A,@DPTR
00D6 04                INC     A
00D7 F0                MOVX    @DPTR,A
00D8 020000      R     LJMP    ?C0001
00DB         ?C0002:
                                           ; SOURCE LINE # 105
00DB 900000      R     MOV     DPTR,#j
00DE E0                MOVX    A,@DPTR
00DF FD                MOV     R5,A
00E0 25E0              ADD     A,ACC
00E2 2400        R     ADD     A,#LOW cmd
00E4 F582              MOV     DPL,A
00E6 E4                CLR     A
00E7 3400        R     ADDC    A,#HIGH cmd
00E9 F583              MOV     DPH,A
00EB 74FF              MOV     A,#0FFH
00ED F0                MOVX    @DPTR,A
00EE A3                INC     DPTR
00EF E4                CLR     A
00F0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 106
00F1 900000      R     MOV     DPTR,#vp
00F4 E0                MOVX    A,@DPTR
00F5 FE                MOV     R6,A
00F6 A3                INC     DPTR
00F7 E0                MOVX    A,@DPTR
00F8 FF                MOV     R7,A
00F9 7B01              MOV     R3,#01H
00FB 7A00        R     MOV     R2,#HIGH cmd
00FD 7900        R     MOV     R1,#LOW cmd
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 8   

00FF 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0102 E4                CLR     A
0103 F0                MOVX    @DPTR,A
0104 A3                INC     DPTR
0105 ED                MOV     A,R5
0106 F0                MOVX    @DPTR,A
0107 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION _dgus_draw_icons (END)

             ; FUNCTION _make_menu_bar (BEGIN)
                                           ; SOURCE LINE # 110
0000 900000      R     MOV     DPTR,#vp
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
0008 900000      R     MOV     DPTR,#start_x
000B EA                MOV     A,R2
000C F0                MOVX    @DPTR,A
000D A3                INC     DPTR
000E EB                MOV     A,R3
000F F0                MOVX    @DPTR,A
;---- Variable 'is_vertical' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 111
                                           ; SOURCE LINE # 116
0010 ED                MOV     A,R5
0011 900000      R     MOV     DPTR,#ICON_RECT_SZ
0014 6012              JZ      ?C0005
                                           ; SOURCE LINE # 117
0016 E4                CLR     A
0017 93                MOVC    A,@A+DPTR
0018 FE                MOV     R6,A
0019 7401              MOV     A,#01H
001B 93                MOVC    A,@A+DPTR
001C FF                MOV     R7,A
001D C3                CLR     C
001E E4                CLR     A
001F 9F                SUBB    A,R7
0020 FF                MOV     R7,A
0021 E4                CLR     A
0022 9E                SUBB    A,R6
0023 900000      R     MOV     DPTR,#shift_y
0026 800A              SJMP    ?C0026
0028         ?C0005:
                                           ; SOURCE LINE # 119
0028 E4                CLR     A
0029 93                MOVC    A,@A+DPTR
002A FF                MOV     R7,A
002B 7401              MOV     A,#01H
002D 93                MOVC    A,@A+DPTR
002E 900000      R     MOV     DPTR,#shift_x
0031 CF                XCH     A,R7
0032         ?C0026:
0032 F0                MOVX    @DPTR,A
0033 A3                INC     DPTR
0034 EF                MOV     A,R7
0035 F0                MOVX    @DPTR,A
0036         ?C0006:
                                           ; SOURCE LINE # 121
0036 E4                CLR     A
0037 900000      R     MOV     DPTR,#i
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 9   

003A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 122
003B 900000      R     MOV     DPTR,#cur_menu_size
003E F0                MOVX    @DPTR,A
003F         ?C0007:
                                           ; SOURCE LINE # 123
003F E4                CLR     A
0040 FF                MOV     R7,A
0041 FE                MOV     R6,A
0042 FD                MOV     R5,A
0043 FC                MOV     R4,A
0044 900000      R     MOV     DPTR,#id_bm
0047 E0                MOVX    A,@DPTR
0048 F8                MOV     R0,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B F9                MOV     R1,A
004C A3                INC     DPTR
004D E0                MOVX    A,@DPTR
004E FA                MOV     R2,A
004F A3                INC     DPTR
0050 E0                MOVX    A,@DPTR
0051 FB                MOV     R3,A
0052 C3                CLR     C
0053 120000      E     LCALL   ?C?ULCMP
0056 7003              JNZ     $ + 5H
0058 020000      R     LJMP    ?C0008
                                           ; SOURCE LINE # 124
005B 900000      R     MOV     DPTR,#id_bm
005E A3                INC     DPTR
005F A3                INC     DPTR
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 5401              ANL     A,#01H
0064 FF                MOV     R7,A
0065 E4                CLR     A
0066 EF                MOV     A,R7
0067 7003              JNZ     $ + 5H
0069 020000      R     LJMP    ?C0009
                                           ; SOURCE LINE # 125
006C 900000      R     MOV     DPTR,#i
006F E0                MOVX    A,@DPTR
0070 FF                MOV     R7,A
0071 900000      R     MOV     DPTR,#cur_menu_size
0074 E0                MOVX    A,@DPTR
0075 FE                MOV     R6,A
0076 75F009            MOV     B,#09H
0079 A4                MUL     AB
007A 2400        R     ADD     A,#LOW cur_menu
007C F582              MOV     DPL,A
007E E5F0              MOV     A,B
0080 3400        R     ADDC    A,#HIGH cur_menu
0082 F583              MOV     DPH,A
0084 EF                MOV     A,R7
0085 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 126
0086 900000      R     MOV     DPTR,#start_x
0089 E0                MOVX    A,@DPTR
008A FC                MOV     R4,A
008B A3                INC     DPTR
008C E0                MOVX    A,@DPTR
008D FD                MOV     R5,A
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 10  

008E 75F009            MOV     B,#09H
0091 EE                MOV     A,R6
0092 A4                MUL     AB
0093 2400        R     ADD     A,#LOW cur_menu+01H
0095 F582              MOV     DPL,A
0097 E5F0              MOV     A,B
0099 3400        R     ADDC    A,#HIGH cur_menu+01H
009B F583              MOV     DPH,A
009D EC                MOV     A,R4
009E F0                MOVX    @DPTR,A
009F A3                INC     DPTR
00A0 ED                MOV     A,R5
00A1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 127
00A2 900000      R     MOV     DPTR,#start_y
00A5 E0                MOVX    A,@DPTR
00A6 FE                MOV     R6,A
00A7 A3                INC     DPTR
00A8 E0                MOVX    A,@DPTR
00A9 FF                MOV     R7,A
00AA 900000      R     MOV     DPTR,#cur_menu_size
00AD E0                MOVX    A,@DPTR
00AE FD                MOV     R5,A
00AF 75F009            MOV     B,#09H
00B2 A4                MUL     AB
00B3 2400        R     ADD     A,#LOW cur_menu+03H
00B5 F582              MOV     DPL,A
00B7 E5F0              MOV     A,B
00B9 3400        R     ADDC    A,#HIGH cur_menu+03H
00BB F583              MOV     DPH,A
00BD EE                MOV     A,R6
00BE F0                MOVX    @DPTR,A
00BF A3                INC     DPTR
00C0 EF                MOV     A,R7
00C1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 128
00C2 900000      R     MOV     DPTR,#ICON_RECT_SZ
00C5 E4                CLR     A
00C6 93                MOVC    A,@A+DPTR
00C7 FE                MOV     R6,A
00C8 7401              MOV     A,#01H
00CA 93                MOVC    A,@A+DPTR
00CB FF                MOV     R7,A
00CC 900000      R     MOV     DPTR,#start_x+01H
00CF E0                MOVX    A,@DPTR
00D0 2F                ADD     A,R7
00D1 FF                MOV     R7,A
00D2 900000      R     MOV     DPTR,#start_x
00D5 E0                MOVX    A,@DPTR
00D6 3E                ADDC    A,R6
00D7 FE                MOV     R6,A
00D8 75F009            MOV     B,#09H
00DB ED                MOV     A,R5
00DC A4                MUL     AB
00DD 2400        R     ADD     A,#LOW cur_menu+05H
00DF F582              MOV     DPL,A
00E1 E5F0              MOV     A,B
00E3 3400        R     ADDC    A,#HIGH cur_menu+05H
00E5 F583              MOV     DPH,A
00E7 EE                MOV     A,R6
00E8 F0                MOVX    @DPTR,A
00E9 A3                INC     DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 11  

00EA EF                MOV     A,R7
00EB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 129
00EC 900000      R     MOV     DPTR,#ICON_RECT_SZ
00EF E4                CLR     A
00F0 93                MOVC    A,@A+DPTR
00F1 FE                MOV     R6,A
00F2 7401              MOV     A,#01H
00F4 93                MOVC    A,@A+DPTR
00F5 FF                MOV     R7,A
00F6 900000      R     MOV     DPTR,#start_y+01H
00F9 E0                MOVX    A,@DPTR
00FA 2F                ADD     A,R7
00FB FF                MOV     R7,A
00FC 900000      R     MOV     DPTR,#start_y
00FF E0                MOVX    A,@DPTR
0100 3E                ADDC    A,R6
0101 FE                MOV     R6,A
0102 900000      R     MOV     DPTR,#cur_menu_size
0105 E0                MOVX    A,@DPTR
0106 75F009            MOV     B,#09H
0109 A4                MUL     AB
010A 2400        R     ADD     A,#LOW cur_menu+07H
010C F582              MOV     DPL,A
010E E5F0              MOV     A,B
0110 3400        R     ADDC    A,#HIGH cur_menu+07H
0112 F583              MOV     DPH,A
0114 EE                MOV     A,R6
0115 F0                MOVX    @DPTR,A
0116 A3                INC     DPTR
0117 EF                MOV     A,R7
0118 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 130
0119 900000      R     MOV     DPTR,#shift_x
011C E0                MOVX    A,@DPTR
011D FE                MOV     R6,A
011E A3                INC     DPTR
011F E0                MOVX    A,@DPTR
0120 FF                MOV     R7,A
0121 900000      R     MOV     DPTR,#start_x+01H
0124 E0                MOVX    A,@DPTR
0125 2F                ADD     A,R7
0126 F0                MOVX    @DPTR,A
0127 900000      R     MOV     DPTR,#start_x
012A E0                MOVX    A,@DPTR
012B 3E                ADDC    A,R6
012C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 131
012D 900000      R     MOV     DPTR,#shift_y
0130 E0                MOVX    A,@DPTR
0131 FE                MOV     R6,A
0132 A3                INC     DPTR
0133 E0                MOVX    A,@DPTR
0134 FF                MOV     R7,A
0135 900000      R     MOV     DPTR,#start_y+01H
0138 E0                MOVX    A,@DPTR
0139 2F                ADD     A,R7
013A F0                MOVX    @DPTR,A
013B 900000      R     MOV     DPTR,#start_y
013E E0                MOVX    A,@DPTR
013F 3E                ADDC    A,R6
0140 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 12  

                                           ; SOURCE LINE # 132
0141 900000      R     MOV     DPTR,#cur_menu_size
0144 E0                MOVX    A,@DPTR
0145 04                INC     A
0146 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 133
0147         ?C0009:
                                           ; SOURCE LINE # 134
0147 900000      R     MOV     DPTR,#id_bm
014A E0                MOVX    A,@DPTR
014B FC                MOV     R4,A
014C A3                INC     DPTR
014D E0                MOVX    A,@DPTR
014E FD                MOV     R5,A
014F A3                INC     DPTR
0150 E0                MOVX    A,@DPTR
0151 FE                MOV     R6,A
0152 A3                INC     DPTR
0153 E0                MOVX    A,@DPTR
0154 FF                MOV     R7,A
0155 7801              MOV     R0,#01H
0157 120000      E     LCALL   ?C?ULSHR
015A 900000      R     MOV     DPTR,#id_bm
015D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 135
0160 900000      R     MOV     DPTR,#i
0163 E0                MOVX    A,@DPTR
0164 04                INC     A
0165 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 136
0166 020000      R     LJMP    ?C0007
0169         ?C0008:
                                           ; SOURCE LINE # 138
0169 900000      R     MOV     DPTR,#cur_menu_fanc
016C E0                MOVX    A,@DPTR
016D F9                MOV     R1,A
016E A3                INC     DPTR
016F E0                MOVX    A,@DPTR
0170 FA                MOV     R2,A
0171 A3                INC     DPTR
0172 E0                MOVX    A,@DPTR
0173 900000      R     MOV     DPTR,#cur_menu_fanc
0176 C9                XCH     A,R1
0177 F0                MOVX    @DPTR,A
0178 A3                INC     DPTR
0179 EA                MOV     A,R2
017A F0                MOVX    @DPTR,A
017B A3                INC     DPTR
017C E9                MOV     A,R1
017D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 139
017E 900000      R     MOV     DPTR,#vp
0181 E0                MOVX    A,@DPTR
0182 FE                MOV     R6,A
0183 A3                INC     DPTR
0184 E0                MOVX    A,@DPTR
0185 FF                MOV     R7,A
0186 7B01              MOV     R3,#01H
0188 7A00        R     MOV     R2,#HIGH cur_menu
018A 7900        R     MOV     R1,#LOW cur_menu
018C 900000      R     MOV     DPTR,#cur_menu_size
018F E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 13  

0190 900000      R     MOV     DPTR,#?_dgus_draw_icons?BYTE+05H
0193 F0                MOVX    @DPTR,A
0194 020000      R     LJMP    _dgus_draw_icons
             ; FUNCTION _make_menu_bar (END)

             ; FUNCTION _bottom_level_controls (BEGIN)
                                           ; SOURCE LINE # 142
0000 900000      R     MOV     DPTR,#item_pos
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 143
                                           ; SOURCE LINE # 147
0005 E4                CLR     A
0006 900000      R     MOV     DPTR,#i
0009 F0                MOVX    @DPTR,A
000A         ?C0011:
000A 900000      R     MOV     DPTR,#i
000D E0                MOVX    A,@DPTR
000E FB                MOV     R3,A
000F C3                CLR     C
0010 9408              SUBB    A,#08H
0012 4003              JC      $ + 5H
0014 020000      R     LJMP    ?C0015
                                           ; SOURCE LINE # 148
0017 E4                CLR     A
0018 7F01              MOV     R7,#01H
001A FE                MOV     R6,A
001B FD                MOV     R5,A
001C FC                MOV     R4,A
001D 900000      R     MOV     DPTR,#item_pos
0020 E0                MOVX    A,@DPTR
0021 75F009            MOV     B,#09H
0024 A4                MUL     AB
0025 2400        R     ADD     A,#LOW cur_menu
0027 F582              MOV     DPL,A
0029 E5F0              MOV     A,B
002B 3400        R     ADDC    A,#HIGH cur_menu
002D F583              MOV     DPH,A
002F E0                MOVX    A,@DPTR
0030 F9                MOV     R1,A
0031 F8                MOV     R0,A
0032 120000      E     LCALL   ?C?LSHL
0035 EB                MOV     A,R3
0036 25E0              ADD     A,ACC
0038 25E0              ADD     A,ACC
003A 2400        R     ADD     A,#LOW menu_item_bm
003C F582              MOV     DPL,A
003E E4                CLR     A
003F 3400        R     ADDC    A,#HIGH menu_item_bm
0041 F583              MOV     DPH,A
0043 120000      E     LCALL   ?C?LLDCODE0
0046 EB                MOV     A,R3
0047 5F                ANL     A,R7
0048 FF                MOV     R7,A
0049 EA                MOV     A,R2
004A 5E                ANL     A,R6
004B FE                MOV     R6,A
004C E9                MOV     A,R1
004D 5D                ANL     A,R5
004E FD                MOV     R5,A
004F E8                MOV     A,R0
0050 5C                ANL     A,R4
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 14  

0051 FC                MOV     R4,A
0052 4D                ORL     A,R5
0053 4E                ORL     A,R6
0054 4F                ORL     A,R7
0055 7003              JNZ     $ + 5H
0057 020000      R     LJMP    ?C0013
                                           ; SOURCE LINE # 149
005A 900000      R     MOV     DPTR,#i
005D E0                MOVX    A,@DPTR
005E 25E0              ADD     A,ACC
0060 25E0              ADD     A,ACC
0062 2400        R     ADD     A,#LOW menu_item_bm
0064 F582              MOV     DPL,A
0066 E4                CLR     A
0067 3400        R     ADDC    A,#HIGH menu_item_bm
0069 F583              MOV     DPH,A
006B 120000      E     LCALL   ?C?LLDCODE
006E 900000      R     MOV     DPTR,#cur_active_items_id
0071 E0                MOVX    A,@DPTR
0072 25E0              ADD     A,ACC
0074 25E0              ADD     A,ACC
0076 2400        R     ADD     A,#LOW active_items
0078 F582              MOV     DPL,A
007A E4                CLR     A
007B 3400        R     ADDC    A,#HIGH active_items
007D F583              MOV     DPH,A
007F 120000      E     LCALL   ?C?LLDCODE0
0082 EB                MOV     A,R3
0083 5F                ANL     A,R7
0084 FF                MOV     R7,A
0085 EA                MOV     A,R2
0086 5E                ANL     A,R6
0087 FE                MOV     R6,A
0088 E9                MOV     A,R1
0089 5D                ANL     A,R5
008A FD                MOV     R5,A
008B E8                MOV     A,R0
008C 5C                ANL     A,R4
008D FC                MOV     R4,A
008E 900000      R     MOV     DPTR,#bm
0091 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 150
0094 900000      R     MOV     DPTR,#bm
0097 E0                MOVX    A,@DPTR
0098 F8                MOV     R0,A
0099 A3                INC     DPTR
009A E0                MOVX    A,@DPTR
009B F9                MOV     R1,A
009C A3                INC     DPTR
009D E0                MOVX    A,@DPTR
009E FA                MOV     R2,A
009F A3                INC     DPTR
00A0 E0                MOVX    A,@DPTR
00A1 FB                MOV     R3,A
00A2 C000              PUSH    AR0
00A4 C001              PUSH    AR1
00A6 E4                CLR     A
00A7 7F01              MOV     R7,#01H
00A9 FE                MOV     R6,A
00AA FD                MOV     R5,A
00AB FC                MOV     R4,A
00AC 900000      R     MOV     DPTR,#item_pos
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 15  

00AF E0                MOVX    A,@DPTR
00B0 75F009            MOV     B,#09H
00B3 A4                MUL     AB
00B4 2400        R     ADD     A,#LOW cur_menu
00B6 F582              MOV     DPL,A
00B8 E5F0              MOV     A,B
00BA 3400        R     ADDC    A,#HIGH cur_menu
00BC F583              MOV     DPH,A
00BE E0                MOVX    A,@DPTR
00BF F9                MOV     R1,A
00C0 F8                MOV     R0,A
00C1 120000      E     LCALL   ?C?LSHL
00C4 120000      E     LCALL   ?C?LNOT
00C7 D001              POP     AR1
00C9 D000              POP     AR0
00CB EB                MOV     A,R3
00CC 5F                ANL     A,R7
00CD FF                MOV     R7,A
00CE EA                MOV     A,R2
00CF 5E                ANL     A,R6
00D0 FE                MOV     R6,A
00D1 E9                MOV     A,R1
00D2 5D                ANL     A,R5
00D3 FD                MOV     R5,A
00D4 E8                MOV     A,R0
00D5 5C                ANL     A,R4
00D6 FC                MOV     R4,A
00D7 900000      R     MOV     DPTR,#bm
00DA 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 151
00DD 900000      R     MOV     DPTR,#item_pos
00E0 E0                MOVX    A,@DPTR
00E1 FF                MOV     R7,A
00E2 7E00              MOV     R6,#00H
00E4 900000      R     MOV     DPTR,#ICON_RECT_SZ
00E7 E4                CLR     A
00E8 93                MOVC    A,@A+DPTR
00E9 FC                MOV     R4,A
00EA 7401              MOV     A,#01H
00EC 93                MOVC    A,@A+DPTR
00ED FD                MOV     R5,A
00EE 120000      E     LCALL   ?C?IMUL
00F1 AA06              MOV     R2,AR6
00F3 AB07              MOV     R3,AR7
00F5 E4                CLR     A
00F6 900000      R     MOV     DPTR,#?_make_menu_bar?BYTE+05H
00F9 F0                MOVX    @DPTR,A
00FA A3                INC     DPTR
00FB F0                MOVX    @DPTR,A
00FC 900000      R     MOV     DPTR,#bm
00FF E0                MOVX    A,@DPTR
0100 FC                MOV     R4,A
0101 A3                INC     DPTR
0102 E0                MOVX    A,@DPTR
0103 FD                MOV     R5,A
0104 A3                INC     DPTR
0105 E0                MOVX    A,@DPTR
0106 FE                MOV     R6,A
0107 A3                INC     DPTR
0108 E0                MOVX    A,@DPTR
0109 FF                MOV     R7,A
010A 900000      R     MOV     DPTR,#?_make_menu_bar?BYTE+07H
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 16  

010D 120000      E     LCALL   ?C?LSTXDATA
0110 900000      R     MOV     DPTR,#?_make_menu_bar?BYTE+0BH
0113 74FF              MOV     A,#0FFH
0115 F0                MOVX    @DPTR,A
0116 A3                INC     DPTR
0117 7400        R     MOV     A,#HIGH _change_mode_control
0119 F0                MOVX    @DPTR,A
011A A3                INC     DPTR
011B 7400        R     MOV     A,#LOW _change_mode_control
011D F0                MOVX    @DPTR,A
011E 7D01              MOV     R5,#01H
0120 7F00              MOV     R7,#00H
0122 7E95              MOV     R6,#095H
0124 020000      R     LJMP    _make_menu_bar
                                           ; SOURCE LINE # 152
                                           ; SOURCE LINE # 153
                                           ; SOURCE LINE # 154
0127         ?C0013:
0127 900000      R     MOV     DPTR,#i
012A E0                MOVX    A,@DPTR
012B 04                INC     A
012C F0                MOVX    @DPTR,A
012D 020000      R     LJMP    ?C0011
                                           ; SOURCE LINE # 155
0130         ?C0015:
0130 22                RET     
             ; FUNCTION _bottom_level_controls (END)

             ; FUNCTION _change_mode_control (BEGIN)
                                           ; SOURCE LINE # 157
0000 900000      R     MOV     DPTR,#item_pos
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 158
                                           ; SOURCE LINE # 160
0005 E4                CLR     A
0006 A3                INC     DPTR
0007 F0                MOVX    @DPTR,A
0008         ?C0016:
0008 900000      R     MOV     DPTR,#i
000B E0                MOVX    A,@DPTR
000C FB                MOV     R3,A
000D C3                CLR     C
000E 9408              SUBB    A,#08H
0010 4003              JC      $ + 5H
0012 020000      R     LJMP    ?C0017
                                           ; SOURCE LINE # 161
0015 E4                CLR     A
0016 7F01              MOV     R7,#01H
0018 FE                MOV     R6,A
0019 FD                MOV     R5,A
001A FC                MOV     R4,A
001B 900000      R     MOV     DPTR,#item_pos
001E E0                MOVX    A,@DPTR
001F 75F009            MOV     B,#09H
0022 A4                MUL     AB
0023 2400        R     ADD     A,#LOW cur_menu
0025 F582              MOV     DPL,A
0027 E5F0              MOV     A,B
0029 3400        R     ADDC    A,#HIGH cur_menu
002B F583              MOV     DPH,A
002D E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 17  

002E F9                MOV     R1,A
002F F8                MOV     R0,A
0030 120000      E     LCALL   ?C?LSHL
0033 EB                MOV     A,R3
0034 25E0              ADD     A,ACC
0036 25E0              ADD     A,ACC
0038 2400        R     ADD     A,#LOW menu_item_bm
003A F582              MOV     DPL,A
003C E4                CLR     A
003D 3400        R     ADDC    A,#HIGH menu_item_bm
003F F583              MOV     DPH,A
0041 120000      E     LCALL   ?C?LLDCODE0
0044 EB                MOV     A,R3
0045 5F                ANL     A,R7
0046 FF                MOV     R7,A
0047 EA                MOV     A,R2
0048 5E                ANL     A,R6
0049 FE                MOV     R6,A
004A E9                MOV     A,R1
004B 5D                ANL     A,R5
004C FD                MOV     R5,A
004D E8                MOV     A,R0
004E 5C                ANL     A,R4
004F FC                MOV     R4,A
0050 4D                ORL     A,R5
0051 4E                ORL     A,R6
0052 4F                ORL     A,R7
0053 606E              JZ      ?C0018
                                           ; SOURCE LINE # 162
0055 7800        R     MOV     R0,#LOW main_menu_bm
0057 120000      E     LCALL   ?C?LLDIDATA0
005A 900000      R     MOV     DPTR,#i
005D E0                MOVX    A,@DPTR
005E 25E0              ADD     A,ACC
0060 25E0              ADD     A,ACC
0062 2400        R     ADD     A,#LOW menu_item_bm
0064 F582              MOV     DPL,A
0066 E4                CLR     A
0067 3400        R     ADDC    A,#HIGH menu_item_bm
0069 F583              MOV     DPH,A
006B 120000      E     LCALL   ?C?LLDCODE
006E 120000      E     LCALL   ?C?LNOT
0071 EB                MOV     A,R3
0072 5F                ANL     A,R7
0073 FF                MOV     R7,A
0074 EA                MOV     A,R2
0075 5E                ANL     A,R6
0076 FE                MOV     R6,A
0077 E9                MOV     A,R1
0078 5D                ANL     A,R5
0079 FD                MOV     R5,A
007A E8                MOV     A,R0
007B 5C                ANL     A,R4
007C FC                MOV     R4,A
007D 7800        R     MOV     R0,#LOW main_menu_bm
007F 120000      E     LCALL   ?C?LSTIDATA
                                           ; SOURCE LINE # 163
0082 7800        R     MOV     R0,#LOW main_menu_bm
0084 120000      E     LCALL   ?C?LLDIDATA0
0087 C000              PUSH    AR0
0089 C001              PUSH    AR1
008B E4                CLR     A
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 18  

008C 7F01              MOV     R7,#01H
008E FE                MOV     R6,A
008F FD                MOV     R5,A
0090 FC                MOV     R4,A
0091 900000      R     MOV     DPTR,#item_pos
0094 E0                MOVX    A,@DPTR
0095 75F009            MOV     B,#09H
0098 A4                MUL     AB
0099 2400        R     ADD     A,#LOW cur_menu
009B F582              MOV     DPL,A
009D E5F0              MOV     A,B
009F 3400        R     ADDC    A,#HIGH cur_menu
00A1 F583              MOV     DPH,A
00A3 E0                MOVX    A,@DPTR
00A4 F9                MOV     R1,A
00A5 F8                MOV     R0,A
00A6 120000      E     LCALL   ?C?LSHL
00A9 D001              POP     AR1
00AB D000              POP     AR0
00AD EB                MOV     A,R3
00AE 4F                ORL     A,R7
00AF FF                MOV     R7,A
00B0 EA                MOV     A,R2
00B1 4E                ORL     A,R6
00B2 FE                MOV     R6,A
00B3 E9                MOV     A,R1
00B4 4D                ORL     A,R5
00B5 FD                MOV     R5,A
00B6 E8                MOV     A,R0
00B7 4C                ORL     A,R4
00B8 FC                MOV     R4,A
00B9 7800        R     MOV     R0,#LOW main_menu_bm
00BB 120000      E     LCALL   ?C?LSTIDATA
                                           ; SOURCE LINE # 164
00BE 120000      R     LCALL   draw_bottom_menu
                                           ; SOURCE LINE # 165
00C1 8009              SJMP    ?C0017
                                           ; SOURCE LINE # 166
                                           ; SOURCE LINE # 167
00C3         ?C0018:
00C3 900000      R     MOV     DPTR,#i
00C6 E0                MOVX    A,@DPTR
00C7 04                INC     A
00C8 F0                MOVX    @DPTR,A
00C9 020000      R     LJMP    ?C0016
00CC         ?C0017:
                                           ; SOURCE LINE # 170
00CC 900000      R     MOV     DPTR,#item_pos
00CF E0                MOVX    A,@DPTR
00D0 75F009            MOV     B,#09H
00D3 A4                MUL     AB
00D4 2400        R     ADD     A,#LOW cur_menu
00D6 F582              MOV     DPL,A
00D8 E5F0              MOV     A,B
00DA 3400        R     ADDC    A,#HIGH cur_menu
00DC F583              MOV     DPH,A
00DE E0                MOVX    A,@DPTR
00DF 14                DEC     A
00E0 600D              JZ      ?C0022
00E2 14                DEC     A
00E3 6011              JZ      ?C0023
00E5 2402              ADD     A,#02H
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 19  

00E7 7013              JNZ     ?C0024
                                           ; SOURCE LINE # 171
                                           ; SOURCE LINE # 172
00E9         ?C0021:
                                           ; SOURCE LINE # 173
00E9 E4                CLR     A
00EA 900000      R     MOV     DPTR,#cur_active_items_id
00ED F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 174
00EE 22                RET     
                                           ; SOURCE LINE # 176
00EF         ?C0022:
                                           ; SOURCE LINE # 177
00EF 900000      R     MOV     DPTR,#cur_active_items_id
00F2 7401              MOV     A,#01H
00F4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 178
00F5 22                RET     
                                           ; SOURCE LINE # 180
00F6         ?C0023:
                                           ; SOURCE LINE # 181
00F6 900000      R     MOV     DPTR,#cur_active_items_id
00F9 7402              MOV     A,#02H
00FB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 182
                                           ; SOURCE LINE # 184
                                           ; SOURCE LINE # 185
00FC         ?C0024:
00FC 22                RET     
             ; FUNCTION _change_mode_control (END)

             ; FUNCTION draw_bottom_menu (BEGIN)
                                           ; SOURCE LINE # 189
                                           ; SOURCE LINE # 190
                                           ; SOURCE LINE # 191
0000 900000      R     MOV     DPTR,#ICON_RECT_SZ
0003 E4                CLR     A
0004 93                MOVC    A,@A+DPTR
0005 FE                MOV     R6,A
0006 7401              MOV     A,#01H
0008 93                MOVC    A,@A+DPTR
0009 FF                MOV     R7,A
000A C3                CLR     C
000B 7420              MOV     A,#020H
000D 9F                SUBB    A,R7
000E 900000      R     MOV     DPTR,#?_make_menu_bar?BYTE+06H
0011 F0                MOVX    @DPTR,A
0012 7403              MOV     A,#03H
0014 9E                SUBB    A,R6
0015 900000      R     MOV     DPTR,#?_make_menu_bar?BYTE+05H
0018 F0                MOVX    @DPTR,A
0019 7800        R     MOV     R0,#LOW main_menu_bm
001B 120000      E     LCALL   ?C?LLDIDATA
001E 900000      R     MOV     DPTR,#?_make_menu_bar?BYTE+07H
0021 120000      E     LCALL   ?C?LSTXDATA
0024 900000      R     MOV     DPTR,#?_make_menu_bar?BYTE+0BH
0027 74FF              MOV     A,#0FFH
0029 F0                MOVX    @DPTR,A
002A A3                INC     DPTR
002B 7400        R     MOV     A,#HIGH _bottom_level_controls
002D F0                MOVX    @DPTR,A
002E A3                INC     DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 20  

002F 7400        R     MOV     A,#LOW _bottom_level_controls
0031 F0                MOVX    @DPTR,A
0032 E4                CLR     A
0033 FB                MOV     R3,A
0034 FA                MOV     R2,A
0035 FD                MOV     R5,A
0036 FF                MOV     R7,A
0037 7E90              MOV     R6,#090H
0039 020000      R     LJMP    _make_menu_bar
             ; FUNCTION draw_bottom_menu (END)

C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 21  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


icon_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  ico. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  r. . . . . . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0001H  8
EIID_AC. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_D_10. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
cur_menu_size. . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0000H  1
EIID_H2O_OFF . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_D_20. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_2T. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_D_40. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_4T. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
rect_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  x0 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  y0 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  x1 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  y1 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
active_items . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0002H  12
EIID_D_32. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_PULSE_ON. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_D_24. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_D_16. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_TIG_SPOT. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_HF. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_write_dgus_vp . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
TIG_SPOT . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
EIID_NO_ICON . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_DC_PLUS . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_4T_PLUS . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MSPIFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
_mSPIFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
s8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
EIID_RECT. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_LIFT. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
u8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
MNORFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
_mNORFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 22  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
MEN_WELD_MOD . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_TRIG. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_TRAP. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MEN_FLOW_MOD . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
draw_bottom_menu . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
cur_menu_active. . . . . . . . . . . .  PUBLIC   XDATA  U_LONG   0001H  4
EIID_H2O_ON. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_PULSE_OFF . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_dgus_draw_icons . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  vp . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  p_icon . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0002H  3
  size . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0005H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0006H  1
  j. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0007H  1
  cmd. . . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0008H  200
MEN_D_MOD. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
ICON_RECT_SZ . . . . . . . . . . . . .  PUBLIC   CODE   U_INT    0000H  2
_make_menu_bar . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  vp . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  is_vertical. . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0005H  1
  start_x. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0003H  2
  start_y. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0005H  2
  id_bm. . . . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   0007H  4
  cur_menu_fanc. . . . . . . . . . . .  AUTO     XDATA  PTR      000BH  3
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   000EH  1
  shift_x. . . . . . . . . . . . . . .  AUTO     XDATA  INT      000FH  2
  shift_y. . . . . . . . . . . . . . .  AUTO     XDATA  INT      0011H  2
EIID_AC_MIX. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MMUSIC . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_mMUSIC. . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_change_mode_control . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  item_pos . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
EIID_MMA . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
s32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
icon_id. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
u32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
s16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
MMA. . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MEN_PLS_WAVE_SHAPE_MOD . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
u16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
_cur_menu_fanc . . . . . . . . . . . .  PUBLIC   XDATA  PTR      0005H  3
cur_active_items_id. . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0008H  1
MEN_IGN_MOD. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_TIG . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
C51 COMPILER V9.53.0.0   TEMP                                                              11/05/2023 18:55:48 PAGE 23  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


cur_menu . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0009H  288
TIG. . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MEN_BTN_MOD. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_SIN . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
MEN_POL_MOD. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_bottom_level_controls . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  item_pos . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  bm . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   0001H  4
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0005H  1
main_menu_bm . . . . . . . . . . . . .  PUBLIC   IDATA  U_LONG   0000H  4
MEN_PLS_MOD. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_DC_MINUS. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
menu_item_bm . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    000EH  32


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1291    ----
   CONSTANT SIZE    =     46    ----
   XDATA SIZE       =    297     235
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =      4    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
