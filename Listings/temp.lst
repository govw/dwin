C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE TEMP
OBJECT MODULE PLACED IN .\Objects\temp.obj
COMPILER INVOKED BY: D:\DWIN\Keil_v5\C51\BIN\C51.EXE source\temp.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\driver;.\sour
                    -ce) DEBUG OBJECTEXTEND CODE SYMBOLS PRINT(.\Listings\temp.lst) OBJECT(.\Objects\temp.obj)

line level    source

   1          #include "temp.h"
   2          #include "sys.h"
   3          #include "string.h"
   4          
   5          
   6          #define ARR_SIZE(x) (sizeof(x) / sizeof(x[0]))
   7          
   8          
   9          void draw_bottom_menu(void);
  10          void level_back(void);
  11          void do_nothing(u8 select);
  12          void gui_init(void);
  13          void bottom_level_controls(u8 select);
  14          void welding_mode_controls(u8 select);
  15          
  16          menu_t *cur_menu;
  17          u8 last_selected_menu_item;
  18          u8 prev_menu_item;
  19          
  20          
  21          enum{
  22              MEN_MOD,
  23              MEN_BTN_MOD,
  24              MEN_POL_MOD,
  25              MEN_IGN_MOD,
  26              MEN_PLS_MOD,
  27              MEN_D_MOD,
  28              MEN_FLOW_MOD,
  29          };
  30          
  31          
  32          
  33          //code icon_id tig_icons[]       = {EIID_TIG, EIID_DC_PLUS, EIID_TRIG, EIID_PULSE_OFF, EIID_D_10, EIID_2T,
             - EIID_H2O_OFF}; //иконки раежимов на главной панели
  34          code icon_id bottom[]=            {0, 1, 2, 3, 4, 5 ,6, 7, 8, 9, 10};
  35          code icon_id welding_mode[] =     {EIID_TIG, EIID_MMA, EIID_MIX};
  36          code icon_id tig_button_mod[] =   {EIID_2T, EIID_4T, EIID_4T_PLUS};
  37          code icon_id polarity[] =         {EIID_DC_MINUS, EIID_DC_PLUS, EIID_AC};
  38          code icon_id ignition_type[] =    {EIID_HF, EIID_LIFT};
  39          code icon_id pulse_state[] =      {EIID_PULSE_OFF, EIID_PULSE_ON};
  40          code icon_id electrode_d[] =      {EIID_D_10, EIID_D_16, EIID_D_20, EIID_D_40};
  41          code icon_id flow_sensor[] =      {EIID_H2O_OFF, EIID_H2O_ON};
  42          
  43          
  44          
  45          
  46          
  47          
  48          
  49          
  50          
  51          menu_item_t bottom_items         [ARR_SIZE(bottom)];
  52          menu_item_t welding_mode_items   [ARR_SIZE(welding_mode)];
  53          menu_item_t tig_button_mod_items [ARR_SIZE(tig_button_mod)];
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 2   

  54          menu_item_t polarity_items       [ARR_SIZE(polarity)];
  55          menu_item_t ignition_type_items  [ARR_SIZE(ignition_type)];
  56          menu_item_t pulse_state_items    [ARR_SIZE(pulse_state)];
  57          menu_item_t electrode_d_items    [ARR_SIZE(electrode_d)];
  58          menu_item_t flow_sensor_items    [ARR_SIZE(flow_sensor)];
  59          
  60          
  61          idata menu_t arr_of_menus[] = {
  62              { ARR_SIZE(bottom_items),             0xffff,     bottom_items,            bottom_level_controls},
  63              { ARR_SIZE(welding_mode_items),       0xffff,     welding_mode_items,      welding_mode_controls}, 
  64              { ARR_SIZE(tig_button_mod_items),     0xffff,     tig_button_mod_items,    welding_mode_controls},
  65              { ARR_SIZE(polarity_items),           0xffff,     polarity_items,          welding_mode_controls},
  66              { ARR_SIZE(ignition_type_items),      0xffff,     ignition_type_items,     welding_mode_controls},
  67              { ARR_SIZE(pulse_state_items),        0xffff,     pulse_state_items,       welding_mode_controls},
  68              { ARR_SIZE(electrode_d_items),        0xffff,     electrode_d_items,       welding_mode_controls},
  69              { ARR_SIZE(flow_sensor_items),        0xffff,     flow_sensor_items,       welding_mode_controls},
  70          };
  71          
  72          void gui_init(void)
  73          {
  74   1          u8 i, j;
  75   1          code icon_id *icon_ids[] = {
  76   1              bottom, welding_mode, tig_button_mod, polarity, ignition_type, pulse_state, electrode_d,  flow_sen
             -sor, 
  77   1          };
  78   1      
  79   1          for(i = 0; i < ARR_SIZE(icon_ids); i++) {
  80   2              for (j = 0; j < arr_of_menus[i].size; j++) {
  81   3                  arr_of_menus[i].items[j].ico = icon_ids[i][j]; 
  82   3              }
  83   2              
  84   2          }
  85   1      }
  86          
  87          void draw_icons(u16 vp, menu_t *p_menu)
  88          {
  89   1          u8 i, j;
  90   1          u8 size;
  91   1          u16 cmd[100];
  92   1          cmd[0] = 0x2407; //icon_write_instruction      
  93   1          
  94   1          j = 2;
  95   1          size = 0;
  96   1          for(i = 0; i < p_menu->size; i++) {
  97   2              if(p_menu->items[i].ico == EIID_NO_ICON) { //если нет картинки недобавлят
             -ь ее к отображению
  98   3                  continue;
  99   3              }
 100   2              cmd[j] = p_menu->items[i].r.x0;
 101   2              j++;
 102   2              cmd[j] = p_menu->items[i].r.y0;
 103   2              j++;
 104   2              cmd[j] = p_menu->items[i].ico;
 105   2              j++;
 106   2              size++;
 107   2          }
 108   1          cmd[1] = size; //display_icon_cnt
 109   1          cmd[j] = 0xFF00;
 110   1          write_dgus_vp(vp, (u8*)&cmd, j);
 111   1      }
 112          
 113          void toggle_menu(menu_t *p_menu)
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 3   

 114          {    
 115   1        
 116   1          
 117   1          {
 118   2              u8 i;
 119   2              const u16 icon_rect_sz = 100;
 120   2              u16 start_x = 0;
 121   2              u16 start_y = 700;
 122   2              for(i = 0; i < p_menu->size; i++) {
 123   3                  if((p_menu->active & (0x01 << i)) != 0) {
 124   4                      p_menu->items[i].r.x0 = start_x;
 125   4                      p_menu->items[i].r.y0 = start_y;
 126   4                      p_menu->items[i].r.x1 = start_x + icon_rect_sz;
 127   4                      p_menu->items[i].r.y1 = start_y + icon_rect_sz;
 128   4                      start_x += 100;
 129   4                  }
 130   3                  
 131   3              }
 132   2          }
 133   1          
 134   1          cur_menu = p_menu; // make this menu as main
 135   1          draw_icons(0x9000, p_menu);        
 136   1      }
 137          
 138          
 139          
 140          void draw_bottom_menu(void)
 141          {   
 142   1          gui_init();
 143   1          toggle_menu(&arr_of_menus[0]);
 144   1          //draw_menu(0x9000, &bottom_menu);
 145   1                
 146   1      }
 147          
 148          
 149          
 150          void bottom_level_controls(u8 select)
 151          { 
 152   1          menu_t *p_menu;
 153   1          if(select >= p_menu->size) 
 154   1              return;
 155   1          
 156   1          p_menu = &arr_of_menus[select + 1];
 157   1          
 158   1          {
 159   2              u8 i;
 160   2              const u16 icon_rect_sz = 100;
 161   2              u16 start_x = 0;
 162   2              u16 start_y = 600;
 163   2              for(i = 0; i < p_menu->size; i++) {
 164   3                  if((p_menu->active & (0x01 << i)) != 0) {
 165   4                      p_menu->items[i].r.x0 = start_x;
 166   4                      p_menu->items[i].r.y0 = start_y;
 167   4                      p_menu->items[i].r.x1 = start_x + icon_rect_sz;
 168   4                      p_menu->items[i].r.y1 = start_y + icon_rect_sz;
 169   4                      start_y -= 100;
 170   4                  }
 171   3              }
 172   2          }   
 173   1          cur_menu = p_menu; // make this menu as main
 174   1          draw_icons(0x9500, p_menu);        
 175   1      }
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 4   

 176          
 177          void welding_mode_controls(u8 select)
 178          {
 179   1          select = 0;
 180   1          {//clear vertical menu
 181   2              u16 tmp = 0x0000;
 182   2              write_dgus_vp(0x9500, (u8*)&tmp, 1); 
 183   2          }
 184   1          toggle_menu(&arr_of_menus[0]);
 185   1      }
 186          
 187          
 188          
 189          
 190          void draw_sub_menu(void)
 191          {
 192   1          // prev_menu_item = last_selected_menu_item;
 193   1          // draw_menu(0x9500, array_of_menus[last_selected_menu_item]);  
 194   1      }
 195          
 196          void do_nothing(u8 select)
 197          { 
 198   1          // u16 tmp = 0x0000;
 199   1          // write_dgus_vp(0x9500, (u8*)&tmp, 1); //clear vertical menu
 200   1          // bottom_menu.items[prev_menu_item].ico.id = p_cur_menu->items[last_selected_menu_item].ico.id;
 201   1          // draw_bottom_menu();    
 202   1      }
*** WARNING C280 IN LINE 196 OF source\temp.c: 'select': unreferenced local variable
 203          
 204          
 205          void level_back(void)
 206          {
 207   1          // u16 tmp = 0x0000;
 208   1          // write_dgus_vp(0x9500, (u8*)&tmp, 1); //clear vertical menu
 209   1          // draw_bottom_menu();
 210   1      }
 211          
 212          
 213          
 214          
 215          
 216          
 217          //mma menu
 218          
 219          
 220          
 221          
 222          
 223          
 224          
 225          
 226          
 227          
 228          
 229          
 230          
 231          
 232          
 233          
 234          
 235          
 236          
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 5   

 237          
 238          
 239          
 240          
 241          
 242          
 243          //    struct{
 244              //         u8 icon_library;
 245              //         u8 icon_write_instruction;
 246              //         u16 display_icon_cnt;
 247              //         ICON_T bottom_icons[11];
 248              //         u16 terminator;
 249              //     } temp = {
 250              //         36,
 251              //         0x07,
 252              //         11,//ico cnt
 253              //         {
 254              //             {0,   700, EIID_TIG},
 255              //             {100, 700, EIID_MMA},
 256              //             {200, 700, 2},
 257              //             {300, 700, EIID_MIX},
 258              //             {400, 700, EIID_2T},
 259              //             {500, 700, EIID_4T},
 260              //             {600, 700, EIID_4T_PLUS},
 261              //             {700, 700, EIID_TRAP},
 262              //             {800, 700, EIID_SIN},
 263              //             {900, 700, EIID_4T_PLUS},
 264              //             {100, 700, EIID_DC_MINUS},
 265              //         },   
 266              //         0xFF00,
 267              //     };   
 268                  
 269              //     write_dgus_vp(0x9000, (u8*) &temp, sizeof(temp) / 2); 
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 6   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION gui_init (BEGIN)
                                           ; SOURCE LINE # 72
                                           ; SOURCE LINE # 73
                                           ; SOURCE LINE # 79
;---- Variable 'i' assigned to Register 'R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002         ?C0001:
                                           ; SOURCE LINE # 80
;---- Variable 'j' assigned to Register 'R6' ----
0002 E4                CLR     A
0003 FE                MOV     R6,A
0004         ?C0004:
0004 EF                MOV     A,R7
0005 75F008            MOV     B,#08H
0008 A4                MUL     AB
0009 2400        R     ADD     A,#LOW arr_of_menus
000B F8                MOV     R0,A
000C E6                MOV     A,@R0
000D FD                MOV     R5,A
000E EE                MOV     A,R6
000F C3                CLR     C
0010 9D                SUBB    A,R5
0011 5043              JNC     ?C0003
                                           ; SOURCE LINE # 81
0013 EF                MOV     A,R7
0014 75F003            MOV     B,#03H
0017 A4                MUL     AB
0018 2400        R     ADD     A,#LOW icon_ids
001A F582              MOV     DPL,A
001C E4                CLR     A
001D 3400        R     ADDC    A,#HIGH icon_ids
001F F583              MOV     DPH,A
0021 E4                CLR     A
0022 93                MOVC    A,@A+DPTR
0023 FB                MOV     R3,A
0024 7401              MOV     A,#01H
0026 93                MOVC    A,@A+DPTR
0027 FA                MOV     R2,A
0028 7402              MOV     A,#02H
002A 93                MOVC    A,@A+DPTR
002B F9                MOV     R1,A
002C 8E82              MOV     DPL,R6
002E 758300            MOV     DPH,#00H
0031 120000      E     LCALL   ?C?CLDOPTR
0034 FD                MOV     R5,A
0035 EF                MOV     A,R7
0036 75F008            MOV     B,#08H
0039 A4                MUL     AB
003A 2400        R     ADD     A,#LOW arr_of_menus+03H
003C F8                MOV     R0,A
003D 8603              MOV     AR3,@R0
003F 08                INC     R0
0040 E6                MOV     A,@R0
0041 FA                MOV     R2,A
0042 08                INC     R0
0043 E6                MOV     A,@R0
0044 F9                MOV     R1,A
0045 75F009            MOV     B,#09H
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 7   

0048 EE                MOV     A,R6
0049 A4                MUL     AB
004A F582              MOV     DPL,A
004C 85F083            MOV     DPH,B
004F ED                MOV     A,R5
0050 120000      E     LCALL   ?C?CSTOPTR
                                           ; SOURCE LINE # 82
0053 0E                INC     R6
0054 80AE              SJMP    ?C0004
                                           ; SOURCE LINE # 84
0056         ?C0003:
0056 0F                INC     R7
0057 EF                MOV     A,R7
0058 B408A7            CJNE    A,#08H,?C0001
                                           ; SOURCE LINE # 85
005B         ?C0007:
005B 22                RET     
             ; FUNCTION gui_init (END)

             ; FUNCTION _draw_icons (BEGIN)
                                           ; SOURCE LINE # 87
0000 900000      R     MOV     DPTR,#vp
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 EB                MOV     A,R3
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EA                MOV     A,R2
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F E9                MOV     A,R1
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 88
                                           ; SOURCE LINE # 92
0011 900000      R     MOV     DPTR,#cmd
0014 7424              MOV     A,#024H
0016 F0                MOVX    @DPTR,A
0017 A3                INC     DPTR
0018 7407              MOV     A,#07H
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 94
001B 900000      R     MOV     DPTR,#j
001E 7402              MOV     A,#02H
0020 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 95
0021 E4                CLR     A
0022 A3                INC     DPTR
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 96
0024 900000      R     MOV     DPTR,#i
0027 F0                MOVX    @DPTR,A
0028         ?C0008:
0028 900000      R     MOV     DPTR,#p_menu
002B E0                MOVX    A,@DPTR
002C FB                MOV     R3,A
002D A3                INC     DPTR
002E E0                MOVX    A,@DPTR
002F FA                MOV     R2,A
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 8   

0030 A3                INC     DPTR
0031 E0                MOVX    A,@DPTR
0032 F9                MOV     R1,A
0033 120000      E     LCALL   ?C?CLDPTR
0036 FF                MOV     R7,A
0037 900000      R     MOV     DPTR,#i
003A E0                MOVX    A,@DPTR
003B FE                MOV     R6,A
003C C3                CLR     C
003D 9F                SUBB    A,R7
003E 4003              JC      $ + 5H
0040 020000      R     LJMP    ?C0009
                                           ; SOURCE LINE # 97
0043 900003            MOV     DPTR,#03H
0046 120000      E     LCALL   ?C?PLDOPTR
0049 75F009            MOV     B,#09H
004C EE                MOV     A,R6
004D A4                MUL     AB
004E F582              MOV     DPL,A
0050 85F083            MOV     DPH,B
0053 120000      E     LCALL   ?C?CLDOPTR
0056 6417              XRL     A,#017H
0058 7003              JNZ     $ + 5H
005A 020000      R     LJMP    ?C0010
                                           ; SOURCE LINE # 98
                                           ; SOURCE LINE # 99
005D         ?C0011:
                                           ; SOURCE LINE # 100
005D 900000      R     MOV     DPTR,#p_menu
0060 E0                MOVX    A,@DPTR
0061 FB                MOV     R3,A
0062 A3                INC     DPTR
0063 E0                MOVX    A,@DPTR
0064 FA                MOV     R2,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 F9                MOV     R1,A
0068 900003            MOV     DPTR,#03H
006B 120000      E     LCALL   ?C?PLDOPTR
006E 900000      R     MOV     DPTR,#i
0071 E0                MOVX    A,@DPTR
0072 75F009            MOV     B,#09H
0075 A4                MUL     AB
0076 29                ADD     A,R1
0077 F9                MOV     R1,A
0078 EA                MOV     A,R2
0079 35F0              ADDC    A,B
007B FA                MOV     R2,A
007C 900001            MOV     DPTR,#01H
007F 120000      E     LCALL   ?C?ILDOPTR
0082 FF                MOV     R7,A
0083 900000      R     MOV     DPTR,#j
0086 E0                MOVX    A,@DPTR
0087 25E0              ADD     A,ACC
0089 2400        R     ADD     A,#LOW cmd
008B F582              MOV     DPL,A
008D E4                CLR     A
008E 3400        R     ADDC    A,#HIGH cmd
0090 F583              MOV     DPH,A
0092 E5F0              MOV     A,B
0094 F0                MOVX    @DPTR,A
0095 A3                INC     DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 9   

0096 EF                MOV     A,R7
0097 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 101
0098 900000      R     MOV     DPTR,#j
009B E0                MOVX    A,@DPTR
009C 04                INC     A
009D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 102
009E 900000      R     MOV     DPTR,#p_menu
00A1 E0                MOVX    A,@DPTR
00A2 FB                MOV     R3,A
00A3 A3                INC     DPTR
00A4 E0                MOVX    A,@DPTR
00A5 FA                MOV     R2,A
00A6 A3                INC     DPTR
00A7 E0                MOVX    A,@DPTR
00A8 F9                MOV     R1,A
00A9 900003            MOV     DPTR,#03H
00AC 120000      E     LCALL   ?C?PLDOPTR
00AF 900000      R     MOV     DPTR,#i
00B2 E0                MOVX    A,@DPTR
00B3 75F009            MOV     B,#09H
00B6 A4                MUL     AB
00B7 29                ADD     A,R1
00B8 F9                MOV     R1,A
00B9 EA                MOV     A,R2
00BA 35F0              ADDC    A,B
00BC FA                MOV     R2,A
00BD 900003            MOV     DPTR,#03H
00C0 120000      E     LCALL   ?C?ILDOPTR
00C3 FF                MOV     R7,A
00C4 900000      R     MOV     DPTR,#j
00C7 E0                MOVX    A,@DPTR
00C8 25E0              ADD     A,ACC
00CA 2400        R     ADD     A,#LOW cmd
00CC F582              MOV     DPL,A
00CE E4                CLR     A
00CF 3400        R     ADDC    A,#HIGH cmd
00D1 F583              MOV     DPH,A
00D3 E5F0              MOV     A,B
00D5 F0                MOVX    @DPTR,A
00D6 A3                INC     DPTR
00D7 EF                MOV     A,R7
00D8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 103
00D9 900000      R     MOV     DPTR,#j
00DC E0                MOVX    A,@DPTR
00DD 04                INC     A
00DE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 104
00DF 900000      R     MOV     DPTR,#p_menu
00E2 E0                MOVX    A,@DPTR
00E3 FB                MOV     R3,A
00E4 A3                INC     DPTR
00E5 E0                MOVX    A,@DPTR
00E6 FA                MOV     R2,A
00E7 A3                INC     DPTR
00E8 E0                MOVX    A,@DPTR
00E9 F9                MOV     R1,A
00EA 900003            MOV     DPTR,#03H
00ED 120000      E     LCALL   ?C?PLDOPTR
00F0 900000      R     MOV     DPTR,#i
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 10  

00F3 E0                MOVX    A,@DPTR
00F4 75F009            MOV     B,#09H
00F7 A4                MUL     AB
00F8 F582              MOV     DPL,A
00FA 85F083            MOV     DPH,B
00FD 120000      E     LCALL   ?C?CLDOPTR
0100 FF                MOV     R7,A
0101 900000      R     MOV     DPTR,#j
0104 E0                MOVX    A,@DPTR
0105 25E0              ADD     A,ACC
0107 2400        R     ADD     A,#LOW cmd
0109 F582              MOV     DPL,A
010B E4                CLR     A
010C 3400        R     ADDC    A,#HIGH cmd
010E F583              MOV     DPH,A
0110 E4                CLR     A
0111 F0                MOVX    @DPTR,A
0112 A3                INC     DPTR
0113 EF                MOV     A,R7
0114 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 105
0115 900000      R     MOV     DPTR,#j
0118 E0                MOVX    A,@DPTR
0119 04                INC     A
011A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 106
011B A3                INC     DPTR
011C E0                MOVX    A,@DPTR
011D 04                INC     A
011E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 107
011F         ?C0010:
011F 900000      R     MOV     DPTR,#i
0122 E0                MOVX    A,@DPTR
0123 04                INC     A
0124 F0                MOVX    @DPTR,A
0125 020000      R     LJMP    ?C0008
0128         ?C0009:
                                           ; SOURCE LINE # 108
0128 900000      R     MOV     DPTR,#size
012B E0                MOVX    A,@DPTR
012C FF                MOV     R7,A
012D 900000      R     MOV     DPTR,#cmd+02H
0130 E4                CLR     A
0131 F0                MOVX    @DPTR,A
0132 A3                INC     DPTR
0133 EF                MOV     A,R7
0134 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 109
0135 900000      R     MOV     DPTR,#j
0138 E0                MOVX    A,@DPTR
0139 FD                MOV     R5,A
013A 25E0              ADD     A,ACC
013C 2400        R     ADD     A,#LOW cmd
013E F582              MOV     DPL,A
0140 E4                CLR     A
0141 3400        R     ADDC    A,#HIGH cmd
0143 F583              MOV     DPH,A
0145 74FF              MOV     A,#0FFH
0147 F0                MOVX    @DPTR,A
0148 A3                INC     DPTR
0149 E4                CLR     A
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 11  

014A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 110
014B 900000      R     MOV     DPTR,#vp
014E E0                MOVX    A,@DPTR
014F FE                MOV     R6,A
0150 A3                INC     DPTR
0151 E0                MOVX    A,@DPTR
0152 FF                MOV     R7,A
0153 7B01              MOV     R3,#01H
0155 7A00        R     MOV     R2,#HIGH cmd
0157 7900        R     MOV     R1,#LOW cmd
0159 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
015C E4                CLR     A
015D F0                MOVX    @DPTR,A
015E A3                INC     DPTR
015F ED                MOV     A,R5
0160 F0                MOVX    @DPTR,A
0161 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION _draw_icons (END)

             ; FUNCTION _toggle_menu (BEGIN)
                                           ; SOURCE LINE # 113
0000 900000      R     MOV     DPTR,#p_menu
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 114
                                           ; SOURCE LINE # 117
                                           ; SOURCE LINE # 119
000B 900000      R     MOV     DPTR,#icon_rect_sz
000E E4                CLR     A
000F F0                MOVX    @DPTR,A
0010 A3                INC     DPTR
0011 7464              MOV     A,#064H
0013 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 120
0014 E4                CLR     A
0015 A3                INC     DPTR
0016 F0                MOVX    @DPTR,A
0017 A3                INC     DPTR
0018 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 121
0019 A3                INC     DPTR
001A 7402              MOV     A,#02H
001C F0                MOVX    @DPTR,A
001D A3                INC     DPTR
001E 74BC              MOV     A,#0BCH
0020 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 122
0021 E4                CLR     A
0022 900000      R     MOV     DPTR,#i
0025 F0                MOVX    @DPTR,A
0026         ?C0013:
0026 900000      R     MOV     DPTR,#p_menu
0029 E0                MOVX    A,@DPTR
002A FB                MOV     R3,A
002B A3                INC     DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 12  

002C E0                MOVX    A,@DPTR
002D FA                MOV     R2,A
002E A3                INC     DPTR
002F E0                MOVX    A,@DPTR
0030 F9                MOV     R1,A
0031 120000      E     LCALL   ?C?CLDPTR
0034 FF                MOV     R7,A
0035 900000      R     MOV     DPTR,#i
0038 E0                MOVX    A,@DPTR
0039 FE                MOV     R6,A
003A C3                CLR     C
003B 9F                SUBB    A,R7
003C 4003              JC      $ + 5H
003E 020000      R     LJMP    ?C0014
                                           ; SOURCE LINE # 123
0041 900001            MOV     DPTR,#01H
0044 120000      E     LCALL   ?C?ILDOPTR
0047 FD                MOV     R5,A
0048 ACF0              MOV     R4,B
004A A806              MOV     R0,AR6
004C 7401              MOV     A,#01H
004E 7E00              MOV     R6,#00H
0050 08                INC     R0
0051 8005              SJMP    ?C0030
0053         ?C0029:
0053 C3                CLR     C
0054 33                RLC     A
0055 CE                XCH     A,R6
0056 33                RLC     A
0057 CE                XCH     A,R6
0058         ?C0030:
0058 D8F9              DJNZ    R0,?C0029
005A FF                MOV     R7,A
005B EE                MOV     A,R6
005C 5C                ANL     A,R4
005D FE                MOV     R6,A
005E EF                MOV     A,R7
005F 5D                ANL     A,R5
0060 4E                ORL     A,R6
0061 7003              JNZ     $ + 5H
0063 020000      R     LJMP    ?C0015
                                           ; SOURCE LINE # 124
0066 900000      R     MOV     DPTR,#start_x
0069 E0                MOVX    A,@DPTR
006A FC                MOV     R4,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FD                MOV     R5,A
006E 900003            MOV     DPTR,#03H
0071 120000      E     LCALL   ?C?PLDOPTR
0074 900000      R     MOV     DPTR,#i
0077 E0                MOVX    A,@DPTR
0078 75F009            MOV     B,#09H
007B A4                MUL     AB
007C FF                MOV     R7,A
007D AEF0              MOV     R6,B
007F 29                ADD     A,R1
0080 F9                MOV     R1,A
0081 EA                MOV     A,R2
0082 3E                ADDC    A,R6
0083 FA                MOV     R2,A
0084 900001            MOV     DPTR,#01H
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 13  

0087 EC                MOV     A,R4
0088 8DF0              MOV     B,R5
008A 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 125
008D 900000      R     MOV     DPTR,#start_y
0090 E0                MOVX    A,@DPTR
0091 FC                MOV     R4,A
0092 A3                INC     DPTR
0093 E0                MOVX    A,@DPTR
0094 FD                MOV     R5,A
0095 900000      R     MOV     DPTR,#p_menu
0098 E0                MOVX    A,@DPTR
0099 FB                MOV     R3,A
009A A3                INC     DPTR
009B E0                MOVX    A,@DPTR
009C FA                MOV     R2,A
009D A3                INC     DPTR
009E E0                MOVX    A,@DPTR
009F F9                MOV     R1,A
00A0 900003            MOV     DPTR,#03H
00A3 120000      E     LCALL   ?C?PLDOPTR
00A6 E9                MOV     A,R1
00A7 2F                ADD     A,R7
00A8 F9                MOV     R1,A
00A9 EA                MOV     A,R2
00AA 3E                ADDC    A,R6
00AB FA                MOV     R2,A
00AC 900003            MOV     DPTR,#03H
00AF EC                MOV     A,R4
00B0 8DF0              MOV     B,R5
00B2 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 126
00B5 900000      R     MOV     DPTR,#icon_rect_sz
00B8 E0                MOVX    A,@DPTR
00B9 FE                MOV     R6,A
00BA A3                INC     DPTR
00BB E0                MOVX    A,@DPTR
00BC FF                MOV     R7,A
00BD 900000      R     MOV     DPTR,#start_x+01H
00C0 E0                MOVX    A,@DPTR
00C1 2F                ADD     A,R7
00C2 FD                MOV     R5,A
00C3 900000      R     MOV     DPTR,#start_x
00C6 E0                MOVX    A,@DPTR
00C7 3E                ADDC    A,R6
00C8 FC                MOV     R4,A
00C9 900000      R     MOV     DPTR,#p_menu
00CC E0                MOVX    A,@DPTR
00CD FB                MOV     R3,A
00CE A3                INC     DPTR
00CF E0                MOVX    A,@DPTR
00D0 FA                MOV     R2,A
00D1 A3                INC     DPTR
00D2 E0                MOVX    A,@DPTR
00D3 F9                MOV     R1,A
00D4 900003            MOV     DPTR,#03H
00D7 120000      E     LCALL   ?C?PLDOPTR
00DA 900000      R     MOV     DPTR,#i
00DD E0                MOVX    A,@DPTR
00DE 75F009            MOV     B,#09H
00E1 A4                MUL     AB
00E2 29                ADD     A,R1
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 14  

00E3 F9                MOV     R1,A
00E4 EA                MOV     A,R2
00E5 35F0              ADDC    A,B
00E7 FA                MOV     R2,A
00E8 900005            MOV     DPTR,#05H
00EB EC                MOV     A,R4
00EC 8DF0              MOV     B,R5
00EE 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 127
00F1 900000      R     MOV     DPTR,#icon_rect_sz
00F4 E0                MOVX    A,@DPTR
00F5 FE                MOV     R6,A
00F6 A3                INC     DPTR
00F7 E0                MOVX    A,@DPTR
00F8 FF                MOV     R7,A
00F9 900000      R     MOV     DPTR,#start_y+01H
00FC E0                MOVX    A,@DPTR
00FD 2F                ADD     A,R7
00FE FD                MOV     R5,A
00FF 900000      R     MOV     DPTR,#start_y
0102 E0                MOVX    A,@DPTR
0103 3E                ADDC    A,R6
0104 FC                MOV     R4,A
0105 900000      R     MOV     DPTR,#p_menu
0108 E0                MOVX    A,@DPTR
0109 FB                MOV     R3,A
010A A3                INC     DPTR
010B E0                MOVX    A,@DPTR
010C FA                MOV     R2,A
010D A3                INC     DPTR
010E E0                MOVX    A,@DPTR
010F F9                MOV     R1,A
0110 900003            MOV     DPTR,#03H
0113 120000      E     LCALL   ?C?PLDOPTR
0116 900000      R     MOV     DPTR,#i
0119 E0                MOVX    A,@DPTR
011A 75F009            MOV     B,#09H
011D A4                MUL     AB
011E 29                ADD     A,R1
011F F9                MOV     R1,A
0120 EA                MOV     A,R2
0121 35F0              ADDC    A,B
0123 FA                MOV     R2,A
0124 900007            MOV     DPTR,#07H
0127 EC                MOV     A,R4
0128 8DF0              MOV     B,R5
012A 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 128
012D 900000      R     MOV     DPTR,#start_x+01H
0130 E0                MOVX    A,@DPTR
0131 2464              ADD     A,#064H
0133 F0                MOVX    @DPTR,A
0134 900000      R     MOV     DPTR,#start_x
0137 E0                MOVX    A,@DPTR
0138 3400              ADDC    A,#00H
013A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 129
                                           ; SOURCE LINE # 131
013B         ?C0015:
013B 900000      R     MOV     DPTR,#i
013E E0                MOVX    A,@DPTR
013F 04                INC     A
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 15  

0140 F0                MOVX    @DPTR,A
0141 020000      R     LJMP    ?C0013
0144         ?C0014:
                                           ; SOURCE LINE # 132
                                           ; SOURCE LINE # 134
0144 900000      R     MOV     DPTR,#p_menu
0147 E0                MOVX    A,@DPTR
0148 F9                MOV     R1,A
0149 A3                INC     DPTR
014A E0                MOVX    A,@DPTR
014B FA                MOV     R2,A
014C A3                INC     DPTR
014D E0                MOVX    A,@DPTR
014E 900000      R     MOV     DPTR,#cur_menu
0151 C9                XCH     A,R1
0152 F0                MOVX    @DPTR,A
0153 A3                INC     DPTR
0154 EA                MOV     A,R2
0155 F0                MOVX    @DPTR,A
0156 A3                INC     DPTR
0157 E9                MOV     A,R1
0158 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 135
0159 900000      R     MOV     DPTR,#p_menu
015C E0                MOVX    A,@DPTR
015D FB                MOV     R3,A
015E A3                INC     DPTR
015F A3                INC     DPTR
0160 E0                MOVX    A,@DPTR
0161 F9                MOV     R1,A
0162 7F00              MOV     R7,#00H
0164 7E90              MOV     R6,#090H
0166 020000      R     LJMP    _draw_icons
             ; FUNCTION _toggle_menu (END)

             ; FUNCTION draw_bottom_menu (BEGIN)
                                           ; SOURCE LINE # 140
                                           ; SOURCE LINE # 141
                                           ; SOURCE LINE # 142
0000 120000      R     LCALL   gui_init
                                           ; SOURCE LINE # 143
0003 7B00              MOV     R3,#00H
0005 7A00        R     MOV     R2,#HIGH arr_of_menus
0007 7900        R     MOV     R1,#LOW arr_of_menus
0009 020000      R     LJMP    _toggle_menu
             ; FUNCTION draw_bottom_menu (END)

             ; FUNCTION _bottom_level_controls (BEGIN)
                                           ; SOURCE LINE # 150
;---- Variable 'select' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 151
                                           ; SOURCE LINE # 153
0000 900000      R     MOV     DPTR,#p_menu
0003 E0                MOVX    A,@DPTR
0004 FB                MOV     R3,A
0005 A3                INC     DPTR
0006 E0                MOVX    A,@DPTR
0007 FA                MOV     R2,A
0008 A3                INC     DPTR
0009 E0                MOVX    A,@DPTR
000A F9                MOV     R1,A
000B 120000      E     LCALL   ?C?CLDPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 16  

000E FE                MOV     R6,A
000F EF                MOV     A,R7
0010 C3                CLR     C
0011 9E                SUBB    A,R6
0012 4003              JC      $ + 5H
0014 020000      R     LJMP    ?C0020
0017         ?C0019:
                                           ; SOURCE LINE # 156
0017 EF                MOV     A,R7
0018 75F008            MOV     B,#08H
001B A4                MUL     AB
001C 2400        R     ADD     A,#LOW arr_of_menus+08H
001E F9                MOV     R1,A
001F E4                CLR     A
0020 FB                MOV     R3,A
0021 900000      R     MOV     DPTR,#p_menu
0024 F0                MOVX    @DPTR,A
0025 A3                INC     DPTR
0026 CB                XCH     A,R3
0027 F0                MOVX    @DPTR,A
0028 A3                INC     DPTR
0029 E9                MOV     A,R1
002A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 158
                                           ; SOURCE LINE # 160
002B 900000      R     MOV     DPTR,#icon_rect_sz
002E E4                CLR     A
002F F0                MOVX    @DPTR,A
0030 A3                INC     DPTR
0031 7464              MOV     A,#064H
0033 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 161
0034 E4                CLR     A
0035 A3                INC     DPTR
0036 F0                MOVX    @DPTR,A
0037 A3                INC     DPTR
0038 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 162
0039 A3                INC     DPTR
003A 7402              MOV     A,#02H
003C F0                MOVX    @DPTR,A
003D A3                INC     DPTR
003E 7458              MOV     A,#058H
0040 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 163
0041 E4                CLR     A
0042 900000      R     MOV     DPTR,#i
0045 F0                MOVX    @DPTR,A
0046         ?C0021:
0046 900000      R     MOV     DPTR,#p_menu
0049 E0                MOVX    A,@DPTR
004A FB                MOV     R3,A
004B A3                INC     DPTR
004C E0                MOVX    A,@DPTR
004D FA                MOV     R2,A
004E A3                INC     DPTR
004F E0                MOVX    A,@DPTR
0050 F9                MOV     R1,A
0051 120000      E     LCALL   ?C?CLDPTR
0054 FF                MOV     R7,A
0055 900000      R     MOV     DPTR,#i
0058 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 17  

0059 FE                MOV     R6,A
005A C3                CLR     C
005B 9F                SUBB    A,R7
005C 4003              JC      $ + 5H
005E 020000      R     LJMP    ?C0022
                                           ; SOURCE LINE # 164
0061 900001            MOV     DPTR,#01H
0064 120000      E     LCALL   ?C?ILDOPTR
0067 FD                MOV     R5,A
0068 ACF0              MOV     R4,B
006A A806              MOV     R0,AR6
006C 7401              MOV     A,#01H
006E 7E00              MOV     R6,#00H
0070 08                INC     R0
0071 8005              SJMP    ?C0032
0073         ?C0031:
0073 C3                CLR     C
0074 33                RLC     A
0075 CE                XCH     A,R6
0076 33                RLC     A
0077 CE                XCH     A,R6
0078         ?C0032:
0078 D8F9              DJNZ    R0,?C0031
007A FF                MOV     R7,A
007B EE                MOV     A,R6
007C 5C                ANL     A,R4
007D FE                MOV     R6,A
007E EF                MOV     A,R7
007F 5D                ANL     A,R5
0080 4E                ORL     A,R6
0081 7003              JNZ     $ + 5H
0083 020000      R     LJMP    ?C0023
                                           ; SOURCE LINE # 165
0086 900000      R     MOV     DPTR,#start_x
0089 E0                MOVX    A,@DPTR
008A FC                MOV     R4,A
008B A3                INC     DPTR
008C E0                MOVX    A,@DPTR
008D FD                MOV     R5,A
008E 900003            MOV     DPTR,#03H
0091 120000      E     LCALL   ?C?PLDOPTR
0094 900000      R     MOV     DPTR,#i
0097 E0                MOVX    A,@DPTR
0098 75F009            MOV     B,#09H
009B A4                MUL     AB
009C FF                MOV     R7,A
009D AEF0              MOV     R6,B
009F 29                ADD     A,R1
00A0 F9                MOV     R1,A
00A1 EA                MOV     A,R2
00A2 3E                ADDC    A,R6
00A3 FA                MOV     R2,A
00A4 900001            MOV     DPTR,#01H
00A7 EC                MOV     A,R4
00A8 8DF0              MOV     B,R5
00AA 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 166
00AD 900000      R     MOV     DPTR,#start_y
00B0 E0                MOVX    A,@DPTR
00B1 FC                MOV     R4,A
00B2 A3                INC     DPTR
00B3 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 18  

00B4 FD                MOV     R5,A
00B5 900000      R     MOV     DPTR,#p_menu
00B8 E0                MOVX    A,@DPTR
00B9 FB                MOV     R3,A
00BA A3                INC     DPTR
00BB E0                MOVX    A,@DPTR
00BC FA                MOV     R2,A
00BD A3                INC     DPTR
00BE E0                MOVX    A,@DPTR
00BF F9                MOV     R1,A
00C0 900003            MOV     DPTR,#03H
00C3 120000      E     LCALL   ?C?PLDOPTR
00C6 E9                MOV     A,R1
00C7 2F                ADD     A,R7
00C8 F9                MOV     R1,A
00C9 EA                MOV     A,R2
00CA 3E                ADDC    A,R6
00CB FA                MOV     R2,A
00CC 900003            MOV     DPTR,#03H
00CF EC                MOV     A,R4
00D0 8DF0              MOV     B,R5
00D2 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 167
00D5 900000      R     MOV     DPTR,#icon_rect_sz
00D8 E0                MOVX    A,@DPTR
00D9 FE                MOV     R6,A
00DA A3                INC     DPTR
00DB E0                MOVX    A,@DPTR
00DC FF                MOV     R7,A
00DD 900000      R     MOV     DPTR,#start_x+01H
00E0 E0                MOVX    A,@DPTR
00E1 2F                ADD     A,R7
00E2 FD                MOV     R5,A
00E3 900000      R     MOV     DPTR,#start_x
00E6 E0                MOVX    A,@DPTR
00E7 3E                ADDC    A,R6
00E8 FC                MOV     R4,A
00E9 900000      R     MOV     DPTR,#p_menu
00EC E0                MOVX    A,@DPTR
00ED FB                MOV     R3,A
00EE A3                INC     DPTR
00EF E0                MOVX    A,@DPTR
00F0 FA                MOV     R2,A
00F1 A3                INC     DPTR
00F2 E0                MOVX    A,@DPTR
00F3 F9                MOV     R1,A
00F4 900003            MOV     DPTR,#03H
00F7 120000      E     LCALL   ?C?PLDOPTR
00FA 900000      R     MOV     DPTR,#i
00FD E0                MOVX    A,@DPTR
00FE 75F009            MOV     B,#09H
0101 A4                MUL     AB
0102 29                ADD     A,R1
0103 F9                MOV     R1,A
0104 EA                MOV     A,R2
0105 35F0              ADDC    A,B
0107 FA                MOV     R2,A
0108 900005            MOV     DPTR,#05H
010B EC                MOV     A,R4
010C 8DF0              MOV     B,R5
010E 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 168
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 19  

0111 900000      R     MOV     DPTR,#icon_rect_sz
0114 E0                MOVX    A,@DPTR
0115 FE                MOV     R6,A
0116 A3                INC     DPTR
0117 E0                MOVX    A,@DPTR
0118 FF                MOV     R7,A
0119 900000      R     MOV     DPTR,#start_y+01H
011C E0                MOVX    A,@DPTR
011D 2F                ADD     A,R7
011E FD                MOV     R5,A
011F 900000      R     MOV     DPTR,#start_y
0122 E0                MOVX    A,@DPTR
0123 3E                ADDC    A,R6
0124 FC                MOV     R4,A
0125 900000      R     MOV     DPTR,#p_menu
0128 E0                MOVX    A,@DPTR
0129 FB                MOV     R3,A
012A A3                INC     DPTR
012B E0                MOVX    A,@DPTR
012C FA                MOV     R2,A
012D A3                INC     DPTR
012E E0                MOVX    A,@DPTR
012F F9                MOV     R1,A
0130 900003            MOV     DPTR,#03H
0133 120000      E     LCALL   ?C?PLDOPTR
0136 900000      R     MOV     DPTR,#i
0139 E0                MOVX    A,@DPTR
013A 75F009            MOV     B,#09H
013D A4                MUL     AB
013E 29                ADD     A,R1
013F F9                MOV     R1,A
0140 EA                MOV     A,R2
0141 35F0              ADDC    A,B
0143 FA                MOV     R2,A
0144 900007            MOV     DPTR,#07H
0147 EC                MOV     A,R4
0148 8DF0              MOV     B,R5
014A 120000      E     LCALL   ?C?ISTOPTR
                                           ; SOURCE LINE # 169
014D 900000      R     MOV     DPTR,#start_y+01H
0150 E0                MOVX    A,@DPTR
0151 249C              ADD     A,#09CH
0153 F0                MOVX    @DPTR,A
0154 900000      R     MOV     DPTR,#start_y
0157 E0                MOVX    A,@DPTR
0158 34FF              ADDC    A,#0FFH
015A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 170
                                           ; SOURCE LINE # 171
015B         ?C0023:
015B 900000      R     MOV     DPTR,#i
015E E0                MOVX    A,@DPTR
015F 04                INC     A
0160 F0                MOVX    @DPTR,A
0161 020000      R     LJMP    ?C0021
0164         ?C0022:
                                           ; SOURCE LINE # 172
                                           ; SOURCE LINE # 173
0164 900000      R     MOV     DPTR,#p_menu
0167 E0                MOVX    A,@DPTR
0168 F9                MOV     R1,A
0169 A3                INC     DPTR
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 20  

016A E0                MOVX    A,@DPTR
016B FA                MOV     R2,A
016C A3                INC     DPTR
016D E0                MOVX    A,@DPTR
016E 900000      R     MOV     DPTR,#cur_menu
0171 C9                XCH     A,R1
0172 F0                MOVX    @DPTR,A
0173 A3                INC     DPTR
0174 EA                MOV     A,R2
0175 F0                MOVX    @DPTR,A
0176 A3                INC     DPTR
0177 E9                MOV     A,R1
0178 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 174
0179 900000      R     MOV     DPTR,#p_menu
017C E0                MOVX    A,@DPTR
017D FB                MOV     R3,A
017E A3                INC     DPTR
017F A3                INC     DPTR
0180 E0                MOVX    A,@DPTR
0181 F9                MOV     R1,A
0182 7F00              MOV     R7,#00H
0184 7E95              MOV     R6,#095H
0186 120000      R     LCALL   _draw_icons
                                           ; SOURCE LINE # 175
0189         ?C0020:
0189 22                RET     
             ; FUNCTION _bottom_level_controls (END)

             ; FUNCTION _welding_mode_controls (BEGIN)
                                           ; SOURCE LINE # 177
;---- Variable 'select' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 178
                                           ; SOURCE LINE # 179
0000 E4                CLR     A
0001 FF                MOV     R7,A
                                           ; SOURCE LINE # 180
                                           ; SOURCE LINE # 181
0002 900000      R     MOV     DPTR,#tmp
0005 F0                MOVX    @DPTR,A
0006 A3                INC     DPTR
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 182
0008 7B01              MOV     R3,#01H
000A 7A00        R     MOV     R2,#HIGH tmp
000C 7900        R     MOV     R1,#LOW tmp
000E 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0011 F0                MOVX    @DPTR,A
0012 A3                INC     DPTR
0013 04                INC     A
0014 F0                MOVX    @DPTR,A
0015 7E95              MOV     R6,#095H
0017 120000      E     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 183
                                           ; SOURCE LINE # 184
001A 7B00              MOV     R3,#00H
001C 7A00        R     MOV     R2,#HIGH arr_of_menus
001E 7900        R     MOV     R1,#LOW arr_of_menus
0020 020000      R     LJMP    _toggle_menu
             ; FUNCTION _welding_mode_controls (END)

             ; FUNCTION draw_sub_menu (BEGIN)
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 21  

                                           ; SOURCE LINE # 190
                                           ; SOURCE LINE # 191
                                           ; SOURCE LINE # 194
0000 22                RET     
             ; FUNCTION draw_sub_menu (END)

             ; FUNCTION _do_nothing (BEGIN)
                                           ; SOURCE LINE # 196
0000 900000      R     MOV     DPTR,#select
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 197
                                           ; SOURCE LINE # 202
0005 22                RET     
             ; FUNCTION _do_nothing (END)

             ; FUNCTION level_back (BEGIN)
                                           ; SOURCE LINE # 205
                                           ; SOURCE LINE # 206
                                           ; SOURCE LINE # 210
0000 22                RET     
             ; FUNCTION level_back (END)

C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 22  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


polarity_items . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0000H  27
EIID_AC. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
electrode_d. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0018H  4
EIID_D_10. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_H2O_OFF . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_D_20. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_2T. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_D_40. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_4T. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_PULSE_ON. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
electrode_d_items. . . . . . . . . . .  PUBLIC   XDATA  ARRAY    001BH  36
EIID_D_16. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
arr_of_menus . . . . . . . . . . . . .  PUBLIC   IDATA  ARRAY    0000H  64
EIID_HF. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
ignition_type. . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0014H  2
menu_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  size . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  active . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  items. . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  func . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  2
_write_dgus_vp . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
level_back . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
last_selected_menu_item. . . . . . . .  PUBLIC   XDATA  U_CHAR   003FH  1
ignition_type_items. . . . . . . . . .  PUBLIC   XDATA  ARRAY    0040H  18
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
bottom . . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0000H  11
_toggle_menu . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  p_menu . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0003H  1
  icon_rect_sz . . . . . . . . . . . .  AUTO     XDATA  U_INT    0004H  2
  start_x. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0006H  2
  start_y. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0008H  2
menu_item_t. . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  ico. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  r. . . . . . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0001H  8
bottom_items . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0052H  99
MEN_MOD. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_NO_ICON . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_DC_PLUS . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_4T_PLUS . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MSPIFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
_mSPIFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
s8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 23  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


EIID_RECT. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_LIFT. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
u8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
MNORFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
_mNORFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
_draw_icons. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  vp . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  p_menu . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0002H  3
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0005H  1
  j. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0006H  1
  size . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0007H  1
  cmd. . . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0008H  200
_do_nothing. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  select . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
pulse_state. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0016H  2
EIID_TRIG. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_TRAP. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
pulse_state_items. . . . . . . . . . .  PUBLIC   XDATA  ARRAY    00B5H  18
flow_sensor. . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    001CH  2
MEN_FLOW_MOD . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
flow_sensor_items. . . . . . . . . . .  PUBLIC   XDATA  ARRAY    00C7H  18
draw_bottom_menu . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
EIID_H2O_ON. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_PULSE_OFF . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MEN_D_MOD. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MMUSIC . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_mMUSIC. . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_welding_mode_controls . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  select . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  tmp. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
EIID_MMA . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
s32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
icon_id. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
u32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
s16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
u16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
gui_init . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  j. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
C51 COMPILER V9.53.0.0   TEMP                                                              11/01/2023 15:46:08 PAGE 24  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  icon_ids . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    001EH  24
MEN_IGN_MOD. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_TIG . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
cur_menu . . . . . . . . . . . . . . .  PUBLIC   XDATA  PTR      00D9H  3
MEN_BTN_MOD. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_SIN . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
tig_button_mod . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    000EH  3
prev_menu_item . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   00DCH  1
EIID_MIX . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
tig_button_mod_items . . . . . . . . .  PUBLIC   XDATA  ARRAY    00DDH  27
MEN_POL_MOD. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_bottom_level_controls . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  select . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0003H  1
  icon_rect_sz . . . . . . . . . . . .  AUTO     XDATA  U_INT    0004H  2
  start_x. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0006H  2
  start_y. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0008H  2
  p_menu . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
MEN_PLS_MOD. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_DC_MINUS. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
draw_sub_menu. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
welding_mode . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    000BH  3
polarity . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    0011H  3
trect_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  x0 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  y0 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  x1 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  y1 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
welding_mode_items . . . . . . . . . .  PUBLIC   XDATA  ARRAY    00F8H  27


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1258    ----
   CONSTANT SIZE    =     54    ----
   XDATA SIZE       =    275     231
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =     64    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
