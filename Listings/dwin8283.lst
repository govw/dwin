C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE DWIN8283
OBJECT MODULE PLACED IN .\Objects\dwin8283.obj
COMPILER INVOKED BY: D:\DWIN\Keil_v5\C51\BIN\C51.EXE source\dwin8283.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\driver;.\
                    -source) DEBUG OBJECTEXTEND CODE SYMBOLS PRINT(.\Listings\dwin8283.lst) OBJECT(.\Objects\dwin8283.obj)

line level    source

   1          #include "dwin8283.h"
   2          #include "uart.h"
   3          #include "canbus.h"
   4          
   5          #define NUM 2
   6          #define DWIN_UART 0
   7          
   8          #define MAX_BYTE_LEN 512
   9          #define MIN_CHECK_LEN 6
  10          #define FRAME_HEAD 0x5AA5
  11          #define WRITE_VP 0x82
  12          #define READ_VP 0x83
  13          // #define ENABLE_CRC
  14          // #define AUTO_UPLOAD
  15          
  16          QUENE DwinFrame[NUM];
  17          u8 SendTmp[MAX_BYTE_LEN];
  18          CANBUS8283      DataBuf;
  19          
  20          void Pro8283Init(void)
  21          {
  22   1          u8 CanReg[4]={0x0F,0x40,0x72,0x00};
  23   1      
  24   1          UartInit(DWIN_UART,115200); //使用8283协议，初始化相关串口波特率
  25   1          CanBusInit(CanReg);
  26   1      
  27   1          DwinFrame[0].pQuene = Uart_Struct[DWIN_UART].rx_buf;
  28   1          DwinFrame[0].QueneHead = &Uart_Struct[DWIN_UART].rx_head;
  29   1          DwinFrame[0].QueneTail = &Uart_Struct[DWIN_UART].rx_tail;
  30   1          DwinFrame[0].QueneSize = SERIAL_SIZE;
  31   1      
  32   1          DwinFrame[1].pQuene = DataBuf.Busbuf;
  33   1          DwinFrame[1].QueneHead = &DataBuf.Can8283RxHead;
  34   1          DwinFrame[1].QueneTail = &DataBuf.Can8283RxTail;
  35   1          DwinFrame[1].QueneSize = 256;
  36   1      }
  37          
  38          #ifdef ENABLE_CRC
              u16 Calculate_CRC16(u8 *updata, u16 len)
              {
                  u16 Reg_CRC=0xffff;
                  u16 i;
                  u8 j;
                  u16 crctmp;
              
                  for (i=0;i<len;i++)
                  {
                      Reg_CRC^=*updata++;
                      for (j=0;j<8;j++)
                      {
                          if (Reg_CRC & 0x0001)
                          {
                             Reg_CRC=Reg_CRC>>1^0XA001;
                          }
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 2   

                          else
                          {
                             Reg_CRC>>=1;
                          }
                      }
                  }
                  crctmp = Reg_CRC << 8;
                  crctmp |= (Reg_CRC>>8);
                  // *updata++ = (u8)Reg_CRC;
                  // *updata = (u8)(Reg_CRC>>8);
                  return crctmp;
              }
              #endif
  68          
  69          #ifdef AUTO_UPLOAD
  70          u8 AutoUploadValue(void)
  71          {
  72   1          // u8 buf[MAX_BYTE_LEN];
  73   1          u16 address;
  74   1          u8 len;
  75   1      
  76   1          read_dgus_vp(0xf00,SendTmp,2);
  77   1          if(SendTmp[0]==0x5a)
  78   1          {
  79   2              SendTmp[0] = 0;
  80   2              write_dgus_vp(0xf00,SendTmp,2);
  81   2              len = SendTmp[3];
  82   2              if(len>=200)
  83   2                  len = 100;
  84   2              address = *(u16*)&SendTmp[1];
  85   2              SendTmp[0]=0x5a;
  86   2              SendTmp[1]=0xa5;
  87   2              SendTmp[2]=(len<<1)+4;
  88   2              SendTmp[3]=0x83;
  89   2              SendTmp[4]=address>>8;
  90   2              SendTmp[5]=address;
  91   2              SendTmp[6]=len;
  92   2              read_dgus_vp(address,&SendTmp[7],len);
  93   2              #ifdef ENABLE_CRC
                          *(u16*)&SendTmp[SendTmp[2]+3] = Calculate_CRC16(&SendTmp[3],SendTmp[2]);
                          SendTmp[2] += 2;
                      #endif
  97   2              // Uatr_Send_Data(DWIN_UART,buf[2]+3,buf);
  98   2              return DO_SEND_DATA;
  99   2          }
 100   1          return NOT_SEND_DATA;
 101   1      }
 102          #endif
 103          
 104          u8  Pro8283RxTreat(QUENE *pBuf)
 105          {
 106   1              u16 len,len1,i;
 107   1              // u8 tmp[MAX_BYTE_LEN];
 108   1          u16 tmp16,headtmp,tailtmp;
 109   1      
 110   1              EA = 0;
 111   1          headtmp = *pBuf->QueneHead;
 112   1          EA = 1;
 113   1              if(*pBuf->QueneTail != headtmp)
 114   1              {
 115   2              if(headtmp < *pBuf->QueneTail)
 116   2              {
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 3   

 117   3                  len = (headtmp+pBuf->QueneSize) - *pBuf->QueneTail;
 118   3              }
 119   2              else
 120   2              {
 121   3                  len = headtmp - *pBuf->QueneTail;
 122   3              }
 123   2              if(len < MIN_CHECK_LEN)
 124   2                  return NOT_SEND_DATA;
 125   2              tmp16 = pBuf->pQuene[*pBuf->QueneTail];
 126   2              tmp16 <<= 8;
 127   2              tailtmp = *pBuf->QueneTail + 1;
 128   2              if (tailtmp >=  pBuf->QueneSize)
 129   2              {
 130   3                  tailtmp = 0;
 131   3              }
 132   2              tmp16 |= pBuf->pQuene[tailtmp];
 133   2                      if(FRAME_HEAD == tmp16)
 134   2                      {
 135   3                  tailtmp = *pBuf->QueneTail + 3;
 136   3                  if (tailtmp >=  pBuf->QueneSize)
 137   3                  {
 138   4                      tailtmp = 0;
 139   4                  }
 140   3                  if(pBuf->pQuene[tailtmp] == WRITE_VP)
 141   3                  {
 142   4                      tailtmp = *pBuf->QueneTail + 2;
 143   4                      if (tailtmp >=  pBuf->QueneSize)
 144   4                      {
 145   5                          tailtmp = 0;
 146   5                      }
 147   4                      len1 = pBuf->pQuene[tailtmp]+3;
 148   4                      if(len >= len1)
 149   4                      {
 150   5                          for(i=0;i<len1;i++)
 151   5                          {
 152   6                              SendTmp[i] = pBuf->pQuene[*pBuf->QueneTail];
 153   6                              *pBuf->QueneTail += 1;
 154   6                              if (*pBuf->QueneTail >=  pBuf->QueneSize)
 155   6                              {
 156   7                                  *pBuf->QueneTail = 0;
 157   7                              }
 158   6                          }
 159   5                      #ifdef ENABLE_CRC
                                  if(Calculate_CRC16(&SendTmp[3],SendTmp[2])==0)
                                  {
                                                              SendTmp[2] -= 2;
                              #endif
 164   5                              write_dgus_vp(*(u16*)&SendTmp[4],&SendTmp[6],(SendTmp[2]-3)>>1);
 165   5                              SendTmp[2] = 3;
 166   5                              *(u16*)&SendTmp[4] = 0x4f4b;
 167   5                          #ifdef ENABLE_CRC
                                      *(u16*)&SendTmp[6] = Calculate_CRC16(&SendTmp[3],SendTmp[2]);
                                      SendTmp[2] += 2;
                                  #endif
 171   5                              // Uatr_Send_Data(DWIN_UART,tmp[2]+3,tmp);
 172   5                              return DO_SEND_DATA;
 173   5                      #ifdef ENABLE_CRC
                                  }
                              #endif
 176   5                      }
 177   4                  }
 178   3                  else if(pBuf->pQuene[tailtmp] == READ_VP)
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 4   

 179   3                  {
 180   4                      tailtmp = *pBuf->QueneTail + 2;
 181   4                      if (tailtmp >=  pBuf->QueneSize)
 182   4                      {
 183   5                          tailtmp = 0;
 184   5                      }
 185   4                      len1 = pBuf->pQuene[tailtmp]+3;
 186   4                      if(len >= len1)
 187   4                      {
 188   5                          for(i=0;i<len1;i++)
 189   5                          {
 190   6                              SendTmp[i] = pBuf->pQuene[*pBuf->QueneTail];
 191   6                              *pBuf->QueneTail += 1;
 192   6                              if (*pBuf->QueneTail >=  pBuf->QueneSize)
 193   6                              {
 194   7                                  *pBuf->QueneTail = 0;
 195   7                              }
 196   6                          }
 197   5                          #ifdef ENABLE_CRC
                                      if(Calculate_CRC16(&SendTmp[3],SendTmp[2])==0)
                                      {
                                  #endif
 201   5                                  read_dgus_vp(*(u16*)&SendTmp[4],&SendTmp[7],SendTmp[6]);
 202   5                                  SendTmp[2] = (SendTmp[6]<<1) + 4;
 203   5                              #ifdef ENABLE_CRC
                                          *(u16*)&SendTmp[SendTmp[2]+3] = Calculate_CRC16(&SendTmp[3],SendTmp[2]);
                                          SendTmp[2] += 2;
                                      #endif
 207   5                                  // Uatr_Send_Data(DWIN_UART,tmp[2]+3,tmp);
 208   5                                  return DO_SEND_DATA;
 209   5                          #ifdef ENABLE_CRC
                                      }
                                  #endif
 212   5                      }
 213   4                  }
 214   3                  else 
 215   3                  {
 216   4                      *pBuf->QueneTail += 1;
 217   4                      if (*pBuf->QueneTail >=  pBuf->QueneSize)
 218   4                      {
 219   5                          *pBuf->QueneTail = 0;
 220   5                      }
 221   4                  }
 222   3                      }
 223   2                      else
 224   2                      {
 225   3                              *pBuf->QueneTail += 1;
 226   3                  if (*pBuf->QueneTail >=  pBuf->QueneSize)
 227   3                  {
 228   4                      *pBuf->QueneTail = 0;
 229   4                  }
 230   3                      }
 231   2              }
 232   1          return NOT_SEND_DATA;
 233   1      }
 234          
 235          
 236          #define FRAME_ID 0X23
 237          void Pro8283Deal(void)
 238          {
 239   1              u8 i,len;
 240   1      
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 5   

 241   1          //把CAN的数据解析到缓存区
 242   1          if(CanData.CanRxHead != CanData.CanRxTail)
 243   1              {
 244   2                      if(CanData.BusRXbuf[CanData.CanRxTail].ID == (u32)FRAME_ID)
 245   2              {
 246   3                  len = CanData.BusRXbuf[CanData.CanRxTail].status & 0x0f;
 247   3                  for(i=0;i<len;i++)
 248   3                  {
 249   4                      DataBuf.Busbuf[DataBuf.Can8283RxHead] = CanData.BusRXbuf[CanData.CanRxTail].candata[i];
 250   4                      DataBuf.Can8283RxHead++;
 251   4                  }
 252   3              }
 253   2                      CanData.CanRxTail++;
 254   2              }
 255   1      #ifdef AUTO_UPLOAD
 256   1          if(DO_SEND_DATA == AutoUploadValue())
 257   1          {
 258   2              Uatr_Send_Data(DWIN_UART,SendTmp[2]+3,SendTmp);
 259   2              CanTx(0x23,0,SendTmp[2]+3,SendTmp);
 260   2          }
 261   1      #endif
 262   1          if(DO_SEND_DATA == Pro8283RxTreat(&DwinFrame[0]))
 263   1          {
 264   2              Uatr_Send_Data(DWIN_UART,SendTmp[2]+3,SendTmp);
 265   2          }
 266   1          if(DO_SEND_DATA == Pro8283RxTreat(&DwinFrame[1]))
 267   1          {
 268   2              CanTx(0x24,0,SendTmp[2]+3,SendTmp);
 269   2          }
 270   1      }
 271          
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 6   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION Pro8283Init (BEGIN)
                                           ; SOURCE LINE # 20
                                           ; SOURCE LINE # 21
                                           ; SOURCE LINE # 22
0000 7800        R     MOV     R0,#LOW CanReg
0002 7C00        R     MOV     R4,#HIGH CanReg
0004 7D01              MOV     R5,#01H
0006 7BFF              MOV     R3,#0FFH
0008 7A00        R     MOV     R2,#HIGH _?ix1000
000A 7900        R     MOV     R1,#LOW _?ix1000
000C 7E00              MOV     R6,#00H
000E 7F04              MOV     R7,#04H
0010 120000      E     LCALL   ?C?COPY
                                           ; SOURCE LINE # 24
0013 900000      E     MOV     DPTR,#?_UartInit?BYTE+01H
0016 120000      E     LCALL   ?C?LSTKXDATA
0019 00                DB      00H
001A 01                DB      01H
001B C2                DB      0C2H
001C 00                DB      00H
001D E4                CLR     A
001E FF                MOV     R7,A
001F 120000      E     LCALL   _UartInit
                                           ; SOURCE LINE # 25
0022 7B01              MOV     R3,#01H
0024 7A00        R     MOV     R2,#HIGH CanReg
0026 7900        R     MOV     R1,#LOW CanReg
0028 120000      E     LCALL   _CanBusInit
                                           ; SOURCE LINE # 27
002B 900000      R     MOV     DPTR,#DwinFrame
002E 7401              MOV     A,#01H
0030 F0                MOVX    @DPTR,A
0031 A3                INC     DPTR
0032 7400        E     MOV     A,#HIGH Uart_Struct+0400H
0034 F0                MOVX    @DPTR,A
0035 A3                INC     DPTR
0036 7400        E     MOV     A,#LOW Uart_Struct+0400H
0038 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 28
0039 A3                INC     DPTR
003A 7401              MOV     A,#01H
003C F0                MOVX    @DPTR,A
003D A3                INC     DPTR
003E 7400        E     MOV     A,#HIGH Uart_Struct+0804H
0040 F0                MOVX    @DPTR,A
0041 A3                INC     DPTR
0042 7400        E     MOV     A,#LOW Uart_Struct+0804H
0044 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 29
0045 A3                INC     DPTR
0046 7401              MOV     A,#01H
0048 F0                MOVX    @DPTR,A
0049 A3                INC     DPTR
004A 7400        E     MOV     A,#HIGH Uart_Struct+0806H
004C F0                MOVX    @DPTR,A
004D A3                INC     DPTR
004E 7400        E     MOV     A,#LOW Uart_Struct+0806H
0050 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 30
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 7   

0051 A3                INC     DPTR
0052 7404              MOV     A,#04H
0054 F0                MOVX    @DPTR,A
0055 A3                INC     DPTR
0056 E4                CLR     A
0057 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 32
0058 7B01              MOV     R3,#01H
005A A3                INC     DPTR
005B 04                INC     A
005C F0                MOVX    @DPTR,A
005D A3                INC     DPTR
005E 7400        R     MOV     A,#HIGH DataBuf
0060 F0                MOVX    @DPTR,A
0061 A3                INC     DPTR
0062 7400        R     MOV     A,#LOW DataBuf
0064 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 33
0065 A3                INC     DPTR
0066 EB                MOV     A,R3
0067 F0                MOVX    @DPTR,A
0068 A3                INC     DPTR
0069 7400        R     MOV     A,#HIGH DataBuf+0100H
006B F0                MOVX    @DPTR,A
006C A3                INC     DPTR
006D 7400        R     MOV     A,#LOW DataBuf+0100H
006F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 34
0070 A3                INC     DPTR
0071 EB                MOV     A,R3
0072 F0                MOVX    @DPTR,A
0073 A3                INC     DPTR
0074 7400        R     MOV     A,#HIGH DataBuf+0102H
0076 F0                MOVX    @DPTR,A
0077 A3                INC     DPTR
0078 7400        R     MOV     A,#LOW DataBuf+0102H
007A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 35
007B A3                INC     DPTR
007C 7401              MOV     A,#01H
007E F0                MOVX    @DPTR,A
007F A3                INC     DPTR
0080 E4                CLR     A
0081 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 36
0082 22                RET     
             ; FUNCTION Pro8283Init (END)

             ; FUNCTION AutoUploadValue (BEGIN)
                                           ; SOURCE LINE # 70
                                           ; SOURCE LINE # 71
                                           ; SOURCE LINE # 76
0000 7B01              MOV     R3,#01H
0002 7A00        R     MOV     R2,#HIGH SendTmp
0004 7900        R     MOV     R1,#LOW SendTmp
0006 900000      E     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
0009 E4                CLR     A
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C 7402              MOV     A,#02H
000E F0                MOVX    @DPTR,A
000F 7F00              MOV     R7,#00H
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 8   

0011 7E0F              MOV     R6,#0FH
0013 120000      E     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 77
0016 900000      R     MOV     DPTR,#SendTmp
0019 E0                MOVX    A,@DPTR
001A 645A              XRL     A,#05AH
001C 7062              JNZ     ?C0002
                                           ; SOURCE LINE # 78
                                           ; SOURCE LINE # 79
001E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 80
001F 7B01              MOV     R3,#01H
0021 7A00        R     MOV     R2,#HIGH SendTmp
0023 7900        R     MOV     R1,#LOW SendTmp
0025 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0028 F0                MOVX    @DPTR,A
0029 A3                INC     DPTR
002A 7402              MOV     A,#02H
002C F0                MOVX    @DPTR,A
002D 7F00              MOV     R7,#00H
002F 7E0F              MOV     R6,#0FH
0031 120000      E     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 81
0034 900000      R     MOV     DPTR,#SendTmp+03H
0037 E0                MOVX    A,@DPTR
;---- Variable 'len' assigned to Register 'R5' ----
0038 FD                MOV     R5,A
                                           ; SOURCE LINE # 82
0039 C3                CLR     C
003A 94C8              SUBB    A,#0C8H
003C 4002              JC      ?C0003
                                           ; SOURCE LINE # 83
003E 7D64              MOV     R5,#064H
0040         ?C0003:
                                           ; SOURCE LINE # 84
0040 900000      R     MOV     DPTR,#SendTmp+01H
0043 E0                MOVX    A,@DPTR
0044 FE                MOV     R6,A
0045 A3                INC     DPTR
0046 E0                MOVX    A,@DPTR
;---- Variable 'address' assigned to Register 'R2/R3' ----
0047 FB                MOV     R3,A
0048 AA06              MOV     R2,AR6
                                           ; SOURCE LINE # 85
004A 900000      R     MOV     DPTR,#SendTmp
004D 745A              MOV     A,#05AH
004F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 86
0050 A3                INC     DPTR
0051 74A5              MOV     A,#0A5H
0053 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 87
0054 ED                MOV     A,R5
0055 25E0              ADD     A,ACC
0057 2404              ADD     A,#04H
0059 A3                INC     DPTR
005A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 88
005B A3                INC     DPTR
005C 7483              MOV     A,#083H
005E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 89
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 9   

005F EA                MOV     A,R2
0060 A3                INC     DPTR
0061 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 90
0062 A3                INC     DPTR
0063 EB                MOV     A,R3
0064 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 91
0065 A3                INC     DPTR
0066 ED                MOV     A,R5
0067 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 92
0068 AE02              MOV     R6,AR2
006A AF03              MOV     R7,AR3
006C 7B01              MOV     R3,#01H
006E 7A00        R     MOV     R2,#HIGH SendTmp+07H
0070 7900        R     MOV     R1,#LOW SendTmp+07H
0072 900000      E     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
0075 E4                CLR     A
0076 F0                MOVX    @DPTR,A
0077 A3                INC     DPTR
0078 ED                MOV     A,R5
0079 F0                MOVX    @DPTR,A
007A 120000      E     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 98
007D 7F01              MOV     R7,#01H
007F 22                RET     
                                           ; SOURCE LINE # 99
0080         ?C0002:
                                           ; SOURCE LINE # 100
0080 7F00              MOV     R7,#00H
                                           ; SOURCE LINE # 101
0082         ?C0004:
0082 22                RET     
             ; FUNCTION AutoUploadValue (END)

             ; FUNCTION _Pro8283RxTreat (BEGIN)
                                           ; SOURCE LINE # 104
0000 900000      R     MOV     DPTR,#pBuf
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 105
                                           ; SOURCE LINE # 110
000B C2AF              CLR     EA
                                           ; SOURCE LINE # 111
000D 900003            MOV     DPTR,#03H
0010 120000      E     LCALL   ?C?PLDOPTR
0013 120000      E     LCALL   ?C?ILDPTR
0016 FF                MOV     R7,A
0017 AEF0              MOV     R6,B
0019 900000      R     MOV     DPTR,#headtmp
001C EE                MOV     A,R6
001D F0                MOVX    @DPTR,A
001E A3                INC     DPTR
001F EF                MOV     A,R7
0020 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 10  

                                           ; SOURCE LINE # 112
0021 D2AF              SETB    EA
                                           ; SOURCE LINE # 113
0023 900000      R     MOV     DPTR,#pBuf
0026 E0                MOVX    A,@DPTR
0027 FB                MOV     R3,A
0028 A3                INC     DPTR
0029 E0                MOVX    A,@DPTR
002A FA                MOV     R2,A
002B A3                INC     DPTR
002C E0                MOVX    A,@DPTR
002D F9                MOV     R1,A
002E 900006            MOV     DPTR,#06H
0031 120000      E     LCALL   ?C?PLDOPTR
0034 120000      E     LCALL   ?C?ILDPTR
0037 FD                MOV     R5,A
0038 ACF0              MOV     R4,B
003A 6F                XRL     A,R7
003B 7002              JNZ     ?C0041
003D EC                MOV     A,R4
003E 6E                XRL     A,R6
003F         ?C0041:
003F 7003              JNZ     $ + 5H
0041 020000      R     LJMP    ?C0005
                                           ; SOURCE LINE # 114
                                           ; SOURCE LINE # 115
0044 C3                CLR     C
0045 900000      R     MOV     DPTR,#headtmp+01H
0048 E0                MOVX    A,@DPTR
0049 9D                SUBB    A,R5
004A 900000      R     MOV     DPTR,#headtmp
004D E0                MOVX    A,@DPTR
004E 9C                SUBB    A,R4
004F 900000      R     MOV     DPTR,#pBuf
0052 E0                MOVX    A,@DPTR
0053 FB                MOV     R3,A
0054 A3                INC     DPTR
0055 E0                MOVX    A,@DPTR
0056 FA                MOV     R2,A
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 F9                MOV     R1,A
005A 5021              JNC     ?C0006
                                           ; SOURCE LINE # 116
                                           ; SOURCE LINE # 117
005C 900009            MOV     DPTR,#09H
005F 120000      E     LCALL   ?C?ILDOPTR
0062 FF                MOV     R7,A
0063 900000      R     MOV     DPTR,#headtmp+01H
0066 E0                MOVX    A,@DPTR
0067 2F                ADD     A,R7
0068 FF                MOV     R7,A
0069 900000      R     MOV     DPTR,#headtmp
006C E0                MOVX    A,@DPTR
006D 35F0              ADDC    A,B
006F CF                XCH     A,R7
0070 C3                CLR     C
0071 9D                SUBB    A,R5
0072 CF                XCH     A,R7
0073 9C                SUBB    A,R4
0074 900000      R     MOV     DPTR,#len
0077 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 11  

0078 A3                INC     DPTR
0079 EF                MOV     A,R7
007A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 118
007B 801E              SJMP    ?C0007
007D         ?C0006:
                                           ; SOURCE LINE # 120
                                           ; SOURCE LINE # 121
007D 900006            MOV     DPTR,#06H
0080 120000      E     LCALL   ?C?PLDOPTR
0083 120000      E     LCALL   ?C?ILDPTR
0086 FF                MOV     R7,A
0087 C3                CLR     C
0088 900000      R     MOV     DPTR,#headtmp+01H
008B E0                MOVX    A,@DPTR
008C 9F                SUBB    A,R7
008D FE                MOV     R6,A
008E 900000      R     MOV     DPTR,#headtmp
0091 E0                MOVX    A,@DPTR
0092 95F0              SUBB    A,B
0094 900000      R     MOV     DPTR,#len
0097 F0                MOVX    @DPTR,A
0098 A3                INC     DPTR
0099 CE                XCH     A,R6
009A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 122
009B         ?C0007:
                                           ; SOURCE LINE # 123
009B C3                CLR     C
009C 900000      R     MOV     DPTR,#len+01H
009F E0                MOVX    A,@DPTR
00A0 9406              SUBB    A,#06H
00A2 900000      R     MOV     DPTR,#len
00A5 E0                MOVX    A,@DPTR
00A6 9400              SUBB    A,#00H
00A8 5003              JNC     ?C0008
                                           ; SOURCE LINE # 124
00AA 7F00              MOV     R7,#00H
00AC 22                RET     
00AD         ?C0008:
                                           ; SOURCE LINE # 125
00AD 900000      R     MOV     DPTR,#pBuf
00B0 E0                MOVX    A,@DPTR
00B1 FB                MOV     R3,A
00B2 A3                INC     DPTR
00B3 E0                MOVX    A,@DPTR
00B4 FA                MOV     R2,A
00B5 A3                INC     DPTR
00B6 E0                MOVX    A,@DPTR
00B7 F9                MOV     R1,A
00B8 900006            MOV     DPTR,#06H
00BB 120000      E     LCALL   ?C?PLDOPTR
00BE 120000      E     LCALL   ?C?ILDPTR
00C1 FD                MOV     R5,A
00C2 ACF0              MOV     R4,B
00C4 900000      R     MOV     DPTR,#pBuf
00C7 E0                MOVX    A,@DPTR
00C8 FB                MOV     R3,A
00C9 A3                INC     DPTR
00CA E0                MOVX    A,@DPTR
00CB FA                MOV     R2,A
00CC A3                INC     DPTR
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 12  

00CD E0                MOVX    A,@DPTR
00CE F9                MOV     R1,A
00CF 120000      E     LCALL   ?C?PLDPTR
00D2 8D82              MOV     DPL,R5
00D4 8C83              MOV     DPH,R4
00D6 120000      E     LCALL   ?C?CLDOPTR
00D9 FF                MOV     R7,A
00DA 900000      R     MOV     DPTR,#tmp16
00DD E4                CLR     A
00DE F0                MOVX    @DPTR,A
00DF A3                INC     DPTR
00E0 EF                MOV     A,R7
00E1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 126
00E2 E0                MOVX    A,@DPTR
00E3 F8                MOV     R0,A
00E4 E4                CLR     A
00E5 F0                MOVX    @DPTR,A
00E6 E8                MOV     A,R0
00E7 900000      R     MOV     DPTR,#tmp16
00EA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 127
00EB ED                MOV     A,R5
00EC 2401              ADD     A,#01H
00EE FF                MOV     R7,A
00EF E4                CLR     A
00F0 3C                ADDC    A,R4
00F1 FE                MOV     R6,A
00F2 900000      R     MOV     DPTR,#tailtmp
00F5 F0                MOVX    @DPTR,A
00F6 A3                INC     DPTR
00F7 EF                MOV     A,R7
00F8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 128
00F9 900000      R     MOV     DPTR,#pBuf
00FC E0                MOVX    A,@DPTR
00FD FB                MOV     R3,A
00FE A3                INC     DPTR
00FF E0                MOVX    A,@DPTR
0100 FA                MOV     R2,A
0101 A3                INC     DPTR
0102 E0                MOVX    A,@DPTR
0103 F9                MOV     R1,A
0104 900009            MOV     DPTR,#09H
0107 120000      E     LCALL   ?C?ILDOPTR
010A FD                MOV     R5,A
010B C3                CLR     C
010C EF                MOV     A,R7
010D 9D                SUBB    A,R5
010E EE                MOV     A,R6
010F 95F0              SUBB    A,B
0111 4007              JC      ?C0010
                                           ; SOURCE LINE # 129
                                           ; SOURCE LINE # 130
0113 E4                CLR     A
0114 900000      R     MOV     DPTR,#tailtmp
0117 F0                MOVX    @DPTR,A
0118 A3                INC     DPTR
0119 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 131
011A         ?C0010:
                                           ; SOURCE LINE # 132
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 13  

011A 120000      E     LCALL   ?C?PLDPTR
011D 900000      R     MOV     DPTR,#tailtmp
0120 E0                MOVX    A,@DPTR
0121 FE                MOV     R6,A
0122 A3                INC     DPTR
0123 E0                MOVX    A,@DPTR
0124 F582              MOV     DPL,A
0126 8E83              MOV     DPH,R6
0128 120000      E     LCALL   ?C?CLDOPTR
012B FF                MOV     R7,A
012C 900000      R     MOV     DPTR,#tmp16
012F E0                MOVX    A,@DPTR
0130 FE                MOV     R6,A
0131 A3                INC     DPTR
0132 E0                MOVX    A,@DPTR
0133 4F                ORL     A,R7
0134 FF                MOV     R7,A
0135 900000      R     MOV     DPTR,#tmp16
0138 EE                MOV     A,R6
0139 F0                MOVX    @DPTR,A
013A FE                MOV     R6,A
013B A3                INC     DPTR
013C EF                MOV     A,R7
013D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 133
013E 64A5              XRL     A,#0A5H
0140 7003              JNZ     ?C0042
0142 EE                MOV     A,R6
0143 645A              XRL     A,#05AH
0145         ?C0042:
0145 6003              JZ      $ + 5H
0147 020000      R     LJMP    ?C0011
                                           ; SOURCE LINE # 134
                                           ; SOURCE LINE # 135
014A 900000      R     MOV     DPTR,#pBuf
014D E0                MOVX    A,@DPTR
014E FB                MOV     R3,A
014F A3                INC     DPTR
0150 E0                MOVX    A,@DPTR
0151 FA                MOV     R2,A
0152 A3                INC     DPTR
0153 E0                MOVX    A,@DPTR
0154 F9                MOV     R1,A
0155 900006            MOV     DPTR,#06H
0158 120000      E     LCALL   ?C?PLDOPTR
015B 120000      E     LCALL   ?C?ILDPTR
015E 2403              ADD     A,#03H
0160 FF                MOV     R7,A
0161 E4                CLR     A
0162 35F0              ADDC    A,B
0164 FE                MOV     R6,A
0165 900000      R     MOV     DPTR,#tailtmp
0168 F0                MOVX    @DPTR,A
0169 A3                INC     DPTR
016A EF                MOV     A,R7
016B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 136
016C 900000      R     MOV     DPTR,#pBuf
016F E0                MOVX    A,@DPTR
0170 FB                MOV     R3,A
0171 A3                INC     DPTR
0172 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 14  

0173 FA                MOV     R2,A
0174 A3                INC     DPTR
0175 E0                MOVX    A,@DPTR
0176 F9                MOV     R1,A
0177 900009            MOV     DPTR,#09H
017A 120000      E     LCALL   ?C?ILDOPTR
017D FD                MOV     R5,A
017E C3                CLR     C
017F EF                MOV     A,R7
0180 9D                SUBB    A,R5
0181 EE                MOV     A,R6
0182 95F0              SUBB    A,B
0184 4007              JC      ?C0012
                                           ; SOURCE LINE # 137
                                           ; SOURCE LINE # 138
0186 E4                CLR     A
0187 900000      R     MOV     DPTR,#tailtmp
018A F0                MOVX    @DPTR,A
018B A3                INC     DPTR
018C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 139
018D         ?C0012:
                                           ; SOURCE LINE # 140
018D 120000      E     LCALL   ?C?PLDPTR
0190 900000      R     MOV     DPTR,#tailtmp
0193 E0                MOVX    A,@DPTR
0194 FE                MOV     R6,A
0195 A3                INC     DPTR
0196 E0                MOVX    A,@DPTR
0197 F582              MOV     DPL,A
0199 8E83              MOV     DPH,R6
019B 120000      E     LCALL   ?C?CLDOPTR
019E 6482              XRL     A,#082H
01A0 6003              JZ      $ + 5H
01A2 020000      R     LJMP    ?C0013
                                           ; SOURCE LINE # 141
                                           ; SOURCE LINE # 142
01A5 900000      R     MOV     DPTR,#pBuf
01A8 E0                MOVX    A,@DPTR
01A9 FB                MOV     R3,A
01AA A3                INC     DPTR
01AB E0                MOVX    A,@DPTR
01AC FA                MOV     R2,A
01AD A3                INC     DPTR
01AE E0                MOVX    A,@DPTR
01AF F9                MOV     R1,A
01B0 900006            MOV     DPTR,#06H
01B3 120000      E     LCALL   ?C?PLDOPTR
01B6 120000      E     LCALL   ?C?ILDPTR
01B9 2402              ADD     A,#02H
01BB FF                MOV     R7,A
01BC E4                CLR     A
01BD 35F0              ADDC    A,B
01BF FE                MOV     R6,A
01C0 900000      R     MOV     DPTR,#tailtmp
01C3 F0                MOVX    @DPTR,A
01C4 A3                INC     DPTR
01C5 EF                MOV     A,R7
01C6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 143
01C7 900000      R     MOV     DPTR,#pBuf
01CA E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 15  

01CB FB                MOV     R3,A
01CC A3                INC     DPTR
01CD E0                MOVX    A,@DPTR
01CE FA                MOV     R2,A
01CF A3                INC     DPTR
01D0 E0                MOVX    A,@DPTR
01D1 F9                MOV     R1,A
01D2 900009            MOV     DPTR,#09H
01D5 120000      E     LCALL   ?C?ILDOPTR
01D8 FD                MOV     R5,A
01D9 C3                CLR     C
01DA EF                MOV     A,R7
01DB 9D                SUBB    A,R5
01DC EE                MOV     A,R6
01DD 95F0              SUBB    A,B
01DF 4007              JC      ?C0014
                                           ; SOURCE LINE # 144
                                           ; SOURCE LINE # 145
01E1 E4                CLR     A
01E2 900000      R     MOV     DPTR,#tailtmp
01E5 F0                MOVX    @DPTR,A
01E6 A3                INC     DPTR
01E7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 146
01E8         ?C0014:
                                           ; SOURCE LINE # 147
01E8 900000      R     MOV     DPTR,#pBuf
01EB E0                MOVX    A,@DPTR
01EC FB                MOV     R3,A
01ED A3                INC     DPTR
01EE E0                MOVX    A,@DPTR
01EF FA                MOV     R2,A
01F0 A3                INC     DPTR
01F1 E0                MOVX    A,@DPTR
01F2 F9                MOV     R1,A
01F3 120000      E     LCALL   ?C?PLDPTR
01F6 900000      R     MOV     DPTR,#tailtmp
01F9 E0                MOVX    A,@DPTR
01FA FE                MOV     R6,A
01FB A3                INC     DPTR
01FC E0                MOVX    A,@DPTR
01FD F582              MOV     DPL,A
01FF 8E83              MOV     DPH,R6
0201 120000      E     LCALL   ?C?CLDOPTR
0204 2403              ADD     A,#03H
0206 FF                MOV     R7,A
0207 E4                CLR     A
0208 33                RLC     A
0209 FE                MOV     R6,A
020A 900000      R     MOV     DPTR,#len1
020D F0                MOVX    @DPTR,A
020E A3                INC     DPTR
020F EF                MOV     A,R7
0210 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 148
0211 C3                CLR     C
0212 900000      R     MOV     DPTR,#len+01H
0215 E0                MOVX    A,@DPTR
0216 9F                SUBB    A,R7
0217 900000      R     MOV     DPTR,#len
021A E0                MOVX    A,@DPTR
021B 9E                SUBB    A,R6
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 16  

021C 5003              JNC     $ + 5H
021E 020000      R     LJMP    ?C0005
                                           ; SOURCE LINE # 149
                                           ; SOURCE LINE # 150
0221 E4                CLR     A
0222 900000      R     MOV     DPTR,#i
0225 F0                MOVX    @DPTR,A
0226 A3                INC     DPTR
0227 F0                MOVX    @DPTR,A
0228         ?C0016:
0228 900000      R     MOV     DPTR,#len1
022B E0                MOVX    A,@DPTR
022C FE                MOV     R6,A
022D A3                INC     DPTR
022E E0                MOVX    A,@DPTR
022F FF                MOV     R7,A
0230 A3                INC     DPTR
0231 E0                MOVX    A,@DPTR
0232 FC                MOV     R4,A
0233 A3                INC     DPTR
0234 E0                MOVX    A,@DPTR
0235 FD                MOV     R5,A
0236 C3                CLR     C
0237 9F                SUBB    A,R7
0238 EC                MOV     A,R4
0239 9E                SUBB    A,R6
023A 4003              JC      $ + 5H
023C 020000      R     LJMP    ?C0017
                                           ; SOURCE LINE # 151
                                           ; SOURCE LINE # 152
023F 900000      R     MOV     DPTR,#pBuf
0242 E0                MOVX    A,@DPTR
0243 FB                MOV     R3,A
0244 A3                INC     DPTR
0245 E0                MOVX    A,@DPTR
0246 FA                MOV     R2,A
0247 A3                INC     DPTR
0248 E0                MOVX    A,@DPTR
0249 F9                MOV     R1,A
024A 900006            MOV     DPTR,#06H
024D 120000      E     LCALL   ?C?PLDOPTR
0250 120000      E     LCALL   ?C?ILDPTR
0253 FF                MOV     R7,A
0254 AEF0              MOV     R6,B
0256 900000      R     MOV     DPTR,#pBuf
0259 E0                MOVX    A,@DPTR
025A FB                MOV     R3,A
025B A3                INC     DPTR
025C E0                MOVX    A,@DPTR
025D FA                MOV     R2,A
025E A3                INC     DPTR
025F E0                MOVX    A,@DPTR
0260 F9                MOV     R1,A
0261 120000      E     LCALL   ?C?PLDPTR
0264 8F82              MOV     DPL,R7
0266 8E83              MOV     DPH,R6
0268 120000      E     LCALL   ?C?CLDOPTR
026B FF                MOV     R7,A
026C 7400        R     MOV     A,#LOW SendTmp
026E 2D                ADD     A,R5
026F F582              MOV     DPL,A
0271 7400        R     MOV     A,#HIGH SendTmp
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 17  

0273 3C                ADDC    A,R4
0274 F583              MOV     DPH,A
0276 EF                MOV     A,R7
0277 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 153
0278 900000      R     MOV     DPTR,#pBuf
027B E0                MOVX    A,@DPTR
027C FB                MOV     R3,A
027D A3                INC     DPTR
027E E0                MOVX    A,@DPTR
027F FA                MOV     R2,A
0280 A3                INC     DPTR
0281 E0                MOVX    A,@DPTR
0282 F9                MOV     R1,A
0283 900006            MOV     DPTR,#06H
0286 120000      E     LCALL   ?C?PLDOPTR
0289 E4                CLR     A
028A 75F001            MOV     B,#01H
028D 120000      E     LCALL   ?C?IILDPTR
                                           ; SOURCE LINE # 154
0290 900000      R     MOV     DPTR,#pBuf
0293 E0                MOVX    A,@DPTR
0294 FB                MOV     R3,A
0295 A3                INC     DPTR
0296 E0                MOVX    A,@DPTR
0297 FA                MOV     R2,A
0298 A3                INC     DPTR
0299 E0                MOVX    A,@DPTR
029A F9                MOV     R1,A
029B 900006            MOV     DPTR,#06H
029E 120000      E     LCALL   ?C?PLDOPTR
02A1 120000      E     LCALL   ?C?ILDPTR
02A4 FF                MOV     R7,A
02A5 AEF0              MOV     R6,B
02A7 900000      R     MOV     DPTR,#pBuf
02AA E0                MOVX    A,@DPTR
02AB FB                MOV     R3,A
02AC A3                INC     DPTR
02AD E0                MOVX    A,@DPTR
02AE FA                MOV     R2,A
02AF A3                INC     DPTR
02B0 E0                MOVX    A,@DPTR
02B1 F9                MOV     R1,A
02B2 900009            MOV     DPTR,#09H
02B5 120000      E     LCALL   ?C?ILDOPTR
02B8 FD                MOV     R5,A
02B9 C3                CLR     C
02BA EF                MOV     A,R7
02BB 9D                SUBB    A,R5
02BC EE                MOV     A,R6
02BD 95F0              SUBB    A,B
02BF 400C              JC      ?C0018
                                           ; SOURCE LINE # 155
                                           ; SOURCE LINE # 156
02C1 900006            MOV     DPTR,#06H
02C4 120000      E     LCALL   ?C?PLDOPTR
02C7 E4                CLR     A
02C8 F5F0              MOV     B,A
02CA 120000      E     LCALL   ?C?ISTPTR
                                           ; SOURCE LINE # 157
                                           ; SOURCE LINE # 158
02CD         ?C0018:
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 18  

02CD 900000      R     MOV     DPTR,#i+01H
02D0 E0                MOVX    A,@DPTR
02D1 04                INC     A
02D2 F0                MOVX    @DPTR,A
02D3 7006              JNZ     ?C0043
02D5 900000      R     MOV     DPTR,#i
02D8 E0                MOVX    A,@DPTR
02D9 04                INC     A
02DA F0                MOVX    @DPTR,A
02DB         ?C0043:
02DB 020000      R     LJMP    ?C0016
02DE         ?C0017:
                                           ; SOURCE LINE # 164
02DE 900000      R     MOV     DPTR,#SendTmp+04H
02E1 E0                MOVX    A,@DPTR
02E2 FE                MOV     R6,A
02E3 A3                INC     DPTR
02E4 E0                MOVX    A,@DPTR
02E5 FF                MOV     R7,A
02E6 7B01              MOV     R3,#01H
02E8 7A00        R     MOV     R2,#HIGH SendTmp+06H
02EA 7900        R     MOV     R1,#LOW SendTmp+06H
02EC 900000      R     MOV     DPTR,#SendTmp+02H
02EF E0                MOVX    A,@DPTR
02F0 24FD              ADD     A,#0FDH
02F2 C3                CLR     C
02F3 13                RRC     A
02F4 FD                MOV     R5,A
02F5 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
02F8 E4                CLR     A
02F9 F0                MOVX    @DPTR,A
02FA A3                INC     DPTR
02FB ED                MOV     A,R5
02FC F0                MOVX    @DPTR,A
02FD 120000      E     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 165
0300 900000      R     MOV     DPTR,#SendTmp+02H
0303 7403              MOV     A,#03H
0305 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 166
0306 900000      R     MOV     DPTR,#SendTmp+04H
0309 744F              MOV     A,#04FH
030B F0                MOVX    @DPTR,A
030C A3                INC     DPTR
030D 744B              MOV     A,#04BH
                                           ; SOURCE LINE # 172
030F 020000      R     LJMP    ?C0046
                                           ; SOURCE LINE # 176
                                           ; SOURCE LINE # 177
0312         ?C0013:
                                           ; SOURCE LINE # 178
0312 900000      R     MOV     DPTR,#pBuf
0315 E0                MOVX    A,@DPTR
0316 FB                MOV     R3,A
0317 A3                INC     DPTR
0318 E0                MOVX    A,@DPTR
0319 FA                MOV     R2,A
031A A3                INC     DPTR
031B E0                MOVX    A,@DPTR
031C F9                MOV     R1,A
031D 120000      E     LCALL   ?C?PLDPTR
0320 900000      R     MOV     DPTR,#tailtmp
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 19  

0323 E0                MOVX    A,@DPTR
0324 FE                MOV     R6,A
0325 A3                INC     DPTR
0326 E0                MOVX    A,@DPTR
0327 F582              MOV     DPL,A
0329 8E83              MOV     DPH,R6
032B 120000      E     LCALL   ?C?CLDOPTR
032E 6483              XRL     A,#083H
0330 6003              JZ      $ + 5H
0332 020000      R     LJMP    ?C0021
                                           ; SOURCE LINE # 179
                                           ; SOURCE LINE # 180
0335 900000      R     MOV     DPTR,#pBuf
0338 E0                MOVX    A,@DPTR
0339 FB                MOV     R3,A
033A A3                INC     DPTR
033B E0                MOVX    A,@DPTR
033C FA                MOV     R2,A
033D A3                INC     DPTR
033E E0                MOVX    A,@DPTR
033F F9                MOV     R1,A
0340 900006            MOV     DPTR,#06H
0343 120000      E     LCALL   ?C?PLDOPTR
0346 120000      E     LCALL   ?C?ILDPTR
0349 2402              ADD     A,#02H
034B FF                MOV     R7,A
034C E4                CLR     A
034D 35F0              ADDC    A,B
034F FE                MOV     R6,A
0350 900000      R     MOV     DPTR,#tailtmp
0353 F0                MOVX    @DPTR,A
0354 A3                INC     DPTR
0355 EF                MOV     A,R7
0356 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 181
0357 900000      R     MOV     DPTR,#pBuf
035A E0                MOVX    A,@DPTR
035B FB                MOV     R3,A
035C A3                INC     DPTR
035D E0                MOVX    A,@DPTR
035E FA                MOV     R2,A
035F A3                INC     DPTR
0360 E0                MOVX    A,@DPTR
0361 F9                MOV     R1,A
0362 900009            MOV     DPTR,#09H
0365 120000      E     LCALL   ?C?ILDOPTR
0368 FD                MOV     R5,A
0369 C3                CLR     C
036A EF                MOV     A,R7
036B 9D                SUBB    A,R5
036C EE                MOV     A,R6
036D 95F0              SUBB    A,B
036F 4007              JC      ?C0022
                                           ; SOURCE LINE # 182
                                           ; SOURCE LINE # 183
0371 E4                CLR     A
0372 900000      R     MOV     DPTR,#tailtmp
0375 F0                MOVX    @DPTR,A
0376 A3                INC     DPTR
0377 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 184
0378         ?C0022:
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 20  

                                           ; SOURCE LINE # 185
0378 900000      R     MOV     DPTR,#pBuf
037B E0                MOVX    A,@DPTR
037C FB                MOV     R3,A
037D A3                INC     DPTR
037E E0                MOVX    A,@DPTR
037F FA                MOV     R2,A
0380 A3                INC     DPTR
0381 E0                MOVX    A,@DPTR
0382 F9                MOV     R1,A
0383 120000      E     LCALL   ?C?PLDPTR
0386 900000      R     MOV     DPTR,#tailtmp
0389 E0                MOVX    A,@DPTR
038A FE                MOV     R6,A
038B A3                INC     DPTR
038C E0                MOVX    A,@DPTR
038D F582              MOV     DPL,A
038F 8E83              MOV     DPH,R6
0391 120000      E     LCALL   ?C?CLDOPTR
0394 2403              ADD     A,#03H
0396 FF                MOV     R7,A
0397 E4                CLR     A
0398 33                RLC     A
0399 FE                MOV     R6,A
039A 900000      R     MOV     DPTR,#len1
039D F0                MOVX    @DPTR,A
039E A3                INC     DPTR
039F EF                MOV     A,R7
03A0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 186
03A1 C3                CLR     C
03A2 900000      R     MOV     DPTR,#len+01H
03A5 E0                MOVX    A,@DPTR
03A6 9F                SUBB    A,R7
03A7 900000      R     MOV     DPTR,#len
03AA E0                MOVX    A,@DPTR
03AB 9E                SUBB    A,R6
03AC 5003              JNC     $ + 5H
03AE 020000      R     LJMP    ?C0005
                                           ; SOURCE LINE # 187
                                           ; SOURCE LINE # 188
03B1 E4                CLR     A
03B2 900000      R     MOV     DPTR,#i
03B5 F0                MOVX    @DPTR,A
03B6 A3                INC     DPTR
03B7 F0                MOVX    @DPTR,A
03B8         ?C0024:
03B8 900000      R     MOV     DPTR,#len1
03BB E0                MOVX    A,@DPTR
03BC FE                MOV     R6,A
03BD A3                INC     DPTR
03BE E0                MOVX    A,@DPTR
03BF FF                MOV     R7,A
03C0 A3                INC     DPTR
03C1 E0                MOVX    A,@DPTR
03C2 FC                MOV     R4,A
03C3 A3                INC     DPTR
03C4 E0                MOVX    A,@DPTR
03C5 FD                MOV     R5,A
03C6 C3                CLR     C
03C7 9F                SUBB    A,R7
03C8 EC                MOV     A,R4
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 21  

03C9 9E                SUBB    A,R6
03CA 4003              JC      $ + 5H
03CC 020000      R     LJMP    ?C0025
                                           ; SOURCE LINE # 189
                                           ; SOURCE LINE # 190
03CF 900000      R     MOV     DPTR,#pBuf
03D2 E0                MOVX    A,@DPTR
03D3 FB                MOV     R3,A
03D4 A3                INC     DPTR
03D5 E0                MOVX    A,@DPTR
03D6 FA                MOV     R2,A
03D7 A3                INC     DPTR
03D8 E0                MOVX    A,@DPTR
03D9 F9                MOV     R1,A
03DA 900006            MOV     DPTR,#06H
03DD 120000      E     LCALL   ?C?PLDOPTR
03E0 120000      E     LCALL   ?C?ILDPTR
03E3 FF                MOV     R7,A
03E4 AEF0              MOV     R6,B
03E6 900000      R     MOV     DPTR,#pBuf
03E9 E0                MOVX    A,@DPTR
03EA FB                MOV     R3,A
03EB A3                INC     DPTR
03EC E0                MOVX    A,@DPTR
03ED FA                MOV     R2,A
03EE A3                INC     DPTR
03EF E0                MOVX    A,@DPTR
03F0 F9                MOV     R1,A
03F1 120000      E     LCALL   ?C?PLDPTR
03F4 8F82              MOV     DPL,R7
03F6 8E83              MOV     DPH,R6
03F8 120000      E     LCALL   ?C?CLDOPTR
03FB FF                MOV     R7,A
03FC 7400        R     MOV     A,#LOW SendTmp
03FE 2D                ADD     A,R5
03FF F582              MOV     DPL,A
0401 7400        R     MOV     A,#HIGH SendTmp
0403 3C                ADDC    A,R4
0404 F583              MOV     DPH,A
0406 EF                MOV     A,R7
0407 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 191
0408 900000      R     MOV     DPTR,#pBuf
040B E0                MOVX    A,@DPTR
040C FB                MOV     R3,A
040D A3                INC     DPTR
040E E0                MOVX    A,@DPTR
040F FA                MOV     R2,A
0410 A3                INC     DPTR
0411 E0                MOVX    A,@DPTR
0412 F9                MOV     R1,A
0413 900006            MOV     DPTR,#06H
0416 120000      E     LCALL   ?C?PLDOPTR
0419 E4                CLR     A
041A 75F001            MOV     B,#01H
041D 120000      E     LCALL   ?C?IILDPTR
                                           ; SOURCE LINE # 192
0420 900000      R     MOV     DPTR,#pBuf
0423 E0                MOVX    A,@DPTR
0424 FB                MOV     R3,A
0425 A3                INC     DPTR
0426 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 22  

0427 FA                MOV     R2,A
0428 A3                INC     DPTR
0429 E0                MOVX    A,@DPTR
042A F9                MOV     R1,A
042B 900006            MOV     DPTR,#06H
042E 120000      E     LCALL   ?C?PLDOPTR
0431 120000      E     LCALL   ?C?ILDPTR
0434 FF                MOV     R7,A
0435 AEF0              MOV     R6,B
0437 900000      R     MOV     DPTR,#pBuf
043A E0                MOVX    A,@DPTR
043B FB                MOV     R3,A
043C A3                INC     DPTR
043D E0                MOVX    A,@DPTR
043E FA                MOV     R2,A
043F A3                INC     DPTR
0440 E0                MOVX    A,@DPTR
0441 F9                MOV     R1,A
0442 900009            MOV     DPTR,#09H
0445 120000      E     LCALL   ?C?ILDOPTR
0448 FD                MOV     R5,A
0449 C3                CLR     C
044A EF                MOV     A,R7
044B 9D                SUBB    A,R5
044C EE                MOV     A,R6
044D 95F0              SUBB    A,B
044F 400C              JC      ?C0026
                                           ; SOURCE LINE # 193
                                           ; SOURCE LINE # 194
0451 900006            MOV     DPTR,#06H
0454 120000      E     LCALL   ?C?PLDOPTR
0457 E4                CLR     A
0458 F5F0              MOV     B,A
045A 120000      E     LCALL   ?C?ISTPTR
                                           ; SOURCE LINE # 195
                                           ; SOURCE LINE # 196
045D         ?C0026:
045D 900000      R     MOV     DPTR,#i+01H
0460 E0                MOVX    A,@DPTR
0461 04                INC     A
0462 F0                MOVX    @DPTR,A
0463 7006              JNZ     ?C0044
0465 900000      R     MOV     DPTR,#i
0468 E0                MOVX    A,@DPTR
0469 04                INC     A
046A F0                MOVX    @DPTR,A
046B         ?C0044:
046B 020000      R     LJMP    ?C0024
046E         ?C0025:
                                           ; SOURCE LINE # 201
046E 900000      R     MOV     DPTR,#SendTmp+04H
0471 E0                MOVX    A,@DPTR
0472 FE                MOV     R6,A
0473 A3                INC     DPTR
0474 E0                MOVX    A,@DPTR
0475 FF                MOV     R7,A
0476 7B01              MOV     R3,#01H
0478 7A00        R     MOV     R2,#HIGH SendTmp+07H
047A 7900        R     MOV     R1,#LOW SendTmp+07H
047C A3                INC     DPTR
047D E0                MOVX    A,@DPTR
047E FD                MOV     R5,A
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 23  

047F 900000      E     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
0482 E4                CLR     A
0483 F0                MOVX    @DPTR,A
0484 A3                INC     DPTR
0485 ED                MOV     A,R5
0486 F0                MOVX    @DPTR,A
0487 120000      E     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 202
048A 900000      R     MOV     DPTR,#SendTmp+06H
048D E0                MOVX    A,@DPTR
048E 25E0              ADD     A,ACC
0490 2404              ADD     A,#04H
0492 900000      R     MOV     DPTR,#SendTmp+02H
0495         ?C0046:
0495 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 208
0496 7F01              MOV     R7,#01H
0498 22                RET     
                                           ; SOURCE LINE # 212
                                           ; SOURCE LINE # 213
0499         ?C0021:
                                           ; SOURCE LINE # 215
                                           ; SOURCE LINE # 216
0499 900000      R     MOV     DPTR,#pBuf
049C E0                MOVX    A,@DPTR
049D FB                MOV     R3,A
049E A3                INC     DPTR
049F E0                MOVX    A,@DPTR
04A0 FA                MOV     R2,A
04A1 A3                INC     DPTR
04A2 E0                MOVX    A,@DPTR
04A3 F9                MOV     R1,A
04A4 900006            MOV     DPTR,#06H
04A7 120000      E     LCALL   ?C?PLDOPTR
04AA E4                CLR     A
04AB 75F001            MOV     B,#01H
04AE 120000      E     LCALL   ?C?IILDPTR
                                           ; SOURCE LINE # 217
04B1 900000      R     MOV     DPTR,#pBuf
04B4 E0                MOVX    A,@DPTR
04B5 FB                MOV     R3,A
04B6 A3                INC     DPTR
04B7 E0                MOVX    A,@DPTR
04B8 FA                MOV     R2,A
04B9 A3                INC     DPTR
04BA E0                MOVX    A,@DPTR
04BB F9                MOV     R1,A
04BC 900006            MOV     DPTR,#06H
04BF 120000      E     LCALL   ?C?PLDOPTR
04C2 120000      E     LCALL   ?C?ILDPTR
04C5 FF                MOV     R7,A
04C6 AEF0              MOV     R6,B
04C8 900000      R     MOV     DPTR,#pBuf
04CB E0                MOVX    A,@DPTR
04CC FB                MOV     R3,A
04CD A3                INC     DPTR
04CE E0                MOVX    A,@DPTR
04CF FA                MOV     R2,A
04D0 A3                INC     DPTR
04D1 E0                MOVX    A,@DPTR
04D2 F9                MOV     R1,A
04D3 900009            MOV     DPTR,#09H
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 24  

04D6 120000      E     LCALL   ?C?ILDOPTR
04D9 FD                MOV     R5,A
04DA C3                CLR     C
04DB EF                MOV     A,R7
04DC 9D                SUBB    A,R5
04DD EE                MOV     A,R6
04DE 95F0              SUBB    A,B
04E0 4057              JC      ?C0005
                                           ; SOURCE LINE # 218
                                           ; SOURCE LINE # 219
                                           ; SOURCE LINE # 220
                                           ; SOURCE LINE # 221
                                           ; SOURCE LINE # 222
04E2 8049              SJMP    ?C0047
04E4         ?C0011:
                                           ; SOURCE LINE # 224
                                           ; SOURCE LINE # 225
04E4 900000      R     MOV     DPTR,#pBuf
04E7 E0                MOVX    A,@DPTR
04E8 FB                MOV     R3,A
04E9 A3                INC     DPTR
04EA E0                MOVX    A,@DPTR
04EB FA                MOV     R2,A
04EC A3                INC     DPTR
04ED E0                MOVX    A,@DPTR
04EE F9                MOV     R1,A
04EF 900006            MOV     DPTR,#06H
04F2 120000      E     LCALL   ?C?PLDOPTR
04F5 E4                CLR     A
04F6 75F001            MOV     B,#01H
04F9 120000      E     LCALL   ?C?IILDPTR
                                           ; SOURCE LINE # 226
04FC 900000      R     MOV     DPTR,#pBuf
04FF E0                MOVX    A,@DPTR
0500 FB                MOV     R3,A
0501 A3                INC     DPTR
0502 E0                MOVX    A,@DPTR
0503 FA                MOV     R2,A
0504 A3                INC     DPTR
0505 E0                MOVX    A,@DPTR
0506 F9                MOV     R1,A
0507 900006            MOV     DPTR,#06H
050A 120000      E     LCALL   ?C?PLDOPTR
050D 120000      E     LCALL   ?C?ILDPTR
0510 FF                MOV     R7,A
0511 AEF0              MOV     R6,B
0513 900000      R     MOV     DPTR,#pBuf
0516 E0                MOVX    A,@DPTR
0517 FB                MOV     R3,A
0518 A3                INC     DPTR
0519 E0                MOVX    A,@DPTR
051A FA                MOV     R2,A
051B A3                INC     DPTR
051C E0                MOVX    A,@DPTR
051D F9                MOV     R1,A
051E 900009            MOV     DPTR,#09H
0521 120000      E     LCALL   ?C?ILDOPTR
0524 FD                MOV     R5,A
0525 C3                CLR     C
0526 EF                MOV     A,R7
0527 9D                SUBB    A,R5
0528 EE                MOV     A,R6
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 25  

0529 95F0              SUBB    A,B
052B 400C              JC      ?C0005
                                           ; SOURCE LINE # 227
                                           ; SOURCE LINE # 228
052D         ?C0047:
052D 900006            MOV     DPTR,#06H
0530 120000      E     LCALL   ?C?PLDOPTR
0533 E4                CLR     A
0534 F5F0              MOV     B,A
0536 120000      E     LCALL   ?C?ISTPTR
                                           ; SOURCE LINE # 229
                                           ; SOURCE LINE # 230
                                           ; SOURCE LINE # 231
0539         ?C0005:
                                           ; SOURCE LINE # 232
0539 7F00              MOV     R7,#00H
                                           ; SOURCE LINE # 233
053B         ?C0009:
053B 22                RET     
             ; FUNCTION _Pro8283RxTreat (END)

             ; FUNCTION Pro8283Deal (BEGIN)
                                           ; SOURCE LINE # 237
                                           ; SOURCE LINE # 238
                                           ; SOURCE LINE # 242
0000 900000      E     MOV     DPTR,#CanData+01A01H
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 900000      E     MOV     DPTR,#CanData+01A00H
0008 E0                MOVX    A,@DPTR
0009 6F                XRL     A,R7
000A 7003              JNZ     $ + 5H
000C 020000      R     LJMP    ?C0032
                                           ; SOURCE LINE # 243
                                           ; SOURCE LINE # 244
000F 75F00D            MOV     B,#0DH
0012 EF                MOV     A,R7
0013 A4                MUL     AB
0014 2400        E     ADD     A,#LOW CanData+01H
0016 F582              MOV     DPL,A
0018 E5F0              MOV     A,B
001A 3400        E     ADDC    A,#HIGH CanData+01H
001C F583              MOV     DPH,A
001E E0                MOVX    A,@DPTR
001F FC                MOV     R4,A
0020 A3                INC     DPTR
0021 E0                MOVX    A,@DPTR
0022 FD                MOV     R5,A
0023 A3                INC     DPTR
0024 E0                MOVX    A,@DPTR
0025 FE                MOV     R6,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 FF                MOV     R7,A
0029 E4                CLR     A
002A 7B23              MOV     R3,#023H
002C FA                MOV     R2,A
002D F9                MOV     R1,A
002E F8                MOV     R0,A
002F C3                CLR     C
0030 120000      E     LCALL   ?C?ULCMP
0033 705E              JNZ     ?C0033
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 26  

                                           ; SOURCE LINE # 245
                                           ; SOURCE LINE # 246
0035 900000      E     MOV     DPTR,#CanData+01A01H
0038 E0                MOVX    A,@DPTR
0039 75F00D            MOV     B,#0DH
003C A4                MUL     AB
003D 2400        E     ADD     A,#LOW CanData
003F F582              MOV     DPL,A
0041 E5F0              MOV     A,B
0043 3400        E     ADDC    A,#HIGH CanData
0045 F583              MOV     DPH,A
0047 E0                MOVX    A,@DPTR
0048 540F              ANL     A,#0FH
004A FF                MOV     R7,A
;---- Variable 'len' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 247
;---- Variable 'i' assigned to Register 'R6' ----
004B E4                CLR     A
004C FE                MOV     R6,A
004D         ?C0034:
004D EE                MOV     A,R6
004E C3                CLR     C
004F 9F                SUBB    A,R7
0050 5041              JNC     ?C0033
                                           ; SOURCE LINE # 248
                                           ; SOURCE LINE # 249
0052 900000      E     MOV     DPTR,#CanData+01A01H
0055 E0                MOVX    A,@DPTR
0056 75F00D            MOV     B,#0DH
0059 A4                MUL     AB
005A 2400        E     ADD     A,#LOW CanData+05H
005C F582              MOV     DPL,A
005E E5F0              MOV     A,B
0060 3400        E     ADDC    A,#HIGH CanData+05H
0062 F583              MOV     DPH,A
0064 E582              MOV     A,DPL
0066 2E                ADD     A,R6
0067 F582              MOV     DPL,A
0069 E4                CLR     A
006A 3583              ADDC    A,DPH
006C F583              MOV     DPH,A
006E E0                MOVX    A,@DPTR
006F FD                MOV     R5,A
0070 900000      R     MOV     DPTR,#DataBuf+0100H
0073 E0                MOVX    A,@DPTR
0074 FA                MOV     R2,A
0075 A3                INC     DPTR
0076 E0                MOVX    A,@DPTR
0077 2400        R     ADD     A,#LOW DataBuf
0079 F582              MOV     DPL,A
007B 7400        R     MOV     A,#HIGH DataBuf
007D 3A                ADDC    A,R2
007E F583              MOV     DPH,A
0080 ED                MOV     A,R5
0081 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 250
0082 900000      R     MOV     DPTR,#DataBuf+0101H
0085 E0                MOVX    A,@DPTR
0086 04                INC     A
0087 F0                MOVX    @DPTR,A
0088 7006              JNZ     ?C0045
008A 900000      R     MOV     DPTR,#DataBuf+0100H
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 27  

008D E0                MOVX    A,@DPTR
008E 04                INC     A
008F F0                MOVX    @DPTR,A
0090         ?C0045:
                                           ; SOURCE LINE # 251
0090 0E                INC     R6
0091 80BA              SJMP    ?C0034
                                           ; SOURCE LINE # 252
0093         ?C0033:
                                           ; SOURCE LINE # 253
0093 900000      E     MOV     DPTR,#CanData+01A01H
0096 E0                MOVX    A,@DPTR
0097 04                INC     A
0098 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 254
0099         ?C0032:
                                           ; SOURCE LINE # 256
0099 120000      R     LCALL   AutoUploadValue
009C EF                MOV     A,R7
009D 6401              XRL     A,#01H
009F 7041              JNZ     ?C0037
                                           ; SOURCE LINE # 257
                                           ; SOURCE LINE # 258
00A1 900000      R     MOV     DPTR,#SendTmp+02H
00A4 E0                MOVX    A,@DPTR
00A5 2403              ADD     A,#03H
00A7 FD                MOV     R5,A
00A8 E4                CLR     A
00A9 33                RLC     A
00AA FC                MOV     R4,A
00AB 7B01              MOV     R3,#01H
00AD 7A00        R     MOV     R2,#HIGH SendTmp
00AF 7900        R     MOV     R1,#LOW SendTmp
00B1 E4                CLR     A
00B2 FF                MOV     R7,A
00B3 120000      E     LCALL   _Uatr_Send_Data
                                           ; SOURCE LINE # 259
00B6 E4                CLR     A
00B7 900000      E     MOV     DPTR,#?_CanTx?BYTE+04H
00BA F0                MOVX    @DPTR,A
00BB 900000      R     MOV     DPTR,#SendTmp+02H
00BE E0                MOVX    A,@DPTR
00BF 2403              ADD     A,#03H
00C1 FE                MOV     R6,A
00C2 E4                CLR     A
00C3 33                RLC     A
00C4 900000      E     MOV     DPTR,#?_CanTx?BYTE+05H
00C7 F0                MOVX    @DPTR,A
00C8 A3                INC     DPTR
00C9 CE                XCH     A,R6
00CA F0                MOVX    @DPTR,A
00CB A3                INC     DPTR
00CC 7401              MOV     A,#01H
00CE F0                MOVX    @DPTR,A
00CF A3                INC     DPTR
00D0 7400        R     MOV     A,#HIGH SendTmp
00D2 F0                MOVX    @DPTR,A
00D3 A3                INC     DPTR
00D4 7400        R     MOV     A,#LOW SendTmp
00D6 F0                MOVX    @DPTR,A
00D7 7F23              MOV     R7,#023H
00D9 7E00              MOV     R6,#00H
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 28  

00DB 7D00              MOV     R5,#00H
00DD 7C00              MOV     R4,#00H
00DF 120000      E     LCALL   _CanTx
                                           ; SOURCE LINE # 260
00E2         ?C0037:
                                           ; SOURCE LINE # 262
00E2 7B01              MOV     R3,#01H
00E4 7A00        R     MOV     R2,#HIGH DwinFrame
00E6 7900        R     MOV     R1,#LOW DwinFrame
00E8 120000      R     LCALL   _Pro8283RxTreat
00EB BF0115            CJNE    R7,#01H,?C0038
                                           ; SOURCE LINE # 263
                                           ; SOURCE LINE # 264
00EE 900000      R     MOV     DPTR,#SendTmp+02H
00F1 E0                MOVX    A,@DPTR
00F2 2403              ADD     A,#03H
00F4 FD                MOV     R5,A
00F5 E4                CLR     A
00F6 33                RLC     A
00F7 FC                MOV     R4,A
00F8 7B01              MOV     R3,#01H
00FA 7A00        R     MOV     R2,#HIGH SendTmp
00FC 7900        R     MOV     R1,#LOW SendTmp
00FE E4                CLR     A
00FF FF                MOV     R7,A
0100 120000      E     LCALL   _Uatr_Send_Data
                                           ; SOURCE LINE # 265
0103         ?C0038:
                                           ; SOURCE LINE # 266
0103 7B01              MOV     R3,#01H
0105 7A00        R     MOV     R2,#HIGH DwinFrame+0BH
0107 7900        R     MOV     R1,#LOW DwinFrame+0BH
0109 120000      R     LCALL   _Pro8283RxTreat
010C BF012C            CJNE    R7,#01H,?C0040
                                           ; SOURCE LINE # 267
                                           ; SOURCE LINE # 268
010F E4                CLR     A
0110 900000      E     MOV     DPTR,#?_CanTx?BYTE+04H
0113 F0                MOVX    @DPTR,A
0114 900000      R     MOV     DPTR,#SendTmp+02H
0117 E0                MOVX    A,@DPTR
0118 2403              ADD     A,#03H
011A FE                MOV     R6,A
011B E4                CLR     A
011C 33                RLC     A
011D 900000      E     MOV     DPTR,#?_CanTx?BYTE+05H
0120 F0                MOVX    @DPTR,A
0121 A3                INC     DPTR
0122 CE                XCH     A,R6
0123 F0                MOVX    @DPTR,A
0124 A3                INC     DPTR
0125 7401              MOV     A,#01H
0127 F0                MOVX    @DPTR,A
0128 A3                INC     DPTR
0129 7400        R     MOV     A,#HIGH SendTmp
012B F0                MOVX    @DPTR,A
012C A3                INC     DPTR
012D 7400        R     MOV     A,#LOW SendTmp
012F F0                MOVX    @DPTR,A
0130 7F24              MOV     R7,#024H
0132 7E00              MOV     R6,#00H
0134 7D00              MOV     R5,#00H
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 29  

0136 7C00              MOV     R4,#00H
0138 120000      E     LCALL   _CanTx
                                           ; SOURCE LINE # 269
                                           ; SOURCE LINE # 270
013B         ?C0040:
013B 22                RET     
             ; FUNCTION Pro8283Deal (END)

C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 30  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


QUENE. . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  11
  pQuene . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0000H  3
  QueneHead. . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  QueneTail. . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  3
  QueneSize. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
CANBUSUNIT . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  6661
  BusRXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  3328
  BusTXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0D00H  3328
  CanRxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A00H  1
  CanRxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A01H  1
  CanTxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A02H  1
  CanTxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A03H  1
  CanTxFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A04H  1
Pro8283Deal. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
  len. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
DwinFrame. . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0000H  22
AutoUploadValue. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  address. . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
  len. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
Uart_Struct. . . . . . . . . . . . . .  EXTERN   XDATA  ARRAY    -----  -----
_write_dgus_vp . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
CanData. . . . . . . . . . . . . . . .  EXTERN   XDATA  STRUCT   -----  6661
CANBUS8283 . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  260
  Busbuf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  256
  Can8283RxHead. . . . . . . . . . . .  MEMBER   -----  U_INT    0100H  2
  Can8283RxTail. . . . . . . . . . . .  MEMBER   -----  U_INT    0102H  2
CANUNIT. . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  13
  status . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  candata. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0005H  8
DataBuf. . . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0016H  260
Pro8283Init. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  CanReg . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  4
MSPIFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
_mSPIFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
s8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
u8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
MNORFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 31  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
_mNORFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
_candataunitbuf. . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  6661
  BusRXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  3328
  BusTXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0D00H  3328
  CanRxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A00H  1
  CanRxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A01H  1
  CanTxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A02H  1
  CanTxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A03H  1
  CanTxFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A04H  1
_UartInit. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
SendTmp. . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    011AH  512
DATABUFF . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  2057
  tx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  1024
  rx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0400H  1024
  tx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0800H  2
  tx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0802H  2
  rx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0804H  2
  rx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0806H  2
  tx_flag. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0808H  1
databuff . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  2057
  tx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  1024
  rx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0400H  1024
  tx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0800H  2
  tx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0802H  2
  rx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0804H  2
  rx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0806H  2
  tx_flag. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0808H  1
_?ix1000 . . . . . . . . . . . . . . .  STATIC   CODE   ARRAY    0000H  4
MMUSIC . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_mMUSIC. . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_CanBusInit. . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_quene8283 . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  11
  pQuene . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0000H  3
  QueneHead. . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  QueneTail. . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  3
  QueneSize. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
_Pro8283RxTreat. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  pBuf . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
  len. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0003H  2
  len1 . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0005H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0007H  2
  tmp16. . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0009H  2
C51 COMPILER V9.53.0.0   DWIN8283                                                          12/08/2023 13:09:09 PAGE 32  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  headtmp. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    000BH  2
  tailtmp. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    000DH  2
s32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
u32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
s16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
u16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
_CanTx . . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_Uatr_Send_Data. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
_can8283 . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  260
  Busbuf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  256
  Can8283RxHead. . . . . . . . . . . .  MEMBER   -----  U_INT    0100H  2
  Can8283RxTail. . . . . . . . . . . .  MEMBER   -----  U_INT    0102H  2
_candataunit . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  13
  status . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  candata. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0005H  8
_read_dgus_vp. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1918    ----
   CONSTANT SIZE    =      4    ----
   XDATA SIZE       =    794      19
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
