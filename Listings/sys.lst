C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE SYS
OBJECT MODULE PLACED IN .\Objects\sys.obj
COMPILER INVOKED BY: D:\DWIN\Keil_v5\C51\BIN\C51.EXE driver\sys.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\driver;.\sourc
                    -e) DEBUG OBJECTEXTEND CODE SYMBOLS PRINT(.\Listings\sys.lst) OBJECT(.\Objects\sys.obj)

line level    source

   1          
   2          /******************************************************************************
   3          
   4                            ÔøΩÔøΩ»®ÔøΩÔøΩÔøΩÔøΩ (C), 2019, ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩƒø∆ºÔøΩÔøΩÔøΩÔøΩﬁπÔøΩÀæ
   5          
   6           ******************************************************************************
   7            ÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩ   : sys.c
   8            ÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩ   : V1.0
   9            ÔøΩÔøΩ    ÔøΩÔøΩ   : chenmeishu
  10            ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ   : 2019.9.2
  11            ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ   : 
  12            ÔøΩﬁ∏ÔøΩÔøΩÔøΩ ∑   :
  13            1.ÔøΩÔøΩ    ÔøΩÔøΩ   : 
  14              ÔøΩÔøΩ    ÔøΩÔøΩ   : 
  15              ÔøΩﬁ∏ÔøΩÔøΩÔøΩÔøΩÔøΩ   : 
  16          ******************************************************************************/
  17          #include "sys.h"
  18          MNORFLASH Nor_Flash;
  19          MSPIFLASH Spi_Flash;
  20          MMUSIC MusicBuf;
  21          s16 PosXChangeSpeed,PosYChangeSpeed,RealPosX,RealPosY;
  22          s16 xdistance,ydistance,PressPosX,PressPosY,LastPosX,LastPosY;
  23          u16 PressPageID;
  24          u8 PressPosChange,Touchstate;
  25          
  26          /*****************************************************************************
  27           ÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩ  : void read_dgus_vp(u32 addr,u8* buf,u16 len)
  28           ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  : ÔøΩÔøΩdgusÔøΩÔøΩ÷∑ÔøΩÔøΩ÷µ
  29           ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  :        addrÔøΩÔøΩdgusÔøΩÔøΩ÷∑÷µ  lenÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ›≥ÔøΩÔøΩÔøΩ
  30           ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  : bufÔøΩÔøΩÔøΩÔøΩÔøΩ›±ÔøΩÔøΩÊª∫ÔøΩÔøΩÔøΩÔøΩ
  31           ÔøΩﬁ∏ÔøΩÔøΩÔøΩ ∑  :
  32            1.ÔøΩÔøΩ    ÔøΩÔøΩ   : 2019ÔøΩÔøΩ4ÔøΩÔøΩ2ÔøΩÔøΩ
  33              ÔøΩÔøΩ    ÔøΩÔøΩ   : chengjing
  34              ÔøΩﬁ∏ÔøΩÔøΩÔøΩÔøΩÔøΩ   : ÔøΩÔøΩÔøΩÔøΩ
  35          *****************************************************************************/
  36          #define INTVPACTION
  37          void read_dgus_vp(u16 addr, u8 *buf, u16 len)
  38          {
  39   1              u16 OS_addr = 0;
  40   1              u16 OS_addr_offset = 0;
  41   1              u16 OS_len = 0, OS_len_offset = 0;
  42   1              u32 LenLimit;
  43   1              
  44   1              if(0==len)
  45   1                      return;
  46   1              LenLimit = 0xffffU - addr + 1;
  47   1              if(LenLimit < len)
  48   1              {
  49   2                      len = LenLimit;
  50   2              }
  51   1              OS_addr = addr >> 1;
  52   1              OS_addr_offset = addr & 0x01;
  53   1      #ifdef INTVPACTION      
  54   1              EA = 0;
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 2   

  55   1      #endif
  56   1              ADR_H = 0;
  57   1              ADR_M = (u8)(OS_addr >> 8);
  58   1              ADR_L = (u8)OS_addr;
  59   1              ADR_INC = 1;    
  60   1              RAMMODE = 0xAF; 
  61   1              while (!APP_ACK);                       
  62   1              if (OS_addr_offset)
  63   1              {
  64   2                      APP_EN = 1;
  65   2                      while (APP_EN);
  66   2                      *buf++ = DATA1;
  67   2                      *buf++ = DATA0;
  68   2                      len--;
  69   2              }
  70   1              OS_len = len >> 1;
  71   1              OS_len_offset = len & 0x01;
  72   1              while (OS_len--)
  73   1              {
  74   2                      APP_EN = 1;
  75   2                      while (APP_EN);
  76   2                      *buf++ = DATA3;
  77   2                      *buf++ = DATA2;
  78   2                      *buf++ = DATA1;
  79   2                      *buf++ = DATA0;
  80   2              }
  81   1              if (OS_len_offset)
  82   1              {
  83   2                      APP_EN = 1;
  84   2                      while (APP_EN);
  85   2                      *buf++ = DATA3;
  86   2                      *buf++ = DATA2;
  87   2              }
  88   1              RAMMODE = 0x00;
  89   1      #ifdef INTVPACTION      
  90   1              EA = 1;
  91   1      #endif
  92   1      }
  93          
  94          /*void read_dgus_vp(u32 addr,u8* buf,u16 len)
  95          {
  96              u32 xdata OS_addr;
  97                    u32 xdata OS_addr_offset;
  98              u16 xdata OS_len;
  99                    u16 xdata OS_len_offset;
 100                  
 101                          if(addr >= 0x10000)
 102                                  return;
 103                          EA = 0;
 104              OS_addr=addr/2;
 105              OS_addr_offset=addr%2;
 106              ADR_H=(u8)(OS_addr>>16)&0xFF;
 107              ADR_M=(u8)(OS_addr>>8)&0xFF;
 108              ADR_L=(u8)OS_addr&0xFF;
 109              ADR_INC=1;                 //DGUS  OSÔøΩÊ¥¢ÔøΩÔøΩÔøΩÔøΩ÷∑ÔøΩ⁄∂ÔøΩ–¥ÔøΩÔøΩÔøΩ‘∂ÔøΩÔøΩÔøΩ1
 110              RAMMODE=0xAF;               //ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩƒ£ Ω
 111              if(OS_addr_offset==1)       //ÔøΩ◊µÔøΩ÷∑ÔøΩÔøΩ∆´ÔøΩ∆£ÔøΩÔøΩÔøΩÔøΩÔøΩ
 112              {
 113                  while(APP_ACK==0);      //ÔøΩ»¥ÔøΩ
 114                  APP_EN=1;
 115                  while(APP_EN==1); 
 116                  *buf++=DATA1;
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 3   

 117                  *buf++=DATA0;              
 118                  len--;
 119                  OS_addr_offset=0;
 120              }
 121              OS_len=len/2;
 122              OS_len_offset=len%2;
 123              if(OS_len_offset==1)
 124              {
 125                   OS_len++;
 126              }
 127              while(OS_len--)
 128              {
 129                  if((OS_len_offset==1)&&(OS_len==0))
 130                  {          
 131                      while(APP_ACK==0);
 132                      APP_EN=1;
 133                      while(APP_EN==1);       //ÔøΩÔøΩ–¥÷¥ÔøΩ–ΩÔøΩÔøΩÔøΩ
 134                      *buf++=DATA3;
 135                      *buf++=DATA2;           
 136                      break;    
 137                  } 
 138                  while(APP_ACK==0);
 139                  APP_EN=1;
 140                  while(APP_EN==1);       //ÔøΩÔøΩ–¥÷¥ÔøΩ–ΩÔøΩÔøΩÔøΩ 
 141                  *buf++=DATA3;
 142                  *buf++=DATA2;
 143                  *buf++=DATA1;
 144                  *buf++=DATA0;                          
 145              }   
 146              RAMMODE=0x00;           //ÔøΩÔøΩ–¥ÔøΩÔøΩ…∫ÔøΩRAMMODEÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
 147                          EA = 1;
 148                          delay_us(100);
 149          }*/
 150          
 151          
 152          
 153          
 154          /*****************************************************************************
 155           ÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩ  : void write_dgus_vp(u32 addr,u8* buf,u16 len)
 156           ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  : –¥dgusÔøΩÔøΩ÷∑ÔøΩÔøΩÔøΩÔøΩ
 157          ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  :         addrÔøΩÔøΩ–¥ÔøΩÔøΩ÷∑÷µ bufÔøΩÔøΩ–¥ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ›±ÔøΩÔøΩÊª∫ÔøΩÔøΩÔøΩÔøΩ lenÔ
             -øΩÔøΩÔøΩ÷≥ÔøΩÔøΩÔøΩ
 158           ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  : 
 159           ÔøΩﬁ∏ÔøΩÔøΩÔøΩ ∑  :
 160            1.ÔøΩÔøΩ    ÔøΩÔøΩ   : 2019ÔøΩÔøΩ4ÔøΩÔøΩ2ÔøΩÔøΩ
 161              ÔøΩÔøΩ    ÔøΩÔøΩ   : chengjing
 162              ÔøΩﬁ∏ÔøΩÔøΩÔøΩÔøΩÔøΩ   : ÔøΩÔøΩÔøΩÔøΩ
 163          *****************************************************************************/
 164          void write_dgus_vp(u16 addr, u8 *buf, u16 len)
 165          {
 166   1              
 167   1              while (len--) {
 168   2                      ADR_H = 0x00;
 169   2                      ADR_M = (u8)( ( addr/2)>>8);
 170   2                      ADR_L = (u8)(addr/2);
 171   2                      RAMMODE = 0xAF; 
 172   2                      while(!APP_ACK); //–û–ø–µ—Ä–∞—Ü–∏—è —á—Ç–µ–Ω–∏—è
 173   2                      APP_EN = 1; 
 174   2                      while(APP_EN); 
 175   2                      RAMMODE = 0;
 176   2                      ADR_M = ( u8)((addr/2)>>8);
 177   2                      ADR_L = (u8)(addr/2);
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 4   

 178   2                      RAMMODE = 0x8F; 
 179   2                      while(!APP_ACK); //–û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–∏
 180   2                      if(addr%2){
 181   3                              DATA1 = *buf++;
 182   3                              DATA0 = *buf++;
 183   3                      } else {
 184   3                              DATA3 = *buf++;
 185   3                              DATA2 = *buf++;
 186   3                      }
 187   2                      addr++; 
 188   2                      APP_EN = 1; 
 189   2                      while(APP_EN); 
 190   2                      RAMMODE = 0;
 191   2              }
 192   1              
 193   1              
 194   1              
 195   1              
 196   1      
 197   1      //working
 198   1      //      u16 OS_addr = 0;
 199   1      //      u16 OS_addr_offset = 0;
 200   1      //      u16 OS_len = 0,OS_len_offset = 0;
 201   1      //      u16 LenLimit;
 202   1              
 203   1      //      if(0==len)
 204   1      //              return;
 205   1      //      LenLimit = 0xffffU - addr + 1;
 206   1      //      if(LenLimit < len)
 207   1      //      {
 208   1      //              len = LenLimit;
 209   1      //      }
 210   1      //      OS_addr = addr >> 1;
 211   1      //      OS_addr_offset = addr & 0x01;
 212   1      // #ifdef INTVPACTION   
 213   1      //      EA = 0;
 214   1      // #endif
 215   1      //      ADR_H = 0;
 216   1      //      ADR_M = (u8)(OS_addr >> 8);
 217   1      //      ADR_L = (u8)OS_addr;
 218   1      //      ADR_INC = 0x01; 
 219   1      //      RAMMODE = 0x83;
 220   1      //      while (!APP_ACK);
 221   1      //      if (OS_addr_offset)
 222   1      //      {
 223   1      //              DATA1 = *buf++;
 224   1      //              DATA0 = *buf++;
 225   1      //              APP_EN = 1;
 226   1      //              while (APP_EN);
 227   1      //              len--;
 228   1      //      }
 229   1      //      OS_len = len >> 1;
 230   1      //      OS_len_offset = len & 0x01;
 231   1      //      RAMMODE = 0x8F;
 232   1      //      while (OS_len--)
 233   1      //      {
 234   1      //              DATA3 = *buf++;
 235   1      //              DATA2 = *buf++;
 236   1      //              DATA1 = *buf++;
 237   1      //              DATA0 = *buf++;
 238   1      //              APP_EN = 1;
 239   1      //              while (APP_EN);
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 5   

 240   1      //      }
 241   1      //      if (OS_len_offset)
 242   1      //      {
 243   1      //              RAMMODE = 0x8C;
 244   1      //              DATA3 = *buf++;
 245   1      //              DATA2 = *buf++;
 246   1      //              APP_EN = 1;
 247   1      //              while (APP_EN);
 248   1      //      }
 249   1      //      RAMMODE = 0x00;
 250   1      // #ifdef INTVPACTION   
 251   1      //      EA = 1;
 252   1      // #endif
 253   1      }
 254          
 255          /*void write_dgus_vp(u32 addr,u8* buf,u16 len)
 256          {
 257              u32 xdata OS_addr;
 258                    u32 xdata OS_addr_offset;
 259              u16 xdata OS_len;
 260                    u16 xdata OS_len_offset;
 261                  
 262                          if(addr >= 0x10000)
 263                                  return;
 264              EA=0;
 265              OS_addr=addr/2;
 266              OS_addr_offset=addr%2; 
 267              ADR_H=(u8)(OS_addr>>16)&0xFF;
 268              ADR_M=(u8)(OS_addr>>8)&0xFF;
 269              ADR_L=(u8)OS_addr&0xFF;
 270              ADR_INC=0x01;                 //DGUS  OSÔøΩÊ¥¢ÔøΩÔøΩÔøΩÔøΩ÷∑ÔøΩ⁄∂ÔøΩ–¥ÔøΩÔøΩÔøΩ‘∂ÔøΩÔøΩÔøΩ1
 271              RAMMODE=0x8F;               //ÔøΩÔøΩÔøΩÔøΩ–¥ƒ£ Ω 
 272              if(OS_addr_offset==1)
 273              {
 274                  ADR_INC=0;
 275                  RAMMODE=0xAF;
 276                  while(APP_ACK==0);
 277                  APP_EN=1;
 278                  while(APP_EN==1);       //ÔøΩÔøΩ–¥÷¥ÔøΩ–ΩÔøΩÔøΩÔøΩ
 279                  ADR_INC=0x01; 
 280                  RAMMODE=0x8F;
 281                  while(APP_ACK==0);      
 282                  DATA1=*buf++;
 283                  DATA0=*buf++;
 284                  APP_EN=1;
 285                  while(APP_EN==1);       //ÔøΩÔøΩ–¥÷¥ÔøΩ–ΩÔøΩÔøΩÔøΩ
 286                  len--;
 287                  OS_addr_offset=0;
 288              }
 289              OS_len=len/2;
 290              OS_len_offset=len%2; 
 291              if(OS_len_offset==1)
 292              {
 293                   OS_len++;
 294              }
 295              while(OS_len--)
 296              {
 297                  if((OS_len_offset==1)&&(OS_len==0))
 298                  {
 299                      ADR_INC=0;
 300                      RAMMODE=0xAF;
 301                      while(APP_ACK==0);
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 6   

 302                      APP_EN=1;                //ÔøΩÔøΩÔøΩÔøΩ“ªÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÃ£ÔøΩÔøΩÔøΩÔøΩÔøΩ–¥ÔøΩÔøΩÔøΩÔøΩ 
             -±ÔøΩ·Ω´ÔøΩÔøΩ“ªÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ–¥0
 303                      while(APP_EN==1);       //ÔøΩÔøΩ–¥÷¥ÔøΩ–ΩÔøΩÔøΩÔøΩ
 304                      ADR_INC=0x01;
 305                      RAMMODE=0x8F;
 306                      while(APP_ACK==0);           
 307                      DATA3=*buf++;
 308                      DATA2=*buf++;
 309                      APP_EN=1;
 310                      while(APP_EN==1);       //ÔøΩÔøΩ–¥÷¥ÔøΩ–ΩÔøΩÔøΩÔøΩ
 311                      break;
 312                  }
 313                  while(APP_ACK==0);        
 314                  DATA3=*buf++;
 315                  DATA2=*buf++;
 316                  DATA1=*buf++;
 317                  DATA0=*buf++;
 318                  APP_EN=1;
 319                  while(APP_EN==1);       //ÔøΩÔøΩ–¥÷¥ÔøΩ–ΩÔøΩÔøΩÔøΩ
 320              } 
 321              RAMMODE=0x00;       //ÔøΩÔøΩ–¥ÔøΩÔøΩ…∫ÔøΩRAMMODEÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
 322              EA=1; 
 323                          delay_us(100);          
 324          }  */
 325          
 326          
 327          /*****************************************************************************
 328           ÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩ  : void INIT_CPU(void)
 329           ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  : CPUÔøΩÔøΩ ºÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
 330                                  ÔøΩÔøΩÔøΩÔøΩ µÔøΩÔøΩ πÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩﬁ∏ƒªÚµ•∂ÔøΩÔøΩÔøΩÔøΩÔøΩ
 331           ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  :       
 332           ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ  : 
 333           ÔøΩﬁ∏ÔøΩÔøΩÔøΩ ∑  :
 334            1.ÔøΩÔøΩ    ÔøΩÔøΩ   : 2019ÔøΩÔøΩ4ÔøΩÔøΩ1ÔøΩÔøΩ
 335              ÔøΩÔøΩ    ÔøΩÔøΩ   : chengjing
 336              ÔøΩﬁ∏ÔøΩÔøΩÔøΩÔøΩÔøΩ   : ÔøΩÔøΩÔøΩÔøΩ
 337          *****************************************************************************/ 
 338          void INIT_CPU(void)
 339          {
 340   1          EA=0;
 341   1          RS0=0;
 342   1          RS1=0;
 343   1      
 344   1          CKCON=0x00;
 345   1          T2CON=0x70;
 346   1              TH2=0X00;
 347   1              TL2=0X00;
 348   1              TRL2H=0XBC;
 349   1              TRL2L=0XCD;
 350   1              ET2=1;
 351   1              TR2=1;
 352   1          DPC=0x00;
 353   1          PAGESEL=0x01;
 354   1          D_PAGESEL=0x02;   //DATA RAM  0x8000-0xFFFF
 355   1          MUX_SEL=0x60;   //UART2,UART2ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩWDTÔøΩÿ±ÔøΩ
 356   1          RAMMODE=0x00;
 357   1          PORTDRV=0x01;   //ÔøΩÔøΩÔøΩÔøΩ«øÔøΩÔøΩ+/-8mA
 358   1          IEN0=0x00;      //ÔøΩÿ±ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ–∂ÔøΩ
 359   1          IEN1=0x00;
 360   1          IEN2=0x00;
 361   1          IP0=0x00;      //ÔøΩ–∂ÔøΩÔøΩÔøΩÔøΩ»ºÔøΩƒ¨ÔøΩÔøΩ
 362   1          IP1=0x00;
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 7   

 363   1      /*****************
 364   1          WDT_OFF();      //ÔøΩÿ±’øÔøΩÔøΩ≈πÔøΩ
 365   1      ************************************/
 366   1               ClearRAM();                                                                    //ÔøΩÔøΩ ºÔøΩÔøΩRAMŒ™0
 367   1      }
 368          
 369          void ClearRAM(void)
 370          {
 371   1              u8 xdata*ptr;
 372   1              u16 data i;
 373   1              
 374   1              ptr = 0x8000;
 375   1              
 376   1              for(i=0;i<0x8000;i++)
 377   1                      *ptr++ = 0;
 378   1      }
 379          
 380          void ResetT5L(void)
 381          {
 382   1              u32 tmp;
 383   1              
 384   1              tmp = 0x55aa5aa5;
 385   1              write_dgus_vp(0x04,(u8*)&tmp,2);
 386   1      }
 387          
 388          void delay_us(unsigned int t)
 389          { 
 390   1       u8 i;
 391   1      
 392   1       while(t)
 393   1       {
 394   2                      for(i=0;i<24;i++) {
 395   3                      i=i;
 396   3                      }
 397   2                      t--;
 398   2       }
 399   1      }
 400          
 401          void TouchSwitch(u16 PageID, u8 TouchType, u8 TouchID, u8 Status)
 402          {
 403   1              u8 k_data[8];
 404   1              
 405   1              *(u16*)k_data = 0x5aa5;
 406   1              *(u16*)&k_data[2] = PageID;
 407   1              k_data[4] = TouchID;
 408   1              k_data[5] = TouchType;
 409   1              if(Status)
 410   1                      *(u16*)&k_data[6] = 1;
 411   1              else
 412   1                      *(u16*)&k_data[6] = 0;
 413   1              write_dgus_vp(0xb0,k_data,4);
 414   1              do
 415   1              {
 416   2                      delay_us(500);
 417   2                      read_dgus_vp(0xb0,k_data,1);
 418   2              }while(k_data[0]!=0);
 419   1      }
 420          
 421          void MusicPlay(u8 MusicId)
 422          {
 423   1              u8 k_data[4];
 424   1              
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 8   

 425   1              read_dgus_vp(0xa0,k_data,2);
 426   1              k_data[0] = MusicId;
 427   1              k_data[1] = 0x01;
 428   1              k_data[3] = 0;
 429   1              write_dgus_vp(0xa0,k_data,2);
 430   1      }
 431          
 432          //void StrCopy(u8 *str1,u8 *str2, u16 len)
 433          //{
 434          //      u16 i;
 435          //      
 436          //      if((str1==NULL)||(str2==NULL))
 437          //              return;
 438          //      for(i=0;i<len;i++)
 439          //      {
 440          //              str1[i] = str2[i];
 441          //      }
 442          //}
 443          
 444          //u8 StrCopare(u8 *str1,u8 *str2, u16 len)
 445          //{
 446          //      u16 i;
 447          //      
 448          //      if((str1==NULL)||(NULL == str2))
 449          //              return 0;
 450          //      for(i=0;i<len;i++)
 451          //      {
 452          //              if(*str1++ != *str2++)
 453          //                      return 1;
 454          //      }
 455          //      return 0;
 456          //}
 457          
 458          //void StrClear(u8 *str1,u16 len)
 459          //{
 460          //      u16 i;
 461          //      
 462          //      if(str1==NULL)
 463          //              return;
 464          //      for(i=0;i<len;i++)
 465          //      {
 466          //              *str1++ = 0;
 467          //      }
 468          //}
 469          
 470          void NorFlash_Action(void)
 471          {
 472   1              u8 buf[8];      
 473   1              
 474   1              buf[0] = Nor_Flash.Mode;
 475   1              buf[1] = (u8)(Nor_Flash.FLAddr>>16);
 476   1              buf[2] = (u8)(Nor_Flash.FLAddr>>8);
 477   1              buf[3] = (u8)Nor_Flash.FLAddr;
 478   1              buf[4] = (u8)(Nor_Flash.VPAddr>>8);
 479   1              buf[5] = (u8)Nor_Flash.VPAddr;
 480   1              buf[6] = (u8)(Nor_Flash.Len>>8);
 481   1              buf[7] = (u8)Nor_Flash.Len;
 482   1              if(Nor_Flash.Mode == 0xa5)//–¥ÔøΩÔøΩÔøΩÔøΩ
 483   1              {
 484   2                      if(Nor_Flash.Buf != NULL)
 485   2                              write_dgus_vp(Nor_Flash.VPAddr,Nor_Flash.Buf,Nor_Flash.Len);
 486   2              }
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 9   

 487   1              write_dgus_vp(0x08,buf,4);
 488   1              do
 489   1              {
 490   2                      delay_us(500);
 491   2                      read_dgus_vp(0x08,buf,1);
 492   2              }while(buf[0]!=0);
 493   1              if(Nor_Flash.Mode == 0x5a)//ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
 494   1              {
 495   2                      if(Nor_Flash.Buf != NULL)
 496   2                              read_dgus_vp(Nor_Flash.VPAddr,Nor_Flash.Buf,Nor_Flash.Len);
 497   2              }
 498   1              delay_ms(FLASH_ACCESS_CYCLE);
 499   1      }
 500          
 501          void SPIFlash_Action(void)//ÔøΩÔøΩÔøΩÔøΩ–¥ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ“™ÔøΩÔøΩ«∞◊ºÔøΩÔøΩÔøΩÔøΩ32KÔøΩÔøΩVPÔøΩÔøΩÔøΩÔø
             -Ω
 502          {
 503   1              u8 buf[12];
 504   1              
 505   1              buf[0] = 0x5a;
 506   1              buf[1] = Spi_Flash.Mode;
 507   1              if(Spi_Flash.Mode == 1)
 508   1              {
 509   2                      buf[2] = Spi_Flash.ID;
 510   2                      buf[3] = (u8)(Spi_Flash.FLAddr>>16);
 511   2                      buf[4] = (u8)(Spi_Flash.FLAddr>>8);
 512   2                      buf[5] = (u8)Spi_Flash.FLAddr;
 513   2                      buf[6] = (u8)(Spi_Flash.VPAddr>>8);
 514   2                      buf[7] = (u8)Spi_Flash.VPAddr;
 515   2                      buf[8] = (u8)(Spi_Flash.Len>>8);
 516   2                      buf[9] = (u8)Spi_Flash.Len;
 517   2                      buf[10] = 0;
 518   2                      buf[11] = 0;
 519   2              }
 520   1              else if(Spi_Flash.Mode == 2)
 521   1              {
 522   2                      buf[2] = (u8)(Spi_Flash.ID>>8);
 523   2                      buf[3] = (u8)Spi_Flash.ID;
 524   2                      buf[4] = (u8)(Spi_Flash.VPAddr>>8);
 525   2                      buf[5] = (u8)Spi_Flash.VPAddr;
 526   2                      buf[6] = (u8)(Spi_Flash.Delay>>8);
 527   2                      buf[7] = (u8)Spi_Flash.Delay;
 528   2                      buf[8] = 0;
 529   2                      buf[9] = 0;
 530   2                      buf[10] = 0;
 531   2                      buf[11] = 0;
 532   2              }       
 533   1              write_dgus_vp(0xaa,buf,6);
 534   1              do
 535   1              {
 536   2                      delay_us(500);
 537   2                      read_dgus_vp(0xaa,buf,1);
 538   2              }while(buf[0]!=0);
 539   1              if(Spi_Flash.Mode == 1)//ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
 540   1              {
 541   2                      if(Spi_Flash.Buf != NULL)
 542   2                              read_dgus_vp(Spi_Flash.VPAddr,Spi_Flash.Buf,Spi_Flash.Len);
 543   2              }
 544   1              delay_ms(FLASH_ACCESS_CYCLE);
 545   1      }
 546          
 547          //ÔøΩÔøΩ√µÔøΩ«∞“≥ÔøΩÔøΩ
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 10  

 548          u16 GetPageID()
 549          {
 550   1                u16  nPage;
 551   1              
 552   1          read_dgus_vp(PIC_NOW,(u8*)(&nPage),1);      
 553   1                return nPage;
 554   1      }
 555          
 556          void Page_Change(u16 PageID)
 557          {
 558   1              u8 buf[4];
 559   1        
 560   1              buf[0] = 0x5a;
 561   1              buf[1] = 0x01;
 562   1              buf[2] = (u8)(PageID >> 8);
 563   1              buf[3] = (u8)PageID;
 564   1        write_dgus_vp(0x84,buf,2);
 565   1              do
 566   1              {
 567   2                      delay_us(500);
 568   2                      read_dgus_vp(0x14,buf,2);
 569   2              }while(*(u16*)buf!=PageID);
 570   1              buf[0] = 0;
 571   1              buf[1] = 0;
 572   1              buf[2] = 0;
 573   1              buf[3] = 0;
 574   1              write_dgus_vp(0x16,buf,2);
 575   1      }
 576          
 577          void delay_ms(u16 t)
 578          {
 579   1              u16 i,j;
 580   1                for(i=0;i<t;i++)
 581   1                {
 582   2                              for(j=0;j<300;j++)
 583   2                   delay_us(1);
 584   2                      }
 585   1      }
 586          
 587          void SetPinOut(u8 Port,u8 Pin)
 588          {
 589   1                switch(Port)
 590   1                      {
 591   2                                case 0: P0MDOUT|=(1<<Pin);
 592   2                                                    break;
 593   2                                      case 1: P1MDOUT|=(1<<Pin);
 594   2                                                    break;
 595   2                                      case 2: P2MDOUT|=(1<<Pin);
 596   2                                                    break;
 597   2                                      case 3: P3MDOUT|=(1<<Pin);
 598   2                                                    break;    
 599   2              default:break;                          
 600   2                      }
 601   1                      
 602   1      }
 603          
 604          void SetPinIn(u8 Port,u8 Pin)
 605          {
 606   1                switch(Port)
 607   1                      {
 608   2                                case 0: P0MDOUT&=~(1<<Pin);
 609   2                                                    break;
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 11  

 610   2                                      case 1: P1MDOUT&=~(1<<Pin);
 611   2                                                    break;
 612   2                                      case 2: P2MDOUT&=~(1<<Pin);
 613   2                                                    break;
 614   2                                      case 3: P3MDOUT&=~(1<<Pin);
 615   2                                                    break;    
 616   2              default:break;                          
 617   2                      }
 618   1                      
 619   1      }
 620          
 621          
 622          
 623          void  PinOutput(u8 Port,u8 Pin,u8 value)
 624          {
 625   1                switch(Port)
 626   1                      {
 627   2                                case 0: if(value) P0|=(1<<Pin);
 628   2                                                    else      P0&=~(1<<Pin);
 629   2                                                    break;
 630   2                                      case 1: if(value) P1|=(1<<Pin);
 631   2                                                    else      P1&=~(1<<Pin);
 632   2                                                    break;
 633   2                                      case 2: if(value) P2|=(1<<Pin);
 634   2                                                    else      P2&=~(1<<Pin);
 635   2                                                    break;
 636   2                                      case 3: if(value) P3|=(1<<Pin);
 637   2                                                    else      P3&=~(1<<Pin);
 638   2                                                    break;    
 639   2              default:break;                          
 640   2                      }
 641   1      }
 642          
 643          
 644          
 645          u8 GetPinIn(u8 Port,u8 Pin)
 646          {        
 647   1              u8 value;
 648   1                switch(Port)
 649   1                      {
 650   2                                case 0: value=P0&(1<<Pin);
 651   2                                                    break;
 652   2                                      case 1: value=P1&(1<<Pin);
 653   2                                                    break;
 654   2                                      case 2: value=P2&(1<<Pin);
 655   2                                                    break;
 656   2                                      case 3: value=P3&(1<<Pin);
 657   2                                                    break;    
 658   2              default:
 659   2                                                    value=0;
 660   2                                                  break;                              
 661   2                      }
 662   1                      return value;
 663   1      }
 664          
 665          u8 GetTouchStatus(void)
 666          {
 667   1              u8 k_data[8];
 668   1              
 669   1              read_dgus_vp(0x16,k_data,4);
 670   1              if(k_data[0]==0x5a)
 671   1              {
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 12  

 672   2                      if(k_data[1]==0x01)//ÔøΩÔøΩ“ªÔøΩŒ∞ÔøΩÔøΩÔøΩ
 673   2                      {
 674   3                              LastPosX = PressPosX = *(s16*)&k_data[2];
 675   3                              LastPosY = PressPosY = *(s16*)&k_data[4];
 676   3                              Touchstate = FIRST_PRESS;
 677   3                      }
 678   2                      else if(k_data[1]==0x03)//ÔøΩÔøΩÔøΩÔøΩ
 679   2                      {
 680   3                              LastPosY = RealPosY;
 681   3                              LastPosX = RealPosX;
 682   3                              Touchstate = UNDER_PRESS;
 683   3                      }
 684   2                      else//ÃßÔøΩÔøΩ
 685   2                      {
 686   3                              Touchstate = RELEASE_PRESS;
 687   3                      }
 688   2                      RealPosX = *(s16*)&k_data[2];
 689   2                      RealPosY = *(s16*)&k_data[4];
 690   2                      k_data[0] = 0;
 691   2                      write_dgus_vp(0x16,k_data,2);
 692   2                      return Touchstate;
 693   2              }
 694   1              else
 695   1              {
 696   2                      if((k_data[1]==0x02)||(k_data[1]==0x00))
 697   2                      {
 698   3                              Touchstate = IDLE_PRESS;
 699   3                      }
 700   2                      return Touchstate;
 701   2              }
 702   1      }
 703          
 704          u8 GetTouchAnction(u16 PageID)
 705          {
 706   1              u8 status;
 707   1              u32 x2distance,y2distance;
 708   1              
 709   1              status = GetTouchStatus();
 710   1              if(IDLE_PRESS==status)
 711   1              {
 712   2                      PressPosChange = UNTOUCH;
 713   2                      return PressPosChange;
 714   2              }
 715   1              else if(FIRST_PRESS==status)//ÔøΩ◊¥Œ∞ÔøΩÔøΩ¬£ÔøΩÔøΩÔøΩ¬ºÔøΩÔøΩÔøΩÔøΩ“≥ÔøΩÊ£¨ÔøΩÔøΩ÷πÔøΩ–ªÔøΩÔøΩÔøΩÔøΩÔøΩÔ
             -øΩÔøΩ“≥ÔøΩÔøΩÔøΩÔøΩÔøΩ”∞ÔøΩÔøΩ
 716   1              {
 717   2                      read_dgus_vp(0x14,(u8*)&PressPageID,1);
 718   2                      PressPosChange = UNSLIDE;
 719   2                      return UNSLIDE;
 720   2              }
 721   1              else
 722   1              {
 723   2                      if(PageID != PressPageID)
 724   2                      {
 725   3                              return UNSLIDE;
 726   3                      }
 727   2                      xdistance = (PressPosX - RealPosX);
 728   2                      x2distance = xdistance * xdistance;
 729   2                      ydistance = (PressPosY - RealPosY);
 730   2                      y2distance = ydistance * ydistance;
 731   2                      if(UNDER_PRESS==status)//ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
 732   2                      {
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 13  

 733   3                              if(UNSLIDE == PressPosChange)//Œ¥ÔøΩÔøΩÔøΩÔøΩ
 734   3                              {
 735   4                                      if((y2distance >= SLIDE_THRESHOLD)||(x2distance >= SLIDE_THRESHOLD))
 736   4                                      {
 737   5                                              if(y2distance*ANGLE_THRESHOLD >= x2distance)//   Y/X > 0.5ÔøΩÔøΩÔøΩÔøΩ30ÔøΩ»ΩÔøΩÔøΩÔøΩŒ™ÔøΩÔøΩÔøΩÚª¨∂
             -ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÚª¨∂ÔøΩÔøΩƒ∑÷ΩÔøΩÔøΩÔøΩ
 738   5                                              {
 739   6                                                      PressPosChange = VERTICAL_SLIDE;
 740   6                                                      return VERTICAL_SLIDE;//ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÚª¨∂ÔøΩ
 741   6                                              }
 742   5                                              else//ÔøΩÔøΩÔøΩ“ªÔøΩÔøΩÔøΩ
 743   5                                              {
 744   6                                                      PressPosChange = HORIZONTAL_SLIDE;
 745   6                                                      return HORIZONTAL_SLIDE;
 746   6                                              }
 747   5                                      }
 748   4                              }
 749   3                              return PressPosChange;
 750   3                      }
 751   2                      else//ÃßÔøΩÔøΩ◊¥Ã¨
 752   2                      {
 753   3                              if(UNSLIDE == PressPosChange)//Œ¥ÔøΩÔøΩÔøΩÔøΩ
 754   3                              {
 755   4                                      if((y2distance >= SLIDE_THRESHOLD)||(x2distance >= SLIDE_THRESHOLD))//ÔøΩÔøΩÔøΩÔøΩÔøΩŸªÔøΩÔøΩÔøΩ ±ÔøΩÔ
             -øΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÎ≥§ÔøΩÔøΩ◊¥Ã¨ÔøΩÔøΩÃßÔøΩÔøΩ ±Õ¨ÔøΩÔøΩÔøΩ–∂ÔøΩ“ªÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩƒ±
             -ÔøΩÔøΩÔøΩÔøΩ
 756   4                                      {
 757   5                                              if(y2distance*ANGLE_THRESHOLD >= x2distance)//   Y/X > 0.5ÔøΩÔøΩÔøΩÔøΩ30ÔøΩ»ΩÔøΩÔøΩÔøΩŒ™ÔøΩÔøΩÔøΩÚª¨∂
             -ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÚª¨∂ÔøΩÔøΩƒ∑÷ΩÔøΩÔøΩÔøΩ
 758   5                                              {
 759   6                                                      PressPosChange = VERTICAL_SLIDE;//ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÚª¨∂ÔøΩ
 760   6                                              }
 761   5                                              else//ÔøΩÔøΩÔøΩ“ªÔøΩÔøΩÔøΩ
 762   5                                              {
 763   6                                                      PressPosChange = HORIZONTAL_SLIDE;
 764   6                                              }
 765   5                                      }
 766   4                                      else
 767   4                                      {
 768   5                                              return CLICKTOUCH;//ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ¬ºÔøΩ
 769   5                                      }
 770   4                              }
 771   3                              if(VERTICAL_SLIDE==PressPosChange)
 772   3                              {
 773   4                                      PosYChangeSpeed = LastPosY-RealPosY;//ÔøΩ∆∂ÔøΩÔøΩŸ∂»£ÔøΩÔøΩÔøΩÔøΩÔøΩPosX_ChangeSpeed,PosY_ChangeSpeedÔ
             -øΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ“ªÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÃßÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩﬂ∂Œ≥ÔøΩÔøΩÔøΩ
 774   4                                      return AUTOVERTICAL_SLIDE;//ÔøΩÔøΩÔøΩÔøΩÔøΩ∆∂ÔøΩÔøΩŸ∂»¥ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
 775   4                              }
 776   3                              else
 777   3                              {
 778   4                                      PosXChangeSpeed = LastPosX-RealPosX;//ÔøΩ∆∂ÔøΩÔøΩŸ∂ÔøΩ,ÔøΩÔøΩÔøΩÔøΩ
 779   4                                      return AUTOHORIZONTAL_SLIDE;//ÔøΩÔøΩÔøΩÔøΩÔøΩ∆∂ÔøΩÔøΩŸ∂»¥ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ
 780   4                              }
 781   3                      }
 782   2              }
 783   1      }
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 14  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION L?0199 (BEGIN)
0000 7B01              MOV     R3,#01H
0002 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
0005 E4                CLR     A
0006 F0                MOVX    @DPTR,A
0007 A3                INC     DPTR
0008 04                INC     A
0009         L?0200:
0009 F0                MOVX    @DPTR,A
000A 7F14              MOV     R7,#014H
000C 7E00              MOV     R6,#00H
             ; FUNCTION _read_dgus_vp (BEGIN)
                                           ; SOURCE LINE # 37
000E 900000      R     MOV     DPTR,#addr
0011 EE                MOV     A,R6
0012 F0                MOVX    @DPTR,A
0013 A3                INC     DPTR
0014 EF                MOV     A,R7
0015 F0                MOVX    @DPTR,A
0016 A3                INC     DPTR
0017 EB                MOV     A,R3
0018 F0                MOVX    @DPTR,A
0019 A3                INC     DPTR
001A EA                MOV     A,R2
001B F0                MOVX    @DPTR,A
001C A3                INC     DPTR
001D E9                MOV     A,R1
001E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 38
                                           ; SOURCE LINE # 39
001F E4                CLR     A
0020 900000      R     MOV     DPTR,#OS_addr
0023 F0                MOVX    @DPTR,A
0024 A3                INC     DPTR
0025 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 40
0026 A3                INC     DPTR
0027 F0                MOVX    @DPTR,A
0028 A3                INC     DPTR
0029 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 41
002A A3                INC     DPTR
002B F0                MOVX    @DPTR,A
002C A3                INC     DPTR
002D F0                MOVX    @DPTR,A
002E A3                INC     DPTR
002F F0                MOVX    @DPTR,A
0030 A3                INC     DPTR
0031 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 44
0032 900000      R     MOV     DPTR,#len
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 4A                ORL     A,R2
003B 7003              JNZ     $ + 5H
003D 020000      R     LJMP    ?C0002
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 15  

0040         ?C0001:
                                           ; SOURCE LINE # 46
0040 900000      R     MOV     DPTR,#addr
0043 E0                MOVX    A,@DPTR
0044 FE                MOV     R6,A
0045 A3                INC     DPTR
0046 E0                MOVX    A,@DPTR
0047 FF                MOV     R7,A
0048 C3                CLR     C
0049 E4                CLR     A
004A 9F                SUBB    A,R7
004B FF                MOV     R7,A
004C E4                CLR     A
004D 9E                SUBB    A,R6
004E FE                MOV     R6,A
004F E4                CLR     A
0050 FC                MOV     R4,A
0051 FD                MOV     R5,A
0052 900000      R     MOV     DPTR,#LenLimit
0055 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 47
0058 AF03              MOV     R7,AR3
005A AE02              MOV     R6,AR2
005C E4                CLR     A
005D FC                MOV     R4,A
005E FD                MOV     R5,A
005F 900000      R     MOV     DPTR,#LenLimit
0062 E0                MOVX    A,@DPTR
0063 F8                MOV     R0,A
0064 A3                INC     DPTR
0065 E0                MOVX    A,@DPTR
0066 F9                MOV     R1,A
0067 A3                INC     DPTR
0068 E0                MOVX    A,@DPTR
0069 FA                MOV     R2,A
006A A3                INC     DPTR
006B E0                MOVX    A,@DPTR
006C FB                MOV     R3,A
006D C3                CLR     C
006E 120000      E     LCALL   ?C?ULCMP
0071 5011              JNC     ?C0003
                                           ; SOURCE LINE # 48
                                           ; SOURCE LINE # 49
0073 900000      R     MOV     DPTR,#LenLimit
0076 A3                INC     DPTR
0077 A3                INC     DPTR
0078 E0                MOVX    A,@DPTR
0079 FF                MOV     R7,A
007A A3                INC     DPTR
007B E0                MOVX    A,@DPTR
007C 900000      R     MOV     DPTR,#len
007F CF                XCH     A,R7
0080 F0                MOVX    @DPTR,A
0081 A3                INC     DPTR
0082 EF                MOV     A,R7
0083 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 50
0084         ?C0003:
                                           ; SOURCE LINE # 51
0084 900000      R     MOV     DPTR,#addr
0087 E0                MOVX    A,@DPTR
0088 FC                MOV     R4,A
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 16  

0089 A3                INC     DPTR
008A E0                MOVX    A,@DPTR
008B FD                MOV     R5,A
008C EC                MOV     A,R4
008D C3                CLR     C
008E 13                RRC     A
008F FF                MOV     R7,A
0090 ED                MOV     A,R5
0091 13                RRC     A
0092 900000      R     MOV     DPTR,#OS_addr
0095 CF                XCH     A,R7
0096 F0                MOVX    @DPTR,A
0097 A3                INC     DPTR
0098 EF                MOV     A,R7
0099 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 52
009A ED                MOV     A,R5
009B 5401              ANL     A,#01H
009D FF                MOV     R7,A
009E A3                INC     DPTR
009F E4                CLR     A
00A0 F0                MOVX    @DPTR,A
00A1 A3                INC     DPTR
00A2 EF                MOV     A,R7
00A3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 54
00A4 C2AF              CLR     EA
                                           ; SOURCE LINE # 56
00A6 E4                CLR     A
00A7 F5F1              MOV     ADR_H,A
                                           ; SOURCE LINE # 57
00A9 900000      R     MOV     DPTR,#OS_addr
00AC E0                MOVX    A,@DPTR
00AD FC                MOV     R4,A
00AE A3                INC     DPTR
00AF E0                MOVX    A,@DPTR
00B0 FD                MOV     R5,A
00B1 EC                MOV     A,R4
00B2 F5F2              MOV     ADR_M,A
                                           ; SOURCE LINE # 58
00B4 8DF3              MOV     ADR_L,R5
                                           ; SOURCE LINE # 59
00B6 75F401            MOV     ADR_INC,#01H
                                           ; SOURCE LINE # 60
00B9 75F8AF            MOV     RAMMODE,#0AFH
00BC         ?C0004:
                                           ; SOURCE LINE # 61
00BC 30FCFD            JNB     APP_ACK,?C0004
00BF         ?C0005:
                                           ; SOURCE LINE # 62
00BF 900000      R     MOV     DPTR,#OS_addr_offset
00C2 E0                MOVX    A,@DPTR
00C3 7002              JNZ     ?C0143
00C5 A3                INC     DPTR
00C6 E0                MOVX    A,@DPTR
00C7         ?C0143:
00C7 603D              JZ      ?C0006
                                           ; SOURCE LINE # 63
                                           ; SOURCE LINE # 64
00C9 D2FE              SETB    APP_EN
00CB         ?C0007:
                                           ; SOURCE LINE # 65
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 17  

00CB 20FEFD            JB      APP_EN,?C0007
00CE         ?C0008:
                                           ; SOURCE LINE # 66
00CE 900000      R     MOV     DPTR,#buf
00D1 E0                MOVX    A,@DPTR
00D2 FB                MOV     R3,A
00D3 A3                INC     DPTR
00D4 E4                CLR     A
00D5 75F001            MOV     B,#01H
00D8 120000      E     LCALL   ?C?ILDIX
00DB A9F0              MOV     R1,B
00DD FA                MOV     R2,A
00DE E5FC              MOV     A,DATA1
00E0 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 67
00E3 900000      R     MOV     DPTR,#buf
00E6 E0                MOVX    A,@DPTR
00E7 FB                MOV     R3,A
00E8 A3                INC     DPTR
00E9 E4                CLR     A
00EA 75F001            MOV     B,#01H
00ED 120000      E     LCALL   ?C?ILDIX
00F0 A9F0              MOV     R1,B
00F2 FA                MOV     R2,A
00F3 E5FD              MOV     A,DATA0
00F5 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 68
00F8 900000      R     MOV     DPTR,#len+01H
00FB E0                MOVX    A,@DPTR
00FC 24FF              ADD     A,#0FFH
00FE F0                MOVX    @DPTR,A
00FF 900000      R     MOV     DPTR,#len
0102 E0                MOVX    A,@DPTR
0103 34FF              ADDC    A,#0FFH
0105 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 69
0106         ?C0006:
                                           ; SOURCE LINE # 70
0106 900000      R     MOV     DPTR,#len
0109 E0                MOVX    A,@DPTR
010A FC                MOV     R4,A
010B A3                INC     DPTR
010C E0                MOVX    A,@DPTR
010D FD                MOV     R5,A
010E EC                MOV     A,R4
010F C3                CLR     C
0110 13                RRC     A
0111 FF                MOV     R7,A
0112 ED                MOV     A,R5
0113 13                RRC     A
0114 900000      R     MOV     DPTR,#OS_len
0117 CF                XCH     A,R7
0118 F0                MOVX    @DPTR,A
0119 A3                INC     DPTR
011A EF                MOV     A,R7
011B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 71
011C ED                MOV     A,R5
011D 5401              ANL     A,#01H
011F FF                MOV     R7,A
0120 A3                INC     DPTR
0121 E4                CLR     A
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 18  

0122 F0                MOVX    @DPTR,A
0123 A3                INC     DPTR
0124 EF                MOV     A,R7
0125 F0                MOVX    @DPTR,A
0126         ?C0009:
                                           ; SOURCE LINE # 72
0126 900000      R     MOV     DPTR,#OS_len
0129 74FF              MOV     A,#0FFH
012B F5F0              MOV     B,A
012D 120000      E     LCALL   ?C?ILDIX
0130 45F0              ORL     A,B
0132 605B              JZ      ?C0010
                                           ; SOURCE LINE # 73
                                           ; SOURCE LINE # 74
0134 D2FE              SETB    APP_EN
0136         ?C0011:
                                           ; SOURCE LINE # 75
0136 20FEFD            JB      APP_EN,?C0011
0139         ?C0012:
                                           ; SOURCE LINE # 76
0139 900000      R     MOV     DPTR,#buf
013C E0                MOVX    A,@DPTR
013D FB                MOV     R3,A
013E A3                INC     DPTR
013F E4                CLR     A
0140 75F001            MOV     B,#01H
0143 120000      E     LCALL   ?C?ILDIX
0146 A9F0              MOV     R1,B
0148 FA                MOV     R2,A
0149 E5FA              MOV     A,DATA3
014B 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 77
014E 900000      R     MOV     DPTR,#buf
0151 E0                MOVX    A,@DPTR
0152 FB                MOV     R3,A
0153 A3                INC     DPTR
0154 E4                CLR     A
0155 75F001            MOV     B,#01H
0158 120000      E     LCALL   ?C?ILDIX
015B A9F0              MOV     R1,B
015D FA                MOV     R2,A
015E E5FB              MOV     A,DATA2
0160 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 78
0163 900000      R     MOV     DPTR,#buf
0166 E0                MOVX    A,@DPTR
0167 FB                MOV     R3,A
0168 A3                INC     DPTR
0169 E4                CLR     A
016A 75F001            MOV     B,#01H
016D 120000      E     LCALL   ?C?ILDIX
0170 A9F0              MOV     R1,B
0172 FA                MOV     R2,A
0173 E5FC              MOV     A,DATA1
0175 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 79
0178 900000      R     MOV     DPTR,#buf
017B E0                MOVX    A,@DPTR
017C FB                MOV     R3,A
017D A3                INC     DPTR
017E E4                CLR     A
017F 75F001            MOV     B,#01H
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 19  

0182 120000      E     LCALL   ?C?ILDIX
0185 A9F0              MOV     R1,B
0187 FA                MOV     R2,A
0188 E5FD              MOV     A,DATA0
018A 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 80
018D 8097              SJMP    ?C0009
018F         ?C0010:
                                           ; SOURCE LINE # 81
018F 900000      R     MOV     DPTR,#OS_len_offset
0192 E0                MOVX    A,@DPTR
0193 7002              JNZ     ?C0144
0195 A3                INC     DPTR
0196 E0                MOVX    A,@DPTR
0197         ?C0144:
0197 602F              JZ      ?C0013
                                           ; SOURCE LINE # 82
                                           ; SOURCE LINE # 83
0199 D2FE              SETB    APP_EN
019B         ?C0014:
                                           ; SOURCE LINE # 84
019B 20FEFD            JB      APP_EN,?C0014
019E         ?C0015:
                                           ; SOURCE LINE # 85
019E 900000      R     MOV     DPTR,#buf
01A1 E0                MOVX    A,@DPTR
01A2 FB                MOV     R3,A
01A3 A3                INC     DPTR
01A4 E4                CLR     A
01A5 75F001            MOV     B,#01H
01A8 120000      E     LCALL   ?C?ILDIX
01AB A9F0              MOV     R1,B
01AD FA                MOV     R2,A
01AE E5FA              MOV     A,DATA3
01B0 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 86
01B3 900000      R     MOV     DPTR,#buf
01B6 E0                MOVX    A,@DPTR
01B7 FB                MOV     R3,A
01B8 A3                INC     DPTR
01B9 E4                CLR     A
01BA 75F001            MOV     B,#01H
01BD 120000      E     LCALL   ?C?ILDIX
01C0 A9F0              MOV     R1,B
01C2 FA                MOV     R2,A
01C3 E5FB              MOV     A,DATA2
01C5 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 87
01C8         ?C0013:
                                           ; SOURCE LINE # 88
01C8 E4                CLR     A
01C9 F5F8              MOV     RAMMODE,A
                                           ; SOURCE LINE # 90
01CB D2AF              SETB    EA
                                           ; SOURCE LINE # 92
01CD         ?C0002:
01CD 22                RET     
             ; FUNCTION _read_dgus_vp (END)

             ; FUNCTION _write_dgus_vp (BEGIN)
                                           ; SOURCE LINE # 164
0000 900000      R     MOV     DPTR,#buf
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 20  

0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
;---- Variable 'addr' assigned to Register 'R4/R5' ----
000B AD07              MOV     R5,AR7
000D AC06              MOV     R4,AR6
                                           ; SOURCE LINE # 165
000F         ?C0016:
                                           ; SOURCE LINE # 167
000F 900000      R     MOV     DPTR,#len
0012 74FF              MOV     A,#0FFH
0014 F5F0              MOV     B,A
0016 120000      E     LCALL   ?C?ILDIX
0019 45F0              ORL     A,B
001B 7003              JNZ     $ + 5H
001D 020000      R     LJMP    ?C0028
                                           ; SOURCE LINE # 168
0020 E4                CLR     A
0021 F5F1              MOV     ADR_H,A
                                           ; SOURCE LINE # 169
0023 EC                MOV     A,R4
0024 C3                CLR     C
0025 13                RRC     A
0026 FA                MOV     R2,A
0027 ED                MOV     A,R5
0028 13                RRC     A
0029 FB                MOV     R3,A
002A EA                MOV     A,R2
002B F5F2              MOV     ADR_M,A
                                           ; SOURCE LINE # 170
002D 8BF3              MOV     ADR_L,R3
                                           ; SOURCE LINE # 171
002F 75F8AF            MOV     RAMMODE,#0AFH
0032         ?C0018:
                                           ; SOURCE LINE # 172
0032 30FCFD            JNB     APP_ACK,?C0018
0035         ?C0019:
                                           ; SOURCE LINE # 173
0035 D2FE              SETB    APP_EN
0037         ?C0020:
                                           ; SOURCE LINE # 174
0037 20FEFD            JB      APP_EN,?C0020
003A         ?C0021:
                                           ; SOURCE LINE # 175
003A E4                CLR     A
003B F5F8              MOV     RAMMODE,A
                                           ; SOURCE LINE # 176
003D EC                MOV     A,R4
003E C3                CLR     C
003F 13                RRC     A
0040 FA                MOV     R2,A
0041 ED                MOV     A,R5
0042 13                RRC     A
0043 FB                MOV     R3,A
0044 EA                MOV     A,R2
0045 F5F2              MOV     ADR_M,A
                                           ; SOURCE LINE # 177
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 21  

0047 8BF3              MOV     ADR_L,R3
                                           ; SOURCE LINE # 178
0049 75F88F            MOV     RAMMODE,#08FH
004C         ?C0022:
                                           ; SOURCE LINE # 179
004C 30FCFD            JNB     APP_ACK,?C0022
004F         ?C0023:
                                           ; SOURCE LINE # 180
004F ED                MOV     A,R5
0050 900000      R     MOV     DPTR,#buf
0053 30E029            JNB     ACC.0,?C0024
                                           ; SOURCE LINE # 181
0056 E0                MOVX    A,@DPTR
0057 FB                MOV     R3,A
0058 A3                INC     DPTR
0059 E4                CLR     A
005A 75F001            MOV     B,#01H
005D 120000      E     LCALL   ?C?ILDIX
0060 A9F0              MOV     R1,B
0062 FA                MOV     R2,A
0063 120000      E     LCALL   ?C?CLDPTR
0066 F5FC              MOV     DATA1,A
                                           ; SOURCE LINE # 182
0068 900000      R     MOV     DPTR,#buf
006B E0                MOVX    A,@DPTR
006C FB                MOV     R3,A
006D A3                INC     DPTR
006E E4                CLR     A
006F 75F001            MOV     B,#01H
0072 120000      E     LCALL   ?C?ILDIX
0075 A9F0              MOV     R1,B
0077 FA                MOV     R2,A
0078 120000      E     LCALL   ?C?CLDPTR
007B F5FD              MOV     DATA0,A
                                           ; SOURCE LINE # 183
007D 8027              SJMP    ?C0025
007F         ?C0024:
                                           ; SOURCE LINE # 184
007F E0                MOVX    A,@DPTR
0080 FB                MOV     R3,A
0081 A3                INC     DPTR
0082 E4                CLR     A
0083 75F001            MOV     B,#01H
0086 120000      E     LCALL   ?C?ILDIX
0089 A9F0              MOV     R1,B
008B FA                MOV     R2,A
008C 120000      E     LCALL   ?C?CLDPTR
008F F5FA              MOV     DATA3,A
                                           ; SOURCE LINE # 185
0091 900000      R     MOV     DPTR,#buf
0094 E0                MOVX    A,@DPTR
0095 FB                MOV     R3,A
0096 A3                INC     DPTR
0097 E4                CLR     A
0098 75F001            MOV     B,#01H
009B 120000      E     LCALL   ?C?ILDIX
009E A9F0              MOV     R1,B
00A0 FA                MOV     R2,A
00A1 120000      E     LCALL   ?C?CLDPTR
00A4 F5FB              MOV     DATA2,A
                                           ; SOURCE LINE # 186
00A6         ?C0025:
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 22  

                                           ; SOURCE LINE # 187
00A6 0D                INC     R5
00A7 BD0001            CJNE    R5,#00H,?C0145
00AA 0C                INC     R4
00AB         ?C0145:
                                           ; SOURCE LINE # 188
00AB D2FE              SETB    APP_EN
00AD         ?C0026:
                                           ; SOURCE LINE # 189
00AD 20FEFD            JB      APP_EN,?C0026
00B0         ?C0027:
                                           ; SOURCE LINE # 190
00B0 E4                CLR     A
00B1 F5F8              MOV     RAMMODE,A
                                           ; SOURCE LINE # 191
00B3 020000      R     LJMP    ?C0016
                                           ; SOURCE LINE # 253
00B6         ?C0028:
00B6 22                RET     
             ; FUNCTION _write_dgus_vp (END)

             ; FUNCTION INIT_CPU (BEGIN)
                                           ; SOURCE LINE # 338
                                           ; SOURCE LINE # 339
                                           ; SOURCE LINE # 340
0000 C2AF              CLR     EA
                                           ; SOURCE LINE # 341
0002 C2D3              CLR     RS0
                                           ; SOURCE LINE # 342
0004 C2D4              CLR     RS1
                                           ; SOURCE LINE # 344
0006 E4                CLR     A
0007 F58E              MOV     CKCON,A
                                           ; SOURCE LINE # 345
0009 75C870            MOV     T2CON,#070H
                                           ; SOURCE LINE # 346
000C F5CD              MOV     TH2,A
                                           ; SOURCE LINE # 347
000E F5CC              MOV     TL2,A
                                           ; SOURCE LINE # 348
0010 75CBBC            MOV     TRL2H,#0BCH
                                           ; SOURCE LINE # 349
0013 75CACD            MOV     TRL2L,#0CDH
                                           ; SOURCE LINE # 350
0016 D2AD              SETB    ET2
                                           ; SOURCE LINE # 351
0018 D2C8              SETB    TR2
                                           ; SOURCE LINE # 352
001A F593              MOV     DPC,A
                                           ; SOURCE LINE # 353
001C 759401            MOV     PAGESEL,#01H
                                           ; SOURCE LINE # 354
001F 759502            MOV     D_PAGESEL,#02H
                                           ; SOURCE LINE # 355
0022 75C960            MOV     MUX_SEL,#060H
                                           ; SOURCE LINE # 356
0025 F5F8              MOV     RAMMODE,A
                                           ; SOURCE LINE # 357
0027 75F901            MOV     PORTDRV,#01H
                                           ; SOURCE LINE # 358
002A F5A8              MOV     IEN0,A
                                           ; SOURCE LINE # 359
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 23  

002C F5B8              MOV     IEN1,A
                                           ; SOURCE LINE # 360
002E F59A              MOV     IEN2,A
                                           ; SOURCE LINE # 361
0030 F5A9              MOV     IP0,A
                                           ; SOURCE LINE # 362
0032 F5B9              MOV     IP1,A
                                           ; SOURCE LINE # 366
0034 020000      R     LJMP    ClearRAM
             ; FUNCTION INIT_CPU (END)

             ; FUNCTION ClearRAM (BEGIN)
                                           ; SOURCE LINE # 369
                                           ; SOURCE LINE # 370
                                           ; SOURCE LINE # 374
;---- Variable 'ptr' assigned to Register 'R6/R7' ----
0000 7F00              MOV     R7,#00H
0002 7E80              MOV     R6,#080H
                                           ; SOURCE LINE # 376
0004 E4                CLR     A
0005 F500        R     MOV     i,A
0007 F500        R     MOV     i+01H,A
0009         ?C0030:
                                           ; SOURCE LINE # 377
0009 0F                INC     R7
000A EF                MOV     A,R7
000B AC06              MOV     R4,AR6
000D 7001              JNZ     ?C0146
000F 0E                INC     R6
0010         ?C0146:
0010 14                DEC     A
0011 F582              MOV     DPL,A
0013 8C83              MOV     DPH,R4
0015 E4                CLR     A
0016 F0                MOVX    @DPTR,A
0017 0500        R     INC     i+01H
0019 E500        R     MOV     A,i+01H
001B 7002              JNZ     ?C0147
001D 0500        R     INC     i
001F         ?C0147:
001F B400E7            CJNE    A,#00H,?C0030
0022 E500        R     MOV     A,i
0024 B480E2            CJNE    A,#080H,?C0030
                                           ; SOURCE LINE # 378
0027         ?C0033:
0027 22                RET     
             ; FUNCTION ClearRAM (END)

             ; FUNCTION ResetT5L (BEGIN)
                                           ; SOURCE LINE # 380
                                           ; SOURCE LINE # 381
                                           ; SOURCE LINE # 384
0000 900000      R     MOV     DPTR,#tmp
0003 120000      E     LCALL   ?C?LSTKXDATA
0006 55                DB      055H
0007 AA                DB      0AAH
0008 5A                DB      05AH
0009 A5                DB      0A5H
                                           ; SOURCE LINE # 385
000A 7B01              MOV     R3,#01H
000C 7A00        R     MOV     R2,#HIGH tmp
000E 7900        R     MOV     R1,#LOW tmp
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 24  

0010 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0013 E4                CLR     A
0014 F0                MOVX    @DPTR,A
0015 A3                INC     DPTR
0016 7402              MOV     A,#02H
0018 F0                MOVX    @DPTR,A
0019 7F04              MOV     R7,#04H
001B 7E00              MOV     R6,#00H
001D 020000      R     LJMP    _write_dgus_vp
             ; FUNCTION ResetT5L (END)

             ; FUNCTION L?0201 (BEGIN)
0000         L?0202:
0000 7FF4              MOV     R7,#0F4H
0002 7E01              MOV     R6,#01H
             ; FUNCTION _delay_us (BEGIN)
                                           ; SOURCE LINE # 388
;---- Variable 't' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 389
0004         ?C0035:
                                           ; SOURCE LINE # 392
0004 EF                MOV     A,R7
0005 4E                ORL     A,R6
0006 6010              JZ      ?C0040
                                           ; SOURCE LINE # 393
                                           ; SOURCE LINE # 394
;---- Variable 'i' assigned to Register 'R5' ----
0008 E4                CLR     A
0009 FD                MOV     R5,A
000A         ?C0037:
                                           ; SOURCE LINE # 395
                                           ; SOURCE LINE # 396
000A 0D                INC     R5
000B ED                MOV     A,R5
000C C3                CLR     C
000D 9418              SUBB    A,#018H
000F 40F9              JC      ?C0037
0011         ?C0038:
                                           ; SOURCE LINE # 397
0011 EF                MOV     A,R7
0012 1F                DEC     R7
0013 70EF              JNZ     ?C0035
0015 1E                DEC     R6
0016         ?C0149:
                                           ; SOURCE LINE # 398
0016 80EC              SJMP    ?C0035
                                           ; SOURCE LINE # 399
0018         ?C0040:
0018 22                RET     
             ; FUNCTION _delay_us (END)

             ; FUNCTION _TouchSwitch (BEGIN)
                                           ; SOURCE LINE # 401
;---- Variable 'PageID' assigned to Register 'R6/R7' ----
;---- Variable 'TouchID' assigned to Register 'R3' ----
;---- Variable 'TouchType' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 402
                                           ; SOURCE LINE # 405
0000 900000      R     MOV     DPTR,#k_data
0003 745A              MOV     A,#05AH
0005 F0                MOVX    @DPTR,A
0006 A3                INC     DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 25  

0007 74A5              MOV     A,#0A5H
0009 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 406
000A A3                INC     DPTR
000B EE                MOV     A,R6
000C F0                MOVX    @DPTR,A
000D A3                INC     DPTR
000E EF                MOV     A,R7
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 407
0010 A3                INC     DPTR
0011 EB                MOV     A,R3
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 408
0013 A3                INC     DPTR
0014 ED                MOV     A,R5
0015 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 409
0016 900000      R     MOV     DPTR,#Status
0019 E0                MOVX    A,@DPTR
001A 600A              JZ      ?C0041
                                           ; SOURCE LINE # 410
001C 900000      R     MOV     DPTR,#k_data+06H
001F E4                CLR     A
0020 F0                MOVX    @DPTR,A
0021 A3                INC     DPTR
0022 04                INC     A
0023 F0                MOVX    @DPTR,A
0024 8007              SJMP    ?C0042
0026         ?C0041:
                                           ; SOURCE LINE # 412
0026 E4                CLR     A
0027 900000      R     MOV     DPTR,#k_data+06H
002A F0                MOVX    @DPTR,A
002B A3                INC     DPTR
002C F0                MOVX    @DPTR,A
002D         ?C0042:
                                           ; SOURCE LINE # 413
002D 7B01              MOV     R3,#01H
002F 7A00        R     MOV     R2,#HIGH k_data
0031 7900        R     MOV     R1,#LOW k_data
0033 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0036 E4                CLR     A
0037 F0                MOVX    @DPTR,A
0038 A3                INC     DPTR
0039 7404              MOV     A,#04H
003B F0                MOVX    @DPTR,A
003C 7FB0              MOV     R7,#0B0H
003E 7E00              MOV     R6,#00H
0040 120000      R     LCALL   _write_dgus_vp
0043         ?C0045:
                                           ; SOURCE LINE # 415
                                           ; SOURCE LINE # 416
0043 120000      R     LCALL   L?0201
                                           ; SOURCE LINE # 417
0046 7B01              MOV     R3,#01H
0048 7A00        R     MOV     R2,#HIGH k_data
004A 7900        R     MOV     R1,#LOW k_data
004C 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
004F E4                CLR     A
0050 F0                MOVX    @DPTR,A
0051 A3                INC     DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 26  

0052 04                INC     A
0053 F0                MOVX    @DPTR,A
0054 7FB0              MOV     R7,#0B0H
0056 7E00              MOV     R6,#00H
0058 120000      R     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 418
005B 900000      R     MOV     DPTR,#k_data
005E E0                MOVX    A,@DPTR
005F 70E2              JNZ     ?C0045
                                           ; SOURCE LINE # 419
0061 22                RET     
             ; FUNCTION _TouchSwitch (END)

             ; FUNCTION _MusicPlay (BEGIN)
                                           ; SOURCE LINE # 421
0000 900000      R     MOV     DPTR,#MusicId
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 422
                                           ; SOURCE LINE # 425
0005 7B01              MOV     R3,#01H
0007 7A00        R     MOV     R2,#HIGH k_data
0009 7900        R     MOV     R1,#LOW k_data
000B 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
000E E4                CLR     A
000F F0                MOVX    @DPTR,A
0010 A3                INC     DPTR
0011 7402              MOV     A,#02H
0013 F0                MOVX    @DPTR,A
0014 7FA0              MOV     R7,#0A0H
0016 7E00              MOV     R6,#00H
0018 120000      R     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 426
001B 900000      R     MOV     DPTR,#MusicId
001E E0                MOVX    A,@DPTR
001F A3                INC     DPTR
0020 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 427
0021 A3                INC     DPTR
0022 7401              MOV     A,#01H
0024 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 428
0025 E4                CLR     A
0026 900000      R     MOV     DPTR,#k_data+03H
0029 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 429
002A 7B01              MOV     R3,#01H
002C 7A00        R     MOV     R2,#HIGH k_data
002E 7900        R     MOV     R1,#LOW k_data
0030 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0033 F0                MOVX    @DPTR,A
0034 A3                INC     DPTR
0035 7402              MOV     A,#02H
0037 F0                MOVX    @DPTR,A
0038 7FA0              MOV     R7,#0A0H
003A 7E00              MOV     R6,#00H
003C 020000      R     LJMP    _write_dgus_vp
             ; FUNCTION _MusicPlay (END)

             ; FUNCTION NorFlash_Action (BEGIN)
                                           ; SOURCE LINE # 470
                                           ; SOURCE LINE # 471
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 27  

                                           ; SOURCE LINE # 474
0000 900000      R     MOV     DPTR,#Nor_Flash
0003 E0                MOVX    A,@DPTR
0004 FB                MOV     R3,A
0005 900000      R     MOV     DPTR,#buf
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 475
0009 900000      R     MOV     DPTR,#Nor_Flash+01H
000C E0                MOVX    A,@DPTR
000D FC                MOV     R4,A
000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 FD                MOV     R5,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FE                MOV     R6,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FF                MOV     R7,A
0017 7810              MOV     R0,#010H
0019 120000      E     LCALL   ?C?ULSHR
001C 900000      R     MOV     DPTR,#buf+01H
001F EF                MOV     A,R7
0020 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 476
0021 900000      R     MOV     DPTR,#Nor_Flash+01H
0024 E0                MOVX    A,@DPTR
0025 FC                MOV     R4,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 FD                MOV     R5,A
0029 A3                INC     DPTR
002A E0                MOVX    A,@DPTR
002B FE                MOV     R6,A
002C A3                INC     DPTR
002D E0                MOVX    A,@DPTR
002E FF                MOV     R7,A
002F 7808              MOV     R0,#08H
0031 120000      E     LCALL   ?C?ULSHR
0034 900000      R     MOV     DPTR,#buf+02H
0037 EF                MOV     A,R7
0038 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 477
0039 900000      R     MOV     DPTR,#Nor_Flash+01H
003C A3                INC     DPTR
003D A3                INC     DPTR
003E A3                INC     DPTR
003F E0                MOVX    A,@DPTR
0040 900000      R     MOV     DPTR,#buf+03H
0043 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 478
0044 900000      R     MOV     DPTR,#Nor_Flash+05H
0047 E0                MOVX    A,@DPTR
0048 FC                MOV     R4,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B FD                MOV     R5,A
004C EC                MOV     A,R4
004D 900000      R     MOV     DPTR,#buf+04H
0050 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 479
0051 A3                INC     DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 28  

0052 ED                MOV     A,R5
0053 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 480
0054 900000      R     MOV     DPTR,#Nor_Flash+07H
0057 E0                MOVX    A,@DPTR
0058 FC                MOV     R4,A
0059 A3                INC     DPTR
005A E0                MOVX    A,@DPTR
005B FD                MOV     R5,A
005C EC                MOV     A,R4
005D 900000      R     MOV     DPTR,#buf+06H
0060 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 481
0061 A3                INC     DPTR
0062 ED                MOV     A,R5
0063 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 482
0064 EB                MOV     A,R3
0065 B4A528            CJNE    A,#0A5H,?C0048
                                           ; SOURCE LINE # 483
                                           ; SOURCE LINE # 484
0068 900000      R     MOV     DPTR,#Nor_Flash+09H
006B E0                MOVX    A,@DPTR
006C FB                MOV     R3,A
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F FA                MOV     R2,A
0070 A3                INC     DPTR
0071 E0                MOVX    A,@DPTR
0072 4A                ORL     A,R2
0073 4B                ORL     A,R3
0074 601A              JZ      ?C0048
                                           ; SOURCE LINE # 485
0076 900000      R     MOV     DPTR,#Nor_Flash+05H
0079 E0                MOVX    A,@DPTR
007A FE                MOV     R6,A
007B A3                INC     DPTR
007C E0                MOVX    A,@DPTR
007D FF                MOV     R7,A
007E 900000      R     MOV     DPTR,#Nor_Flash+09H
0081 A3                INC     DPTR
0082 A3                INC     DPTR
0083 E0                MOVX    A,@DPTR
0084 F9                MOV     R1,A
0085 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0088 EC                MOV     A,R4
0089 F0                MOVX    @DPTR,A
008A A3                INC     DPTR
008B ED                MOV     A,R5
008C F0                MOVX    @DPTR,A
008D 120000      R     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 486
0090         ?C0048:
                                           ; SOURCE LINE # 487
0090 7B01              MOV     R3,#01H
0092 7A00        R     MOV     R2,#HIGH buf
0094 7900        R     MOV     R1,#LOW buf
0096 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0099 E4                CLR     A
009A F0                MOVX    @DPTR,A
009B A3                INC     DPTR
009C 7404              MOV     A,#04H
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 29  

009E F0                MOVX    @DPTR,A
009F 7F08              MOV     R7,#08H
00A1 7E00              MOV     R6,#00H
00A3 120000      R     LCALL   _write_dgus_vp
00A6         ?C0052:
                                           ; SOURCE LINE # 489
                                           ; SOURCE LINE # 490
00A6 120000      R     LCALL   L?0201
                                           ; SOURCE LINE # 491
00A9 7B01              MOV     R3,#01H
00AB 7A00        R     MOV     R2,#HIGH buf
00AD 7900        R     MOV     R1,#LOW buf
00AF 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
00B2 E4                CLR     A
00B3 F0                MOVX    @DPTR,A
00B4 A3                INC     DPTR
00B5 04                INC     A
00B6 F0                MOVX    @DPTR,A
00B7 7F08              MOV     R7,#08H
00B9 7E00              MOV     R6,#00H
00BB 120000      R     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 492
00BE 900000      R     MOV     DPTR,#buf
00C1 E0                MOVX    A,@DPTR
00C2 70E2              JNZ     ?C0052
                                           ; SOURCE LINE # 493
00C4 900000      R     MOV     DPTR,#Nor_Flash
00C7 E0                MOVX    A,@DPTR
00C8 B45A2F            CJNE    A,#05AH,?C0053
                                           ; SOURCE LINE # 494
                                           ; SOURCE LINE # 495
00CB 900000      R     MOV     DPTR,#Nor_Flash+09H
00CE E0                MOVX    A,@DPTR
00CF FB                MOV     R3,A
00D0 A3                INC     DPTR
00D1 E0                MOVX    A,@DPTR
00D2 FA                MOV     R2,A
00D3 A3                INC     DPTR
00D4 E0                MOVX    A,@DPTR
00D5 4A                ORL     A,R2
00D6 4B                ORL     A,R3
00D7 6021              JZ      ?C0053
                                           ; SOURCE LINE # 496
00D9 900000      R     MOV     DPTR,#Nor_Flash+05H
00DC E0                MOVX    A,@DPTR
00DD FE                MOV     R6,A
00DE A3                INC     DPTR
00DF E0                MOVX    A,@DPTR
00E0 FF                MOV     R7,A
00E1 900000      R     MOV     DPTR,#Nor_Flash+09H
00E4 A3                INC     DPTR
00E5 A3                INC     DPTR
00E6 E0                MOVX    A,@DPTR
00E7 F9                MOV     R1,A
00E8 900000      R     MOV     DPTR,#Nor_Flash+07H
00EB E0                MOVX    A,@DPTR
00EC FD                MOV     R5,A
00ED A3                INC     DPTR
00EE E0                MOVX    A,@DPTR
00EF 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
00F2 CD                XCH     A,R5
00F3 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 30  

00F4 A3                INC     DPTR
00F5 ED                MOV     A,R5
00F6 F0                MOVX    @DPTR,A
00F7 120000      R     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 497
00FA         ?C0053:
                                           ; SOURCE LINE # 498
00FA 7F32              MOV     R7,#032H
00FC 7E00              MOV     R6,#00H
00FE 020000      R     LJMP    _delay_ms
             ; FUNCTION NorFlash_Action (END)

             ; FUNCTION SPIFlash_Action (BEGIN)
                                           ; SOURCE LINE # 501
                                           ; SOURCE LINE # 502
                                           ; SOURCE LINE # 505
0000 900000      R     MOV     DPTR,#buf
0003 745A              MOV     A,#05AH
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 506
0006 900000      R     MOV     DPTR,#Spi_Flash
0009 E0                MOVX    A,@DPTR
000A 900000      R     MOV     DPTR,#buf+01H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 507
000E 6401              XRL     A,#01H
0010 7067              JNZ     ?C0056
                                           ; SOURCE LINE # 508
                                           ; SOURCE LINE # 509
0012 900000      R     MOV     DPTR,#Spi_Flash+01H
0015 A3                INC     DPTR
0016 E0                MOVX    A,@DPTR
0017 900000      R     MOV     DPTR,#buf+02H
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 510
001B 900000      R     MOV     DPTR,#Spi_Flash+03H
001E E0                MOVX    A,@DPTR
001F FC                MOV     R4,A
0020 A3                INC     DPTR
0021 E0                MOVX    A,@DPTR
0022 FD                MOV     R5,A
0023 A3                INC     DPTR
0024 E0                MOVX    A,@DPTR
0025 FE                MOV     R6,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 FF                MOV     R7,A
0029 7810              MOV     R0,#010H
002B 120000      E     LCALL   ?C?ULSHR
002E 900000      R     MOV     DPTR,#buf+03H
0031 EF                MOV     A,R7
0032 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 511
0033 900000      R     MOV     DPTR,#Spi_Flash+03H
0036 E0                MOVX    A,@DPTR
0037 FC                MOV     R4,A
0038 A3                INC     DPTR
0039 E0                MOVX    A,@DPTR
003A FD                MOV     R5,A
003B A3                INC     DPTR
003C E0                MOVX    A,@DPTR
003D FE                MOV     R6,A
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 31  

003E A3                INC     DPTR
003F E0                MOVX    A,@DPTR
0040 FF                MOV     R7,A
0041 7808              MOV     R0,#08H
0043 120000      E     LCALL   ?C?ULSHR
0046 900000      R     MOV     DPTR,#buf+04H
0049 EF                MOV     A,R7
004A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 512
004B 900000      R     MOV     DPTR,#Spi_Flash+03H
004E A3                INC     DPTR
004F A3                INC     DPTR
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 900000      R     MOV     DPTR,#buf+05H
0055 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 513
0056 900000      R     MOV     DPTR,#Spi_Flash+07H
0059 E0                MOVX    A,@DPTR
005A FC                MOV     R4,A
005B A3                INC     DPTR
005C E0                MOVX    A,@DPTR
005D FD                MOV     R5,A
005E EC                MOV     A,R4
005F 900000      R     MOV     DPTR,#buf+06H
0062 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 514
0063 A3                INC     DPTR
0064 ED                MOV     A,R5
0065 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 515
0066 900000      R     MOV     DPTR,#Spi_Flash+09H
0069 E0                MOVX    A,@DPTR
006A FC                MOV     R4,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FD                MOV     R5,A
006E EC                MOV     A,R4
006F 900000      R     MOV     DPTR,#buf+08H
0072 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 516
0073 A3                INC     DPTR
0074 ED                MOV     A,R5
0075 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 517
0076 E4                CLR     A
                                           ; SOURCE LINE # 518
                                           ; SOURCE LINE # 519
0077 803B              SJMP    ?C0197
0079         ?C0056:
                                           ; SOURCE LINE # 520
0079 900000      R     MOV     DPTR,#Spi_Flash
007C E0                MOVX    A,@DPTR
007D 6402              XRL     A,#02H
007F 7037              JNZ     ?C0057
                                           ; SOURCE LINE # 521
                                           ; SOURCE LINE # 522
0081 A3                INC     DPTR
0082 E0                MOVX    A,@DPTR
0083 FC                MOV     R4,A
0084 A3                INC     DPTR
0085 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 32  

0086 FD                MOV     R5,A
0087 EC                MOV     A,R4
0088 900000      R     MOV     DPTR,#buf+02H
008B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 523
008C A3                INC     DPTR
008D ED                MOV     A,R5
008E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 524
008F 900000      R     MOV     DPTR,#Spi_Flash+07H
0092 E0                MOVX    A,@DPTR
0093 FC                MOV     R4,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 FD                MOV     R5,A
0097 EC                MOV     A,R4
0098 900000      R     MOV     DPTR,#buf+04H
009B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 525
009C A3                INC     DPTR
009D ED                MOV     A,R5
009E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 526
009F 900000      R     MOV     DPTR,#Spi_Flash+0EH
00A2 E0                MOVX    A,@DPTR
00A3 FC                MOV     R4,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FD                MOV     R5,A
00A7 EC                MOV     A,R4
00A8 900000      R     MOV     DPTR,#buf+06H
00AB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 527
00AC A3                INC     DPTR
00AD ED                MOV     A,R5
00AE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 528
00AF E4                CLR     A
00B0 A3                INC     DPTR
00B1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 529
00B2 A3                INC     DPTR
00B3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 530
00B4         ?C0197:
00B4 A3                INC     DPTR
00B5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 531
00B6 A3                INC     DPTR
00B7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 532
00B8         ?C0057:
                                           ; SOURCE LINE # 533
00B8 7B01              MOV     R3,#01H
00BA 7A00        R     MOV     R2,#HIGH buf
00BC 7900        R     MOV     R1,#LOW buf
00BE 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
00C1 E4                CLR     A
00C2 F0                MOVX    @DPTR,A
00C3 A3                INC     DPTR
00C4 7406              MOV     A,#06H
00C6 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 33  

00C7 7FAA              MOV     R7,#0AAH
00C9 7E00              MOV     R6,#00H
00CB 120000      R     LCALL   _write_dgus_vp
00CE         ?C0061:
                                           ; SOURCE LINE # 535
                                           ; SOURCE LINE # 536
00CE 120000      R     LCALL   L?0202
                                           ; SOURCE LINE # 537
00D1 7B01              MOV     R3,#01H
00D3 7A00        R     MOV     R2,#HIGH buf
00D5 7900        R     MOV     R1,#LOW buf
00D7 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
00DA E4                CLR     A
00DB F0                MOVX    @DPTR,A
00DC A3                INC     DPTR
00DD 04                INC     A
00DE F0                MOVX    @DPTR,A
00DF 7FAA              MOV     R7,#0AAH
00E1 7E00              MOV     R6,#00H
00E3 120000      R     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 538
00E6 900000      R     MOV     DPTR,#buf
00E9 E0                MOVX    A,@DPTR
00EA 70E2              JNZ     ?C0061
                                           ; SOURCE LINE # 539
00EC 900000      R     MOV     DPTR,#Spi_Flash
00EF E0                MOVX    A,@DPTR
00F0 B4012F            CJNE    A,#01H,?C0062
                                           ; SOURCE LINE # 540
                                           ; SOURCE LINE # 541
00F3 900000      R     MOV     DPTR,#Spi_Flash+0BH
00F6 E0                MOVX    A,@DPTR
00F7 FB                MOV     R3,A
00F8 A3                INC     DPTR
00F9 E0                MOVX    A,@DPTR
00FA FA                MOV     R2,A
00FB A3                INC     DPTR
00FC E0                MOVX    A,@DPTR
00FD 4A                ORL     A,R2
00FE 4B                ORL     A,R3
00FF 6021              JZ      ?C0062
                                           ; SOURCE LINE # 542
0101 900000      R     MOV     DPTR,#Spi_Flash+07H
0104 E0                MOVX    A,@DPTR
0105 FE                MOV     R6,A
0106 A3                INC     DPTR
0107 E0                MOVX    A,@DPTR
0108 FF                MOV     R7,A
0109 900000      R     MOV     DPTR,#Spi_Flash+0BH
010C A3                INC     DPTR
010D A3                INC     DPTR
010E E0                MOVX    A,@DPTR
010F F9                MOV     R1,A
0110 900000      R     MOV     DPTR,#Spi_Flash+09H
0113 E0                MOVX    A,@DPTR
0114 FD                MOV     R5,A
0115 A3                INC     DPTR
0116 E0                MOVX    A,@DPTR
0117 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
011A CD                XCH     A,R5
011B F0                MOVX    @DPTR,A
011C A3                INC     DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 34  

011D ED                MOV     A,R5
011E F0                MOVX    @DPTR,A
011F 120000      R     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 543
0122         ?C0062:
                                           ; SOURCE LINE # 544
0122 7F32              MOV     R7,#032H
0124 7E00              MOV     R6,#00H
0126 020000      R     LJMP    _delay_ms
             ; FUNCTION SPIFlash_Action (END)

             ; FUNCTION GetPageID (BEGIN)
                                           ; SOURCE LINE # 548
                                           ; SOURCE LINE # 549
                                           ; SOURCE LINE # 552
0000 7A00        R     MOV     R2,#HIGH nPage
0002 7900        R     MOV     R1,#LOW nPage
0004 120000      R     LCALL   L?0199
                                           ; SOURCE LINE # 553
0007 900000      R     MOV     DPTR,#nPage
000A E0                MOVX    A,@DPTR
000B FE                MOV     R6,A
000C A3                INC     DPTR
000D E0                MOVX    A,@DPTR
000E FF                MOV     R7,A
                                           ; SOURCE LINE # 554
000F         ?C0065:
000F 22                RET     
             ; FUNCTION GetPageID (END)

             ; FUNCTION _Page_Change (BEGIN)
                                           ; SOURCE LINE # 556
0000 900000      R     MOV     DPTR,#PageID
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 557
                                           ; SOURCE LINE # 560
0008 A3                INC     DPTR
0009 745A              MOV     A,#05AH
000B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 561
000C A3                INC     DPTR
000D 7401              MOV     A,#01H
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 562
0010 900000      R     MOV     DPTR,#PageID
0013 E0                MOVX    A,@DPTR
0014 FC                MOV     R4,A
0015 A3                INC     DPTR
0016 E0                MOVX    A,@DPTR
0017 FD                MOV     R5,A
0018 EC                MOV     A,R4
0019 900000      R     MOV     DPTR,#buf+02H
001C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 563
001D A3                INC     DPTR
001E ED                MOV     A,R5
001F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 564
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 35  

0020 7B01              MOV     R3,#01H
0022 7A00        R     MOV     R2,#HIGH buf
0024 7900        R     MOV     R1,#LOW buf
0026 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0029 E4                CLR     A
002A F0                MOVX    @DPTR,A
002B A3                INC     DPTR
002C 7402              MOV     A,#02H
002E F0                MOVX    @DPTR,A
002F 7F84              MOV     R7,#084H
0031 7E00              MOV     R6,#00H
0033 120000      R     LCALL   _write_dgus_vp
0036         ?C0068:
                                           ; SOURCE LINE # 566
                                           ; SOURCE LINE # 567
0036 120000      R     LCALL   L?0202
                                           ; SOURCE LINE # 568
0039 7B01              MOV     R3,#01H
003B 7A00        R     MOV     R2,#HIGH buf
003D 7900        R     MOV     R1,#LOW buf
003F 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
0042 E4                CLR     A
0043 F0                MOVX    @DPTR,A
0044 A3                INC     DPTR
0045 7402              MOV     A,#02H
0047 120000      R     LCALL   L?0200
                                           ; SOURCE LINE # 569
004A 900000      R     MOV     DPTR,#PageID
004D E0                MOVX    A,@DPTR
004E FE                MOV     R6,A
004F A3                INC     DPTR
0050 E0                MOVX    A,@DPTR
0051 FF                MOV     R7,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 B506DF            CJNE    A,AR6,?C0068
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 B507DA            CJNE    A,AR7,?C0068
                                           ; SOURCE LINE # 570
005C E4                CLR     A
005D 900000      R     MOV     DPTR,#buf
0060 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 571
0061 A3                INC     DPTR
0062 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 572
0063 A3                INC     DPTR
0064 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 573
0065 A3                INC     DPTR
0066 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 574
0067 7B01              MOV     R3,#01H
0069 7A00        R     MOV     R2,#HIGH buf
006B 7900        R     MOV     R1,#LOW buf
006D 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0070 F0                MOVX    @DPTR,A
0071 A3                INC     DPTR
0072 7402              MOV     A,#02H
0074 F0                MOVX    @DPTR,A
0075 7F16              MOV     R7,#016H
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 36  

0077 7E00              MOV     R6,#00H
0079 020000      R     LJMP    _write_dgus_vp
             ; FUNCTION _Page_Change (END)

             ; FUNCTION _delay_ms (BEGIN)
                                           ; SOURCE LINE # 577
0000 900000      R     MOV     DPTR,#t
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 578
                                           ; SOURCE LINE # 580
0008 E4                CLR     A
0009 A3                INC     DPTR
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C F0                MOVX    @DPTR,A
000D         ?C0070:
000D 900000      R     MOV     DPTR,#t
0010 E0                MOVX    A,@DPTR
0011 FE                MOV     R6,A
0012 A3                INC     DPTR
0013 E0                MOVX    A,@DPTR
0014 FF                MOV     R7,A
0015 C3                CLR     C
0016 900000      R     MOV     DPTR,#i+01H
0019 E0                MOVX    A,@DPTR
001A 9F                SUBB    A,R7
001B 900000      R     MOV     DPTR,#i
001E E0                MOVX    A,@DPTR
001F 9E                SUBB    A,R6
0020 5025              JNC     ?C0076
                                           ; SOURCE LINE # 581
                                           ; SOURCE LINE # 582
;---- Variable 'j' assigned to Register 'R2/R3' ----
0022 E4                CLR     A
0023 FB                MOV     R3,A
0024 FA                MOV     R2,A
0025         ?C0073:
                                           ; SOURCE LINE # 583
0025 7F01              MOV     R7,#01H
0027 7E00              MOV     R6,#00H
0029 120000      R     LCALL   _delay_us
002C 0B                INC     R3
002D BB0001            CJNE    R3,#00H,?C0154
0030 0A                INC     R2
0031         ?C0154:
0031 BA01F1            CJNE    R2,#01H,?C0073
0034 BB2CEE            CJNE    R3,#02CH,?C0073
                                           ; SOURCE LINE # 584
0037         ?C0072:
0037 900000      R     MOV     DPTR,#i+01H
003A E0                MOVX    A,@DPTR
003B 04                INC     A
003C F0                MOVX    @DPTR,A
003D 70CE              JNZ     ?C0070
003F 900000      R     MOV     DPTR,#i
0042 E0                MOVX    A,@DPTR
0043 04                INC     A
0044 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 37  

0045         ?C0155:
0045 80C6              SJMP    ?C0070
                                           ; SOURCE LINE # 585
0047         ?C0076:
0047 22                RET     
             ; FUNCTION _delay_ms (END)

             ; FUNCTION _SetPinOut (BEGIN)
                                           ; SOURCE LINE # 587
;---- Variable 'Pin' assigned to Register 'R5' ----
;---- Variable 'Port' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 588
                                           ; SOURCE LINE # 589
0000 EF                MOV     A,R7
0001 14                DEC     A
0002 6018              JZ      ?C0079
0004 14                DEC     A
0005 6023              JZ      ?C0080
0007 14                DEC     A
0008 602E              JZ      ?C0081
000A 2403              ADD     A,#03H
000C 7039              JNZ     ?C0083
                                           ; SOURCE LINE # 590
                                           ; SOURCE LINE # 591
000E         ?C0078:
000E 7401              MOV     A,#01H
0010 A805              MOV     R0,AR5
0012 08                INC     R0
0013 8002              SJMP    ?C0157
0015         ?C0156:
0015 C3                CLR     C
0016 33                RLC     A
0017         ?C0157:
0017 D8FC              DJNZ    R0,?C0156
0019 42B7              ORL     P0MDOUT,A
                                           ; SOURCE LINE # 592
001B 22                RET     
                                           ; SOURCE LINE # 593
001C         ?C0079:
001C 7401              MOV     A,#01H
001E A805              MOV     R0,AR5
0020 08                INC     R0
0021 8002              SJMP    ?C0159
0023         ?C0158:
0023 C3                CLR     C
0024 33                RLC     A
0025         ?C0159:
0025 D8FC              DJNZ    R0,?C0158
0027 42BC              ORL     P1MDOUT,A
                                           ; SOURCE LINE # 594
0029 22                RET     
                                           ; SOURCE LINE # 595
002A         ?C0080:
002A 7401              MOV     A,#01H
002C A805              MOV     R0,AR5
002E 08                INC     R0
002F 8002              SJMP    ?C0161
0031         ?C0160:
0031 C3                CLR     C
0032 33                RLC     A
0033         ?C0161:
0033 D8FC              DJNZ    R0,?C0160
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 38  

0035 42BD              ORL     P2MDOUT,A
                                           ; SOURCE LINE # 596
0037 22                RET     
                                           ; SOURCE LINE # 597
0038         ?C0081:
0038 AF05              MOV     R7,AR5
003A 7401              MOV     A,#01H
003C A807              MOV     R0,AR7
003E 08                INC     R0
003F 8002              SJMP    ?C0163
0041         ?C0162:
0041 C3                CLR     C
0042 33                RLC     A
0043         ?C0163:
0043 D8FC              DJNZ    R0,?C0162
0045 42BE              ORL     P3MDOUT,A
                                           ; SOURCE LINE # 598
                                           ; SOURCE LINE # 599
                                           ; SOURCE LINE # 600
                                           ; SOURCE LINE # 602
0047         ?C0083:
0047 22                RET     
             ; FUNCTION _SetPinOut (END)

             ; FUNCTION _SetPinIn (BEGIN)
                                           ; SOURCE LINE # 604
;---- Variable 'Pin' assigned to Register 'R5' ----
;---- Variable 'Port' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 605
                                           ; SOURCE LINE # 606
0000 EF                MOV     A,R7
0001 14                DEC     A
0002 6019              JZ      ?C0086
0004 14                DEC     A
0005 6025              JZ      ?C0087
0007 14                DEC     A
0008 6031              JZ      ?C0088
000A 2403              ADD     A,#03H
000C 703D              JNZ     ?C0090
                                           ; SOURCE LINE # 607
                                           ; SOURCE LINE # 608
000E         ?C0085:
000E 7401              MOV     A,#01H
0010 A805              MOV     R0,AR5
0012 08                INC     R0
0013 8002              SJMP    ?C0165
0015         ?C0164:
0015 C3                CLR     C
0016 33                RLC     A
0017         ?C0165:
0017 D8FC              DJNZ    R0,?C0164
0019 F4                CPL     A
001A 52B7              ANL     P0MDOUT,A
                                           ; SOURCE LINE # 609
001C 22                RET     
                                           ; SOURCE LINE # 610
001D         ?C0086:
001D 7401              MOV     A,#01H
001F A805              MOV     R0,AR5
0021 08                INC     R0
0022 8002              SJMP    ?C0167
0024         ?C0166:
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 39  

0024 C3                CLR     C
0025 33                RLC     A
0026         ?C0167:
0026 D8FC              DJNZ    R0,?C0166
0028 F4                CPL     A
0029 52BC              ANL     P1MDOUT,A
                                           ; SOURCE LINE # 611
002B 22                RET     
                                           ; SOURCE LINE # 612
002C         ?C0087:
002C 7401              MOV     A,#01H
002E A805              MOV     R0,AR5
0030 08                INC     R0
0031 8002              SJMP    ?C0169
0033         ?C0168:
0033 C3                CLR     C
0034 33                RLC     A
0035         ?C0169:
0035 D8FC              DJNZ    R0,?C0168
0037 F4                CPL     A
0038 52BD              ANL     P2MDOUT,A
                                           ; SOURCE LINE # 613
003A 22                RET     
                                           ; SOURCE LINE # 614
003B         ?C0088:
003B AF05              MOV     R7,AR5
003D 7401              MOV     A,#01H
003F A807              MOV     R0,AR7
0041 08                INC     R0
0042 8002              SJMP    ?C0171
0044         ?C0170:
0044 C3                CLR     C
0045 33                RLC     A
0046         ?C0171:
0046 D8FC              DJNZ    R0,?C0170
0048 F4                CPL     A
0049 52BE              ANL     P3MDOUT,A
                                           ; SOURCE LINE # 615
                                           ; SOURCE LINE # 616
                                           ; SOURCE LINE # 617
                                           ; SOURCE LINE # 619
004B         ?C0090:
004B 22                RET     
             ; FUNCTION _SetPinIn (END)

             ; FUNCTION _PinOutput (BEGIN)
                                           ; SOURCE LINE # 623
;---- Variable 'Pin' assigned to Register 'R5' ----
;---- Variable 'value' assigned to Register 'R3' ----
;---- Variable 'Port' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 624
                                           ; SOURCE LINE # 625
0000 EF                MOV     A,R7
0001 14                DEC     A
0002 602D              JZ      ?C0095
0004 14                DEC     A
0005 604A              JZ      ?C0098
0007 14                DEC     A
0008 6067              JZ      ?C0101
000A 2403              ADD     A,#03H
000C 6003              JZ      $ + 5H
000E 020000      R     LJMP    ?C0105
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 40  

                                           ; SOURCE LINE # 626
                                           ; SOURCE LINE # 627
0011         ?C0092:
0011 EB                MOV     A,R3
0012 600E              JZ      ?C0093
0014 7401              MOV     A,#01H
0016 A805              MOV     R0,AR5
0018 08                INC     R0
0019 8002              SJMP    ?C0173
001B         ?C0172:
001B C3                CLR     C
001C 33                RLC     A
001D         ?C0173:
001D D8FC              DJNZ    R0,?C0172
001F 4280              ORL     P0,A
0021 22                RET     
0022         ?C0093:
                                           ; SOURCE LINE # 628
0022 7401              MOV     A,#01H
0024 A805              MOV     R0,AR5
0026 08                INC     R0
0027 8002              SJMP    ?C0175
0029         ?C0174:
0029 C3                CLR     C
002A 33                RLC     A
002B         ?C0175:
002B D8FC              DJNZ    R0,?C0174
002D F4                CPL     A
002E 5280              ANL     P0,A
                                           ; SOURCE LINE # 629
0030 22                RET     
                                           ; SOURCE LINE # 630
0031         ?C0095:
0031 EB                MOV     A,R3
0032 600E              JZ      ?C0096
0034 7401              MOV     A,#01H
0036 A805              MOV     R0,AR5
0038 08                INC     R0
0039 8002              SJMP    ?C0177
003B         ?C0176:
003B C3                CLR     C
003C 33                RLC     A
003D         ?C0177:
003D D8FC              DJNZ    R0,?C0176
003F 4290              ORL     P1,A
0041 22                RET     
0042         ?C0096:
                                           ; SOURCE LINE # 631
0042 7401              MOV     A,#01H
0044 A805              MOV     R0,AR5
0046 08                INC     R0
0047 8002              SJMP    ?C0179
0049         ?C0178:
0049 C3                CLR     C
004A 33                RLC     A
004B         ?C0179:
004B D8FC              DJNZ    R0,?C0178
004D F4                CPL     A
004E 5290              ANL     P1,A
                                           ; SOURCE LINE # 632
0050 22                RET     
                                           ; SOURCE LINE # 633
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 41  

0051         ?C0098:
0051 EB                MOV     A,R3
0052 600E              JZ      ?C0099
0054 7401              MOV     A,#01H
0056 A805              MOV     R0,AR5
0058 08                INC     R0
0059 8002              SJMP    ?C0181
005B         ?C0180:
005B C3                CLR     C
005C 33                RLC     A
005D         ?C0181:
005D D8FC              DJNZ    R0,?C0180
005F 42A0              ORL     P2,A
0061 22                RET     
0062         ?C0099:
                                           ; SOURCE LINE # 634
0062 7401              MOV     A,#01H
0064 A805              MOV     R0,AR5
0066 08                INC     R0
0067 8002              SJMP    ?C0183
0069         ?C0182:
0069 C3                CLR     C
006A 33                RLC     A
006B         ?C0183:
006B D8FC              DJNZ    R0,?C0182
006D F4                CPL     A
006E 52A0              ANL     P2,A
                                           ; SOURCE LINE # 635
0070 22                RET     
                                           ; SOURCE LINE # 636
0071         ?C0101:
0071 EB                MOV     A,R3
0072 600E              JZ      ?C0102
0074 7401              MOV     A,#01H
0076 A805              MOV     R0,AR5
0078 08                INC     R0
0079 8002              SJMP    ?C0185
007B         ?C0184:
007B C3                CLR     C
007C 33                RLC     A
007D         ?C0185:
007D D8FC              DJNZ    R0,?C0184
007F 42B0              ORL     P3,A
0081 22                RET     
0082         ?C0102:
                                           ; SOURCE LINE # 637
0082 AF05              MOV     R7,AR5
0084 7401              MOV     A,#01H
0086 A807              MOV     R0,AR7
0088 08                INC     R0
0089 8002              SJMP    ?C0187
008B         ?C0186:
008B C3                CLR     C
008C 33                RLC     A
008D         ?C0187:
008D D8FC              DJNZ    R0,?C0186
008F F4                CPL     A
0090 52B0              ANL     P3,A
                                           ; SOURCE LINE # 638
                                           ; SOURCE LINE # 639
                                           ; SOURCE LINE # 640
                                           ; SOURCE LINE # 641
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 42  

0092         ?C0105:
0092 22                RET     
             ; FUNCTION _PinOutput (END)

             ; FUNCTION _GetPinIn (BEGIN)
                                           ; SOURCE LINE # 645
;---- Variable 'value' assigned to Register 'R6' ----
;---- Variable 'Pin' assigned to Register 'R5' ----
;---- Variable 'Port' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 646
                                           ; SOURCE LINE # 648
0000 EF                MOV     A,R7
0001 14                DEC     A
0002 601A              JZ      ?C0108
0004 14                DEC     A
0005 6027              JZ      ?C0109
0007 14                DEC     A
0008 6034              JZ      ?C0110
000A 2403              ADD     A,#03H
000C 7042              JNZ     ?C0111
                                           ; SOURCE LINE # 649
                                           ; SOURCE LINE # 650
000E         ?C0107:
000E 7401              MOV     A,#01H
0010 A805              MOV     R0,AR5
0012 08                INC     R0
0013 8002              SJMP    ?C0189
0015         ?C0188:
0015 C3                CLR     C
0016 33                RLC     A
0017         ?C0189:
0017 D8FC              DJNZ    R0,?C0188
0019 5580              ANL     A,P0
001B FE                MOV     R6,A
                                           ; SOURCE LINE # 651
001C 8034              SJMP    ?C0106
                                           ; SOURCE LINE # 652
001E         ?C0108:
001E 7401              MOV     A,#01H
0020 A805              MOV     R0,AR5
0022 08                INC     R0
0023 8002              SJMP    ?C0191
0025         ?C0190:
0025 C3                CLR     C
0026 33                RLC     A
0027         ?C0191:
0027 D8FC              DJNZ    R0,?C0190
0029 5590              ANL     A,P1
002B FE                MOV     R6,A
                                           ; SOURCE LINE # 653
002C 8024              SJMP    ?C0106
                                           ; SOURCE LINE # 654
002E         ?C0109:
002E 7401              MOV     A,#01H
0030 A805              MOV     R0,AR5
0032 08                INC     R0
0033 8002              SJMP    ?C0193
0035         ?C0192:
0035 C3                CLR     C
0036 33                RLC     A
0037         ?C0193:
0037 D8FC              DJNZ    R0,?C0192
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 43  

0039 55A0              ANL     A,P2
003B FE                MOV     R6,A
                                           ; SOURCE LINE # 655
003C 8014              SJMP    ?C0106
                                           ; SOURCE LINE # 656
003E         ?C0110:
003E AF05              MOV     R7,AR5
0040 7401              MOV     A,#01H
0042 A807              MOV     R0,AR7
0044 08                INC     R0
0045 8002              SJMP    ?C0195
0047         ?C0194:
0047 C3                CLR     C
0048 33                RLC     A
0049         ?C0195:
0049 D8FC              DJNZ    R0,?C0194
004B 55B0              ANL     A,P3
004D FE                MOV     R6,A
                                           ; SOURCE LINE # 657
004E 8002              SJMP    ?C0106
                                           ; SOURCE LINE # 658
0050         ?C0111:
                                           ; SOURCE LINE # 659
0050 E4                CLR     A
0051 FE                MOV     R6,A
                                           ; SOURCE LINE # 660
                                           ; SOURCE LINE # 661
0052         ?C0106:
                                           ; SOURCE LINE # 662
0052 AF06              MOV     R7,AR6
                                           ; SOURCE LINE # 663
0054         ?C0112:
0054 22                RET     
             ; FUNCTION _GetPinIn (END)

             ; FUNCTION GetTouchStatus (BEGIN)
                                           ; SOURCE LINE # 665
                                           ; SOURCE LINE # 666
                                           ; SOURCE LINE # 669
0000 7B01              MOV     R3,#01H
0002 7A00        R     MOV     R2,#HIGH k_data
0004 7900        R     MOV     R1,#LOW k_data
0006 900000      R     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
0009 E4                CLR     A
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C 7404              MOV     A,#04H
000E F0                MOVX    @DPTR,A
000F 7F16              MOV     R7,#016H
0011 7E00              MOV     R6,#00H
0013 120000      R     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 670
0016 900000      R     MOV     DPTR,#k_data
0019 E0                MOVX    A,@DPTR
001A 645A              XRL     A,#05AH
001C 6003              JZ      $ + 5H
001E 020000      R     LJMP    ?C0113
                                           ; SOURCE LINE # 671
                                           ; SOURCE LINE # 672
0021 A3                INC     DPTR
0022 E0                MOVX    A,@DPTR
0023 FF                MOV     R7,A
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 44  

0024 B40134            CJNE    A,#01H,?C0114
                                           ; SOURCE LINE # 673
                                           ; SOURCE LINE # 674
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FC                MOV     R4,A
002A A3                INC     DPTR
002B E0                MOVX    A,@DPTR
002C FD                MOV     R5,A
002D 900000      R     MOV     DPTR,#PressPosX
0030 EC                MOV     A,R4
0031 F0                MOVX    @DPTR,A
0032 A3                INC     DPTR
0033 ED                MOV     A,R5
0034 F0                MOVX    @DPTR,A
0035 900000      R     MOV     DPTR,#LastPosX
0038 EC                MOV     A,R4
0039 F0                MOVX    @DPTR,A
003A A3                INC     DPTR
003B ED                MOV     A,R5
003C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 675
003D 900000      R     MOV     DPTR,#k_data+04H
0040 E0                MOVX    A,@DPTR
0041 FC                MOV     R4,A
0042 A3                INC     DPTR
0043 E0                MOVX    A,@DPTR
0044 FD                MOV     R5,A
0045 900000      R     MOV     DPTR,#PressPosY
0048 EC                MOV     A,R4
0049 F0                MOVX    @DPTR,A
004A A3                INC     DPTR
004B ED                MOV     A,R5
004C F0                MOVX    @DPTR,A
004D 900000      R     MOV     DPTR,#LastPosY
0050 EC                MOV     A,R4
0051 F0                MOVX    @DPTR,A
0052 A3                INC     DPTR
0053 ED                MOV     A,R5
0054 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 676
0055 A3                INC     DPTR
0056 7401              MOV     A,#01H
0058 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 677
0059 8030              SJMP    ?C0115
005B         ?C0114:
                                           ; SOURCE LINE # 678
005B EF                MOV     A,R7
005C B40326            CJNE    A,#03H,?C0116
                                           ; SOURCE LINE # 679
                                           ; SOURCE LINE # 680
005F 900000      R     MOV     DPTR,#RealPosY
0062 E0                MOVX    A,@DPTR
0063 FF                MOV     R7,A
0064 A3                INC     DPTR
0065 E0                MOVX    A,@DPTR
0066 900000      R     MOV     DPTR,#LastPosY
0069 CF                XCH     A,R7
006A F0                MOVX    @DPTR,A
006B A3                INC     DPTR
006C EF                MOV     A,R7
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 45  

006D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 681
006E 900000      R     MOV     DPTR,#RealPosX
0071 E0                MOVX    A,@DPTR
0072 FF                MOV     R7,A
0073 A3                INC     DPTR
0074 E0                MOVX    A,@DPTR
0075 900000      R     MOV     DPTR,#LastPosX
0078 CF                XCH     A,R7
0079 F0                MOVX    @DPTR,A
007A A3                INC     DPTR
007B EF                MOV     A,R7
007C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 682
007D 900000      R     MOV     DPTR,#Touchstate
0080 7402              MOV     A,#02H
0082 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 683
0083 8006              SJMP    ?C0115
0085         ?C0116:
                                           ; SOURCE LINE # 685
                                           ; SOURCE LINE # 686
0085 900000      R     MOV     DPTR,#Touchstate
0088 7403              MOV     A,#03H
008A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 687
008B         ?C0115:
                                           ; SOURCE LINE # 688
008B 900000      R     MOV     DPTR,#k_data+02H
008E E0                MOVX    A,@DPTR
008F FF                MOV     R7,A
0090 A3                INC     DPTR
0091 E0                MOVX    A,@DPTR
0092 900000      R     MOV     DPTR,#RealPosX
0095 CF                XCH     A,R7
0096 F0                MOVX    @DPTR,A
0097 A3                INC     DPTR
0098 EF                MOV     A,R7
0099 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 689
009A 900000      R     MOV     DPTR,#k_data+04H
009D E0                MOVX    A,@DPTR
009E FF                MOV     R7,A
009F A3                INC     DPTR
00A0 E0                MOVX    A,@DPTR
00A1 900000      R     MOV     DPTR,#RealPosY
00A4 CF                XCH     A,R7
00A5 F0                MOVX    @DPTR,A
00A6 A3                INC     DPTR
00A7 EF                MOV     A,R7
00A8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 690
00A9 E4                CLR     A
00AA 900000      R     MOV     DPTR,#k_data
00AD F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 691
00AE 7B01              MOV     R3,#01H
00B0 7A00        R     MOV     R2,#HIGH k_data
00B2 7900        R     MOV     R1,#LOW k_data
00B4 900000      R     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
00B7 F0                MOVX    @DPTR,A
00B8 A3                INC     DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 46  

00B9 7402              MOV     A,#02H
00BB F0                MOVX    @DPTR,A
00BC 7F16              MOV     R7,#016H
00BE 7E00              MOV     R6,#00H
00C0 120000      R     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 692
00C3 8011              SJMP    ?C0198
                                           ; SOURCE LINE # 693
00C5         ?C0113:
                                           ; SOURCE LINE # 695
                                           ; SOURCE LINE # 696
00C5 900000      R     MOV     DPTR,#k_data+01H
00C8 E0                MOVX    A,@DPTR
00C9 FF                MOV     R7,A
00CA 6402              XRL     A,#02H
00CC 6003              JZ      ?C0121
00CE EF                MOV     A,R7
00CF 7005              JNZ     ?C0120
00D1         ?C0121:
                                           ; SOURCE LINE # 697
                                           ; SOURCE LINE # 698
00D1 E4                CLR     A
00D2 900000      R     MOV     DPTR,#Touchstate
00D5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 699
00D6         ?C0120:
                                           ; SOURCE LINE # 700
00D6         ?C0198:
00D6 900000      R     MOV     DPTR,#Touchstate
00D9 E0                MOVX    A,@DPTR
00DA FF                MOV     R7,A
                                           ; SOURCE LINE # 701
                                           ; SOURCE LINE # 702
00DB         ?C0118:
00DB 22                RET     
             ; FUNCTION GetTouchStatus (END)

             ; FUNCTION _GetTouchAnction (BEGIN)
                                           ; SOURCE LINE # 704
0000 900000      R     MOV     DPTR,#PageID
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 705
                                           ; SOURCE LINE # 709
0008 120000      R     LCALL   GetTouchStatus
000B 900000      R     MOV     DPTR,#status
000E EF                MOV     A,R7
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 710
0010 7006              JNZ     ?C0122
                                           ; SOURCE LINE # 711
                                           ; SOURCE LINE # 712
0012 900000      R     MOV     DPTR,#PressPosChange
0015 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 713
0016 FF                MOV     R7,A
0017 22                RET     
                                           ; SOURCE LINE # 714
0018         ?C0122:
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 47  

                                           ; SOURCE LINE # 715
0018 900000      R     MOV     DPTR,#status
001B E0                MOVX    A,@DPTR
001C B4010F            CJNE    A,#01H,?C0125
                                           ; SOURCE LINE # 716
                                           ; SOURCE LINE # 717
001F 7A00        R     MOV     R2,#HIGH PressPageID
0021 7900        R     MOV     R1,#LOW PressPageID
0023 120000      R     LCALL   L?0199
                                           ; SOURCE LINE # 718
0026 900000      R     MOV     DPTR,#PressPosChange
0029 7401              MOV     A,#01H
002B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 719
002C FF                MOV     R7,A
002D 22                RET     
                                           ; SOURCE LINE # 720
002E         ?C0125:
                                           ; SOURCE LINE # 722
                                           ; SOURCE LINE # 723
002E 900000      R     MOV     DPTR,#PressPageID
0031 E0                MOVX    A,@DPTR
0032 FE                MOV     R6,A
0033 A3                INC     DPTR
0034 E0                MOVX    A,@DPTR
0035 FF                MOV     R7,A
0036 900000      R     MOV     DPTR,#PageID
0039 E0                MOVX    A,@DPTR
003A 6E                XRL     A,R6
003B 7003              JNZ     ?C0196
003D A3                INC     DPTR
003E E0                MOVX    A,@DPTR
003F 6F                XRL     A,R7
0040         ?C0196:
0040 6003              JZ      ?C0127
                                           ; SOURCE LINE # 724
                                           ; SOURCE LINE # 725
0042 7F01              MOV     R7,#01H
0044 22                RET     
                                           ; SOURCE LINE # 726
0045         ?C0127:
                                           ; SOURCE LINE # 727
0045 900000      R     MOV     DPTR,#RealPosX
0048 E0                MOVX    A,@DPTR
0049 FE                MOV     R6,A
004A A3                INC     DPTR
004B E0                MOVX    A,@DPTR
004C FF                MOV     R7,A
004D C3                CLR     C
004E 900000      R     MOV     DPTR,#PressPosX+01H
0051 E0                MOVX    A,@DPTR
0052 9F                SUBB    A,R7
0053 FF                MOV     R7,A
0054 900000      R     MOV     DPTR,#PressPosX
0057 E0                MOVX    A,@DPTR
0058 9E                SUBB    A,R6
0059 900000      R     MOV     DPTR,#xdistance
005C F0                MOVX    @DPTR,A
005D A3                INC     DPTR
005E EF                MOV     A,R7
005F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 728
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 48  

0060 900000      R     MOV     DPTR,#xdistance
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 FF                MOV     R7,A
0069 AE04              MOV     R6,AR4
006B 120000      E     LCALL   ?C?IMUL
006E EE                MOV     A,R6
006F 33                RLC     A
0070 95E0              SUBB    A,ACC
0072 FD                MOV     R5,A
0073 FC                MOV     R4,A
0074 900000      R     MOV     DPTR,#x2distance
0077 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 729
007A 900000      R     MOV     DPTR,#RealPosY
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
0082 C3                CLR     C
0083 900000      R     MOV     DPTR,#PressPosY+01H
0086 E0                MOVX    A,@DPTR
0087 9F                SUBB    A,R7
0088 FF                MOV     R7,A
0089 900000      R     MOV     DPTR,#PressPosY
008C E0                MOVX    A,@DPTR
008D 9E                SUBB    A,R6
008E 900000      R     MOV     DPTR,#ydistance
0091 F0                MOVX    @DPTR,A
0092 A3                INC     DPTR
0093 EF                MOV     A,R7
0094 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 730
0095 900000      R     MOV     DPTR,#ydistance
0098 E0                MOVX    A,@DPTR
0099 FC                MOV     R4,A
009A A3                INC     DPTR
009B E0                MOVX    A,@DPTR
009C FD                MOV     R5,A
009D FF                MOV     R7,A
009E AE04              MOV     R6,AR4
00A0 120000      E     LCALL   ?C?IMUL
00A3 EE                MOV     A,R6
00A4 33                RLC     A
00A5 95E0              SUBB    A,ACC
00A7 FD                MOV     R5,A
00A8 FC                MOV     R4,A
00A9 900000      R     MOV     DPTR,#y2distance
00AC 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 731
00AF 900000      R     MOV     DPTR,#status
00B2 E0                MOVX    A,@DPTR
00B3 6402              XRL     A,#02H
00B5 7079              JNZ     ?C0128
                                           ; SOURCE LINE # 732
                                           ; SOURCE LINE # 733
00B7 900000      R     MOV     DPTR,#PressPosChange
00BA E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 49  

00BB 6401              XRL     A,#01H
00BD 706B              JNZ     ?C0129
                                           ; SOURCE LINE # 734
                                           ; SOURCE LINE # 735
00BF 7F09              MOV     R7,#09H
00C1 FE                MOV     R6,A
00C2 FD                MOV     R5,A
00C3 FC                MOV     R4,A
00C4 900000      R     MOV     DPTR,#y2distance
00C7 E0                MOVX    A,@DPTR
00C8 F8                MOV     R0,A
00C9 A3                INC     DPTR
00CA E0                MOVX    A,@DPTR
00CB F9                MOV     R1,A
00CC A3                INC     DPTR
00CD E0                MOVX    A,@DPTR
00CE FA                MOV     R2,A
00CF A3                INC     DPTR
00D0 E0                MOVX    A,@DPTR
00D1 FB                MOV     R3,A
00D2 C3                CLR     C
00D3 120000      E     LCALL   ?C?ULCMP
00D6 501A              JNC     ?C0131
00D8 E4                CLR     A
00D9 7F09              MOV     R7,#09H
00DB FE                MOV     R6,A
00DC FD                MOV     R5,A
00DD FC                MOV     R4,A
00DE 900000      R     MOV     DPTR,#x2distance
00E1 E0                MOVX    A,@DPTR
00E2 F8                MOV     R0,A
00E3 A3                INC     DPTR
00E4 E0                MOVX    A,@DPTR
00E5 F9                MOV     R1,A
00E6 A3                INC     DPTR
00E7 E0                MOVX    A,@DPTR
00E8 FA                MOV     R2,A
00E9 A3                INC     DPTR
00EA E0                MOVX    A,@DPTR
00EB FB                MOV     R3,A
00EC C3                CLR     C
00ED 120000      E     LCALL   ?C?ULCMP
00F0 4038              JC      ?C0129
00F2         ?C0131:
                                           ; SOURCE LINE # 736
                                           ; SOURCE LINE # 737
00F2 E4                CLR     A
00F3 7F02              MOV     R7,#02H
00F5 FE                MOV     R6,A
00F6 FD                MOV     R5,A
00F7 FC                MOV     R4,A
00F8 900000      R     MOV     DPTR,#y2distance
00FB E0                MOVX    A,@DPTR
00FC F8                MOV     R0,A
00FD A3                INC     DPTR
00FE E0                MOVX    A,@DPTR
00FF F9                MOV     R1,A
0100 A3                INC     DPTR
0101 E0                MOVX    A,@DPTR
0102 FA                MOV     R2,A
0103 A3                INC     DPTR
0104 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 50  

0105 FB                MOV     R3,A
0106 120000      E     LCALL   ?C?LMUL
0109 900000      R     MOV     DPTR,#x2distance
010C E0                MOVX    A,@DPTR
010D F8                MOV     R0,A
010E A3                INC     DPTR
010F E0                MOVX    A,@DPTR
0110 F9                MOV     R1,A
0111 A3                INC     DPTR
0112 E0                MOVX    A,@DPTR
0113 FA                MOV     R2,A
0114 A3                INC     DPTR
0115 E0                MOVX    A,@DPTR
0116 FB                MOV     R3,A
0117 D3                SETB    C
0118 120000      E     LCALL   ?C?ULCMP
011B 900000      R     MOV     DPTR,#PressPosChange
011E 5005              JNC     ?C0132
                                           ; SOURCE LINE # 738
                                           ; SOURCE LINE # 739
0120 7403              MOV     A,#03H
0122 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 740
0123 FF                MOV     R7,A
0124 22                RET     
                                           ; SOURCE LINE # 741
0125         ?C0132:
                                           ; SOURCE LINE # 743
                                           ; SOURCE LINE # 744
0125 7404              MOV     A,#04H
0127 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 745
0128 FF                MOV     R7,A
0129 22                RET     
                                           ; SOURCE LINE # 746
                                           ; SOURCE LINE # 747
                                           ; SOURCE LINE # 748
012A         ?C0129:
                                           ; SOURCE LINE # 749
012A 900000      R     MOV     DPTR,#PressPosChange
012D E0                MOVX    A,@DPTR
012E FF                MOV     R7,A
012F 22                RET     
                                           ; SOURCE LINE # 750
0130         ?C0128:
                                           ; SOURCE LINE # 752
                                           ; SOURCE LINE # 753
0130 900000      R     MOV     DPTR,#PressPosChange
0133 E0                MOVX    A,@DPTR
0134 6401              XRL     A,#01H
0136 706E              JNZ     ?C0135
                                           ; SOURCE LINE # 754
                                           ; SOURCE LINE # 755
0138 7F09              MOV     R7,#09H
013A FE                MOV     R6,A
013B FD                MOV     R5,A
013C FC                MOV     R4,A
013D 900000      R     MOV     DPTR,#y2distance
0140 E0                MOVX    A,@DPTR
0141 F8                MOV     R0,A
0142 A3                INC     DPTR
0143 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 51  

0144 F9                MOV     R1,A
0145 A3                INC     DPTR
0146 E0                MOVX    A,@DPTR
0147 FA                MOV     R2,A
0148 A3                INC     DPTR
0149 E0                MOVX    A,@DPTR
014A FB                MOV     R3,A
014B C3                CLR     C
014C 120000      E     LCALL   ?C?ULCMP
014F 501A              JNC     ?C0137
0151 E4                CLR     A
0152 7F09              MOV     R7,#09H
0154 FE                MOV     R6,A
0155 FD                MOV     R5,A
0156 FC                MOV     R4,A
0157 900000      R     MOV     DPTR,#x2distance
015A E0                MOVX    A,@DPTR
015B F8                MOV     R0,A
015C A3                INC     DPTR
015D E0                MOVX    A,@DPTR
015E F9                MOV     R1,A
015F A3                INC     DPTR
0160 E0                MOVX    A,@DPTR
0161 FA                MOV     R2,A
0162 A3                INC     DPTR
0163 E0                MOVX    A,@DPTR
0164 FB                MOV     R3,A
0165 C3                CLR     C
0166 120000      E     LCALL   ?C?ULCMP
0169 4038              JC      ?C0136
016B         ?C0137:
                                           ; SOURCE LINE # 756
                                           ; SOURCE LINE # 757
016B E4                CLR     A
016C 7F02              MOV     R7,#02H
016E FE                MOV     R6,A
016F FD                MOV     R5,A
0170 FC                MOV     R4,A
0171 900000      R     MOV     DPTR,#y2distance
0174 E0                MOVX    A,@DPTR
0175 F8                MOV     R0,A
0176 A3                INC     DPTR
0177 E0                MOVX    A,@DPTR
0178 F9                MOV     R1,A
0179 A3                INC     DPTR
017A E0                MOVX    A,@DPTR
017B FA                MOV     R2,A
017C A3                INC     DPTR
017D E0                MOVX    A,@DPTR
017E FB                MOV     R3,A
017F 120000      E     LCALL   ?C?LMUL
0182 900000      R     MOV     DPTR,#x2distance
0185 E0                MOVX    A,@DPTR
0186 F8                MOV     R0,A
0187 A3                INC     DPTR
0188 E0                MOVX    A,@DPTR
0189 F9                MOV     R1,A
018A A3                INC     DPTR
018B E0                MOVX    A,@DPTR
018C FA                MOV     R2,A
018D A3                INC     DPTR
018E E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 52  

018F FB                MOV     R3,A
0190 D3                SETB    C
0191 120000      E     LCALL   ?C?ULCMP
0194 900000      R     MOV     DPTR,#PressPosChange
0197 5005              JNC     ?C0138
                                           ; SOURCE LINE # 758
                                           ; SOURCE LINE # 759
0199 7403              MOV     A,#03H
019B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 760
019C 8008              SJMP    ?C0135
019E         ?C0138:
                                           ; SOURCE LINE # 762
                                           ; SOURCE LINE # 763
019E 7404              MOV     A,#04H
01A0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 764
                                           ; SOURCE LINE # 765
01A1 8003              SJMP    ?C0135
01A3         ?C0136:
                                           ; SOURCE LINE # 767
                                           ; SOURCE LINE # 768
01A3 7F02              MOV     R7,#02H
01A5 22                RET     
                                           ; SOURCE LINE # 769
                                           ; SOURCE LINE # 770
01A6         ?C0135:
                                           ; SOURCE LINE # 771
01A6 900000      R     MOV     DPTR,#PressPosChange
01A9 E0                MOVX    A,@DPTR
01AA B4031E            CJNE    A,#03H,?C0141
                                           ; SOURCE LINE # 772
                                           ; SOURCE LINE # 773
01AD 900000      R     MOV     DPTR,#RealPosY
01B0 E0                MOVX    A,@DPTR
01B1 FE                MOV     R6,A
01B2 A3                INC     DPTR
01B3 E0                MOVX    A,@DPTR
01B4 FF                MOV     R7,A
01B5 C3                CLR     C
01B6 900000      R     MOV     DPTR,#LastPosY+01H
01B9 E0                MOVX    A,@DPTR
01BA 9F                SUBB    A,R7
01BB FF                MOV     R7,A
01BC 900000      R     MOV     DPTR,#LastPosY
01BF E0                MOVX    A,@DPTR
01C0 9E                SUBB    A,R6
01C1 900000      R     MOV     DPTR,#PosYChangeSpeed
01C4 F0                MOVX    @DPTR,A
01C5 A3                INC     DPTR
01C6 EF                MOV     A,R7
01C7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 774
01C8 7F05              MOV     R7,#05H
01CA 22                RET     
                                           ; SOURCE LINE # 775
01CB         ?C0141:
                                           ; SOURCE LINE # 777
                                           ; SOURCE LINE # 778
01CB 900000      R     MOV     DPTR,#RealPosX
01CE E0                MOVX    A,@DPTR
01CF FE                MOV     R6,A
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 53  

01D0 A3                INC     DPTR
01D1 E0                MOVX    A,@DPTR
01D2 FF                MOV     R7,A
01D3 C3                CLR     C
01D4 900000      R     MOV     DPTR,#LastPosX+01H
01D7 E0                MOVX    A,@DPTR
01D8 9F                SUBB    A,R7
01D9 FF                MOV     R7,A
01DA 900000      R     MOV     DPTR,#LastPosX
01DD E0                MOVX    A,@DPTR
01DE 9E                SUBB    A,R6
01DF 900000      R     MOV     DPTR,#PosXChangeSpeed
01E2 F0                MOVX    @DPTR,A
01E3 A3                INC     DPTR
01E4 EF                MOV     A,R7
01E5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 779
01E6 7F06              MOV     R7,#06H
                                           ; SOURCE LINE # 780
                                           ; SOURCE LINE # 781
                                           ; SOURCE LINE # 782
                                           ; SOURCE LINE # 783
01E8         ?C0123:
01E8 22                RET     
             ; FUNCTION _GetTouchAnction (END)

C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 54  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


INIT_CPU . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
Spi_Flash. . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0000H  16
ADR_H. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F1H  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
Nor_Flash. . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0010H  12
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
_GetPinIn. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  Port . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  Pin. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  value. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
ADR_L. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F3H  1
PAGESEL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0094H  1
ADR_M. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F2H  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
RAMMODE. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
_write_dgus_vp . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  addr . . . . . . . . . . . . . . . .  AUTO     DATA   U_INT    0004H  2
  buf. . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0002H  3
  len. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0005H  2
P0MDOUT. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B7H  1
P1MDOUT. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BCH  1
IEN0 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
P2MDOUT. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BDH  1
IEN1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
_SetPinIn. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  Port . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  Pin. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
PressPosChange . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   001CH  1
P3MDOUT. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BEH  1
IEN2 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009AH  1
_SetPinOut . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  Port . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  Pin. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
APP_ACK. . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00FCH  1
RealPosX . . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      001DH  2
ADR_INC. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F4H  1
RealPosY . . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      001FH  2
_MusicPlay . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  MusicId. . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  k_data . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0001H  4
PressPosX. . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      0021H  2
PressPageID. . . . . . . . . . . . . .  PUBLIC   XDATA  U_INT    0023H  2
PressPosY. . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      0025H  2
SPIFlash_Action. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  buf. . . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  12
LastPosX . . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      0027H  2
MusicBuf . . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   0029H  35
LastPosY . . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      004CH  2
D_PAGESEL. . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0095H  1
_Page_Change . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  PageID . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  buf. . . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0002H  4
Touchstate . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   004EH  1
MSPIFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 55  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
_mSPIFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
s8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
u8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
MNORFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
_mNORFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
GetPageID. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  nPage. . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
GetTouchStatus . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  k_data . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  8
PORTDRV. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F9H  1
_PinOutput . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  Port . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
  Pin. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
  value. . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0003H  1
MUX_SEL. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C9H  1
xdistance. . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      004FH  2
IP0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A9H  1
ydistance. . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      0051H  2
IP1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B9H  1
ClearRAM . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  ptr. . . . . . . . . . . . . . . . .  * REG *  DATA   PTR      0006H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     DATA   U_INT    0000H  2
PosXChangeSpeed. . . . . . . . . . . .  PUBLIC   XDATA  INT      0053H  2
ET2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00ADH  1
DATA0. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FDH  1
PosYChangeSpeed. . . . . . . . . . . .  PUBLIC   XDATA  INT      0055H  2
DATA1. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FCH  1
DATA2. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FBH  1
DATA3. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00FAH  1
TH2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CDH  1
MMUSIC . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 56  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_mMUSIC. . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
TL2. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CCH  1
_delay_ms. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  t. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0002H  2
  j. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
APP_EN . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00FEH  1
RS0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D3H  1
RS1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00D4H  1
DPC. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0093H  1
s32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
TR2. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00C8H  1
u32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
s16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
_delay_us. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0004H  -----
  t. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0006H  2
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0005H  1
ResetT5L . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  tmp. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   0000H  4
u16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
NorFlash_Action. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  buf. . . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  8
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
TRL2H. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CBH  1
CKCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   008EH  1
TRL2L. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00CAH  1
_GetTouchAnction . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  PageID . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  status . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0002H  1
  x2distance . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   0003H  4
  y2distance . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   0007H  4
_read_dgus_vp. . . . . . . . . . . . .  PUBLIC   CODE   PROC     000EH  -----
  addr . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  buf. . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0002H  3
  len. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0005H  2
  OS_addr. . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0007H  2
  OS_addr_offset . . . . . . . . . . .  AUTO     XDATA  U_INT    0009H  2
  OS_len . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    000BH  2
  OS_len_offset. . . . . . . . . . . .  AUTO     XDATA  U_INT    000DH  2
  LenLimit . . . . . . . . . . . . . .  AUTO     XDATA  U_LONG   000FH  4
_TouchSwitch . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  PageID . . . . . . . . . . . . . . .  AUTO     DATA   U_INT    0006H  2
  TouchType. . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0005H  1
  TouchID. . . . . . . . . . . . . . .  AUTO     DATA   U_CHAR   0003H  1
  Status . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0004H  1
  k_data . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0005H  8


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   2813    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =     87      99
   PDATA SIZE       =   ----    ----
C51 COMPILER V9.53.0.0   SYS                                                               12/12/2023 07:41:24 PAGE 57  

   DATA SIZE        =   ----       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
