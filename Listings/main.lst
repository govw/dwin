C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\DWIN\Keil_v5\C51\BIN\C51.EXE source\main.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\driver;.\sour
                    -ce) DEBUG OBJECTEXTEND CODE SYMBOLS PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "timer.h"
   2          #include "ui.h"
   3          #include "uart.h"
   4          #include "dwin8283.h"
   5          #include "canbus.h"
   6          #include "ssd2828.h"
*** WARNING C235 IN LINE 76 OF source\ssd2828.h: parameter 1: different types
   7          #include <string.h> 
   8          #include <stdio.h>
   9          
  10          
  11          #include "temp.h"
  12          
  13          
  14          
  15          //–∑–∞–º–µ—Ç–∫–∏!!
  16          //—Ä–∞–±–æ—á–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–ø–∏—Å–∏ –ø–æ vp
  17          //write_dgus_vp(0x1200, "fadsfsadfad\x00", sizeof("fadsfsadfad\x00"));
  18          
  19          //–¢1   –≤—Ä–µ–º—è –ø—Ä–µ–¥–≤. –ø—Ä–æ–¥—É–≤–∫–∏, —Å
  20          data u16 some_rus_string[] = {0x0422, 0x0031, 0x0020, 0x0432, 0x0440, 0x0435, 0x043C, 0x044F, 0x0020, 0x04
             -3F, 0x0440, 0x0435, 0x0434, 0x0432, 0x002E, 0x0020, 0x043F, 0x0440, 0x043E, 0x0434, 0x0443, 0x0432, 0x043A, 0x0438, 0x00
             -2C, 0x0020, 0000};
  21          
  22                        
  23          
  24          
  25          
  26          struct text_field
  27          {
  28              void *vp;
  29              u16 x;
  30              u16 y;
  31              u16 color;    
  32          }text1;
  33          
  34          
  35          u8 state, inbufind;
  36          u8 bufin[255];
  37          u8 len; 
  38          
  39          u8 begfl,endfl;
  40          
  41          #define UART_INIT       {state = inbufind=0;  begfl=endfl=0;} 
  42          #define UART_INIT_1 {state=1; inbufind=0; begfl=endfl=0;}
  43          #define TEXT_VP (0x1200)
  44          u8 temp_offset = 0;
  45          
  46          
  47          
  48          
  49          u8  my_text[100];
  50          u8 counter = 0;
  51          
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 2   

  52          
  53          //IOÔøΩÔøΩÔøΩ≈≥ÔøΩ ºÔøΩÔøΩ
  54          void io_init()
  55          {
  56   1               PORTDRV = 0x01;//ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩŒ™8mA
  57   1              //P1MDOUT |= 0x02;//ÔøΩÔøΩP1.1ÔøΩÔøΩÔøΩÔøΩŒ™ÔøΩÔøΩÔøΩ,ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩLED1ÔøΩÔøΩ
  58   1              //P1MDOUT &= 0xFE;//ÔøΩÔøΩP1.0ÔøΩÔøΩÔøΩÔøΩŒ™ÔøΩÔøΩÔøΩÔøΩ,ÔøΩÔøΩÔøΩ⁄∂ÔøΩ»°ÔøΩÔøΩÔøΩ≈µƒµÔøΩ∆ΩÔøΩ‰ªØ
  59   1              //sbit csx = P1^0;              //p1.0
  60   1              //sbit sdo = P1^1;              //p1.1
  61   1              //sbit sdi = P1^2;              //p1.2
  62   1              //sbit sck = P1^3;              //p1.3
  63   1              //sbit sdc = P1^4;              //p1.4
  64   1              
  65   1              P1MDOUT = 0xFD; 
  66   1              P1=0xFD;        
  67   1      }
  68          
  69          
  70          
  71          u8 idx = 0;
  72             
  73               
  74          xdata u8 dbg_string[50];
  75          xdata u16 key_code;
  76          
  77          const u16 KEY_CODE_VP = 0x2000;
  78          
  79          
  80          void nothing(void)
  81          {
  82   1                                    
  83   1          
  84   1      }
  85           
  86          void draw_rectangle(const u16 x,const u16 y)
  87          {
  88   1          xdata u16 draw_rect_cmd[30];
  89   1          draw_rect_cmd[0] = 0x0003;  //shape type
  90   1          draw_rect_cmd[1] = 0x0003;  //obj cnt
  91   1          draw_rect_cmd[2] = 0;       //x0
  92   1          draw_rect_cmd[3] = y;       //y0
  93   1          draw_rect_cmd[4] = 1023;    //x1
  94   1          draw_rect_cmd[5] = y + 100; //y1
  95   1          draw_rect_cmd[6] = 0xFFFF;  //color
  96   1          draw_rect_cmd[7] = 0 + 1;       //x0
  97   1          draw_rect_cmd[8] = y + 1;       //y0
  98   1          draw_rect_cmd[9] = 1023 - 1;    //x1
  99   1          draw_rect_cmd[10] = y + 100 - 1; //y1
 100   1          draw_rect_cmd[11] = 0xFFFF;  //color
 101   1          draw_rect_cmd[12] = 0 + 2;       //x0
 102   1          draw_rect_cmd[13] = y + 2;       //y0
 103   1          draw_rect_cmd[14] = 1023 - 2;    //x1
 104   1          draw_rect_cmd[15] = y + 100 - 2; //y1
 105   1          draw_rect_cmd[16] = 0xFFFF;  //color
 106   1          draw_rect_cmd[17] = 0xFF00;
 107   1          
 108   1          write_dgus_vp(0x3000, (u8*) draw_rect_cmd, sizeof(draw_rect_cmd) / 2); 
 109   1      }
*** WARNING C280 IN LINE 86 OF source\main.c: 'x': unreferenced local variable
 110          
 111          void draw_string(u8* s)
 112          {
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 3   

 113   1          xdata u16 str[50];
 114   1          u8 i;
 115   1          u8 len = strlen(s) + 1;
 116   1          for(i = 0; i < len; i++)
 117   1          {
 118   2              str[i] = s[i]; 
 119   2          }
 120   1          write_dgus_vp(0x1100, (u8*)str, len);
 121   1      }
 122          
 123          s16 rect_y_pos = 0;
 124          void btn_0(void)
 125          {
 126   1          //write_dgus_vp(0x1200, "F1\x00", sizeof("F1\x00"));
 127   1      //    text1.x += 10;
 128   1      //    text1.y += 10;
 129   1      //    write_dgus_vp(0x9001, (u8*) &text1.x, sizeof(text1.x));
 130   1          
 131   1        rect_y_pos -= 100;
 132   1          if(rect_y_pos <= 0) 
 133   1              rect_y_pos = 700;
 134   1          draw_rectangle(0, rect_y_pos);    
 135   1      }
 136          void btn_1(void)
 137          {
 138   1      //    write_dgus_vp(0x1200, "F2\x00", sizeof("F2\x00"));
 139   1            rect_y_pos += 100;
 140   1          if(rect_y_pos == 800) 
 141   1              rect_y_pos = 0;
 142   1          draw_rectangle(0, rect_y_pos);
 143   1          draw_string("string 1");   
 144   1      }
 145          
 146          void btn_2(void)
 147          {
 148   1          draw_string("string 2");
 149   1          write_dgus_vp(0x1200, "F3\x00", sizeof("F3\x00"));
 150   1      }
 151          
 152          void btn_3(void)
 153          {
 154   1          static u16 n;
 155   1          u8 temp[50];
 156   1          sprintf((u8*)temp, "%s%10d","test", n);//
 157   1          n++;
 158   1          draw_string(temp);
 159   1          write_dgus_vp(0x1200, "F4\x00", sizeof("F4\x00"));    
 160   1      }
 161          
 162          void btn_4(void)
 163          {
 164   1          draw_string("string 4");
 165   1          write_dgus_vp(0x1200, "F5\x00", sizeof("F5\x00"));
 166   1      }
 167          void btn_5(void)
 168          {
 169   1          write_dgus_vp(0x1200, "F6\x00", sizeof("F6\x00"));
 170   1          
 171   1      }
 172          
 173          
 174          code void (*btn_func[])(void) = {
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 4   

 175             btn_0, btn_1, btn_2,
 176             btn_3, btn_4, btn_5,
 177             nothing,nothing,nothing,nothing,nothing,nothing,nothing,nothing,nothing,nothing,    
 178          };
 179          
 180          
 181          
 182          
 183          print_utf_str(u16 vp, u8* str)
 184          {
 185   1          xdata u16 out_str[30];
 186   1          u8 i;
 187   1          u8 len;
 188   1          
 189   1          len = strlen(str) + 1;
 190   1          
 191   1          for(i = 0; i < len; i++) {
 192   2              out_str[i] = str[i];
 193   2          }
 194   1          
 195   1          write_dgus_vp(vp, (u8*)out_str, sizeof(out_str));
 196   1      }
 197          
 198          
 199          code u16 string_offsets[] = {0x1000, 0x1200, 0x1400, 0x1600, 0x1800 ,0x2000, 0x2200, 0x2400};
 200          
 201          
 202          typedef struct list_par_t{
 203              u8  name[30];
 204              u16 val;
 205          };
 206          
 207          
 208             
 209          void main()
 210          {
 211   1              INIT_CPU();            //CPU ÔøΩÔøΩ ºÔøΩÔøΩÔøΩÔøΩ◊¢ÔøΩÔøΩÔøΩ ºÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ–ªÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩxd
             -ataÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ºÔøΩÔøΩÔøΩÔøΩ0ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩƒ±ÔøΩÔøΩÔøΩÔøΩ–≥ÔøΩ º÷µÔøΩÔøΩÔøΩÔøΩ“™ÔøΩ⁄∏√∫ÔøΩÔøΩÔøΩÔ
             -øΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ¬∏ÔøΩ÷µ
 212   1              T0_Init();                                               //ÔøΩÔøΩ ±ÔøΩÔøΩ0ÔøΩÔøΩ ºÔøΩÔøΩ
 213   1              EA = 1; //interrupt on
 214   1              
 215   1          //StartTimer(0,100);
 216   1              //StartTimer(1,50);
 217   1              //-------------------
 218   1              io_init();
 219   1      //      delay_ms(20);
 220   1              ssd2828_init();
 221   1      //________________________________________________________________________ __________   
 222   1              UartInit(UART5, 115200);
 223   1              UART_INIT //MARCROS
 224   1              
 225   1          draw_bottom_menu();
 226   1        
 227   1      while(1)    
 228   1      {
 229   2         
 230   2         enum ETP_STATE 
 231   2         {
 232   2             ETPS_WAIT,
 233   2             ETPS_RELEASE,
 234   2             ETPS_FIRST_PRESS,
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 5   

 235   2             ETPS_LIFT,
 236   2             ETPS_PRESSING,
 237   2         };
 238   2         
 239   2         static u8 tp_state = ETPS_WAIT;
 240   2         
 241   2         struct {
 242   2             u8 status;
 243   2             u8 action_type;
 244   2             u16 x;
 245   2             u16 y;
 246   2         } touch_data;
 247   2          
 248   2         while(1)
 249   2         {
 250   3             read_dgus_vp(0x16,(u8*)&touch_data, sizeof(touch_data) / 2); //info about touch status and coords
 251   3             
 252   3             if(touch_data.status == 0x5A) //if status byte 0x05 some action done
 253   3             {
 254   4                 touch_data.status = 0x00;
 255   4                 write_dgus_vp(0x16, (u8*) &touch_data.x, 1); //clear status byte to 00;
 256   4                  
 257   4                 {
 258   5                     u16 action = touch_data.action_type; 
 259   5                     write_dgus_vp(0x4000, (u8*) &action, 1); //show action type
 260   5                     write_dgus_vp(0x5200, (u8*) &touch_data.x, 2); //show coords of touch point
 261   5                 }
 262   4          
 263   4                 switch(touch_data.action_type)
 264   4                 {
 265   5                     case ETPS_RELEASE:
 266   5                     {
 267   6                         u8 i;
 268   6                         last_selected_menu_item = 0;
 269   6                         for(i = 0; i < cur_menu->size; i++) { //if touch coords in recatnle area
 270   7                              
 271   7                              if((cur_menu->active & (0x0001 << i)) != 0) {
 272   8                                  if( touch_data.x >= cur_menu->items[i].r.x0 && touch_data.x <= cur_menu->items
             -[i].r.x1 &&  
 273   8                                      touch_data.y >= cur_menu->items[i].r.y0 && touch_data.y <= cur_menu->items
             -[i].r.y1 ) {
 274   9                                      //–ø–æ–∏—Å–∫ –∏–∑ –ø—Ä—è–º–æ—É–≥. –æ–±–ª–∞—Å—Ç–µ–π
 275   9                                      cur_menu->func(i);
 276   9                                      prev_menu_item = last_selected_menu_item;
 277   9                                      break;
 278   9                                  }
 279   8                                  last_selected_menu_item++;    
 280   8                              }
 281   7                                  
 282   7                          }
 283   6                          
 284   6                          
 285   6                          {
 286   7                              u16 dummy = last_selected_menu_item;
 287   7                              write_dgus_vp(0x2500, (u8*) &dummy, 1); //–æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∫–æ–¥ –≤—ã–±—Ä–∞–Ω
             -–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
 288   7                          }
 289   6                       
 290   6                         break;
 291   6                     }
 292   5                         
 293   5                     case ETPS_FIRST_PRESS:
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 6   

 294   5                     {
 295   6                         
 296   6                          break;
 297   6                     }
 298   5                     case ETPS_LIFT:
 299   5                         break;
 300   5      
 301   5                     case ETPS_PRESSING:
 302   5                     {
 303   6                          break;
 304   6                     }
 305   5                     default:
 306   5                         break;
 307   5                 }
 308   4             }
 309   3             
 310   3         }
 311   2      }
 312   1          //working cmd 2407 0003 0000 02bc 0001  0064 02bc 0001   00c8 02bc 0003 FF00
 313   1          // {         
 314   1          //         struct {
 315   1          //           u16 x;
 316   1          //           u16 y;  
 317   1          //         } rect[] = {
 318   1          //           {0, 700},
 319   1          //           {100, 700},
 320   1          //           {200, 700},  
 321   1          //           {300, 700},  
 322   1          //           {400, 700},  
 323   1          //           {500, 700},  
 324   1          //           {600, 700},  
 325   1          //           {700, 700},  
 326   1          //           {800, 700},  
 327   1          //           {900, 700},  
 328   1                     
 329   1          //         };
 330   1                  
 331   1                
 332   1          //         while(1)
 333   1          //         {
 334   1          //             u8 i;
 335   1          //             struct {
 336   1          //                 u8 status; //0x5A if some action done
 337   1          //                 u8 action_type;
 338   1          //                 u16 x;
 339   1          //                 u16 y;
 340   1          //             } touch_data;
 341   1                      
 342   1                      
 343   1          //             read_dgus_vp(0x16,(u8*)&touch_data, sizeof(touch_data) / 2); //info about touch status 
             -and coords
 344   1          //             if(touch_data.status == 0x5A) {                                     
 345   1                          
 346   1          //                 //process touch action
 347   1          //                 for(i = 0; i < sizeof(rect) / sizeof(rect[0]); i++) { //if touch coords in recatnle
             - area
 348   1          //                 if(touch_data.x >= rect[i].x && touch_data.x <= rect[i].x + 100 &&
 349   1          //                    touch_data.y >= rect[i].y && touch_data.y <= rect[i].y + 100) {
 350   1                                                                                                        
 351   1          //                        write_dgus_vp(0x5200, (u8*) &touch_data.x, 2); //show coords of touch point
 352   1          //                        if(i == 0) {// –µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω 0 —ç–ª–µ–º–µ–Ω—Ç
 353   1          //                          static u8 cnt = 0;
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 7   

 354   1          //                          if((cnt & 0x01) == 1) {
 355   1          //                             draw_vertical_menu();
 356   1          //                          } else {
 357   1          //                             u16 dummpy = 0x0000;
 358   1          //                             write_dgus_vp(0x9500, (u8*) &dummpy, 1);
 359   1          //                          }
 360   1          //                          cnt++; //for switch                             
 361   1          //                        }
 362   1                              
 363   1          //                        break;
 364   1          //                    }                           
 365   1          //                 }
 366   1                          
 367   1                          
 368   1          //                 //wait button up
 369   1                          
 370   1          //                 while(touch_data.action_type != 0x02) //manual page 52 tp controll
 371   1          //                 {
 372   1          //                     read_dgus_vp(0x16,(u8*)&touch_data, 1); //info about touch status and coords
 373   1          //                 }
 374   1          //                 touch_data.status = 0x00;
 375   1          //                 write_dgus_vp(0x16, (u8*) &touch_data.x, 1); //display coords of touch point
 376   1                          
 377   1          //             }        
 378   1                      
 379   1          //         }        
 380   1          // }    
 381   1         
 382   1          
 383   1      
 384   1      //     {
 385   1      //         u8 i;
 386   1      //         u8 str[60];
 387   1      //         struct list_par_t list_par[] = {
 388   1      //            {"par 1   ",  100},
 389   1      //            {"par 2sdf",  200},
 390   1      //            {"par 3   ",  300},
 391   1      //            {"par 4   ",  400},
 392   1      //            {"par 5a  ",  500},
 393   1      //            {"par 6b  ",  600},
 394   1      //            {"par 7c  ",  700},
 395   1      //            {"par 8   ",  800},
 396   1      //            {"par 9   ",  900},
 397   1      //            {"par 10  ", 1000},
 398   1      //        }; 
 399   1      //            
 400   1      //        
 401   1      //                 
 402   1      //          for(i = 0; i < sizeof(list_par) / sizeof(list_par[0]) ; i++){
 403   1      //              //sprintf(str, "%-30s %05d", list_par[i].name, list_par[i].val);   
 404   1      //              sprintf(str, "%s%d", list_par[i].name, list_par[i].val);   
 405   1      //              print_utf_str(string_offsets[i], str); 
 406   1      //          }
 407   1      //         
 408   1      //          
 409   1      //      }          
 410   1            
 411   1              
 412   1        
 413   1           
 414   1          
 415   1           
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 8   

 416   1          
 417   1          // dbg_string[0] = 0xff;
 418   1          // dbg_string[1] = 0xff;
 419   1          // dbg_string[2] = 0xff;
 420   1          // dbg_string[3] = 0xff;
 421   1          // dbg_string[4] = 0xff;
 422   1          // dbg_string[5] = 0xff;
 423   1          // while(1)
 424   1          // {
 425   1          //     //Uatr_Send_Data(UART5, sizeof(dbg_string), dbg_string);  
 426   1          //     delay_ms(5000);
 427   1          // }
 428   1          
 429   1         
 430   1          
 431   1          
 432   1          
 433   1          key_code = 0x0010; //16 –∫–Ω–æ–ø–∫–∞ –Ω–µ –Ω–∞–∂–∞—Ç–∞
 434   1          write_dgus_vp(0x5000, (u8*) &key_code, sizeof(key_code));
 435   1          while(1)
 436   1          {//–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–æ–∫
 437   2              read_dgus_vp(0x5000, (u8*)&key_code, sizeof(key_code));//—á—Ç–µ–Ω–∏–µ –∫–æ–¥–∞ –∫–Ω–æ–∫–∏
 438   2              if(key_code < 0x0010)
 439   2              {
 440   3                              (*btn_func[key_code])();
 441   3                  key_code = 0x0010;            
 442   3                  write_dgus_vp(0x5000, (u8*) &key_code, sizeof(key_code));
 443   3              }
 444   2              
 445   2              
 446   2              
 447   2              //–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ uart
 448   2              //delay_ms(100);
 449   2              if(Uart_Struct[UART5].tx_flag == 0) //–µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
 450   2                      {
 451   3                 
 452   3                  static u8 buf_idx = 0;            
 453   3                  EA = 0;     
 454   3                  while(Uart_Struct[UART5].rx_tail != Uart_Struct[UART5].rx_head)
 455   3                              { 
 456   4                      u8 byte;
 457   4                      byte = Uart_Struct[UART5].rx_buf[Uart_Struct[UART5].rx_tail];
 458   4                                      Uart_Struct[UART5].rx_tail++;
 459   4                                      Uart_Struct[UART5].rx_tail &= SERIAL_COUNT;
 460   4                                      
 461   4                      //buf[buf_idx] = byte;
 462   4                      //buf_idx++;
 463   4                      
 464   4                      // if(Uart_Struct[UART5].rx_tail == Uart_Struct[UART5].rx_head)
 465   4                      // {
 466   4                      //     u8 i;
 467   4                      //     xdata u16 temp_buf[30];
 468   4                      //     for(i = 0; i < buf_idx; i++)
 469   4                      //     {  
 470   4                      //         sprintf((u8*) &temp_buf[i], "%02X", (u8)buf[i]);                        
 471   4                      //     } 
 472   4                      //     temp_buf[i] = 0x0000;
 473   4                          
 474   4                          
 475   4                      //     write_dgus_vp(0x1200, (u8*) &temp_buf, (buf_idx * 2) + 2);
 476   4                      //     buf_idx = 0;
 477   4                      // }
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 9   

 478   4                      
 479   4                      switch (state)
 480   4                                      {
 481   5                                      case 0:
 482   5                              if(byte == 0xA5) 
 483   5                                                      state=1;
 484   5                                              break; 
 485   5                                      
 486   5                                      case 1:
 487   5                                              if(byte == 0xA5) 
 488   5                                                      state=4;
 489   5                          else 
 490   5                                                      UART_INIT
 491   5                              break; 
 492   5                                      
 493   5                                      case 4:
 494   5                                              if(byte == 0xA5) 
 495   5                                                      begfl = 1;
 496   5                                              else if(byte == 0x5A)
 497   5                              endfl = 1;
 498   5                                              len = byte; 
 499   5                                              state = 6; 
 500   5                              break;  
 501   5      
 502   5                                      case 6:
 503   5                                              if(byte == 0xA5)
 504   5                          {
 505   6                                                      if (begfl == 1) 
 506   6                                                              state = 4;
 507   6                              else           
 508   6                                                              begfl = 1; 
 509   6                          }
 510   5                          else 
 511   5                                                      begfl=0;
 512   5      
 513   5                          if(byte == 0x5A)
 514   5                          {
 515   6                              if(endfl == 1) 
 516   6                                                      {
 517   7                                                              UART_INIT 
 518   7                                                              break;
 519   7                                                      } else
 520   6                                      endfl = 1; 
 521   6                          } else 
 522   5                                                      endfl = 0;
 523   5      
 524   5                              bufin[inbufind] = byte; 
 525   5                                              inbufind++;
 526   5      
 527   5                          if(inbufind == len + 2)
 528   5                          { 
 529   6                               state = 10;
 530   6                          } 
 531   5                                                      
 532   5                              break;
 533   5      
 534   5                                      case 10:
 535   5                                              if(byte == 0x5A) {
 536   6                              state = 11; 
 537   6                                                      break;
 538   6                                              }    
 539   5                          if(byte == 0xA5) {  
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 10  

 540   6                                                      UART_INIT_1 
 541   6                                                      break;
 542   6                                              }
 543   5                                              UART_INIT 
 544   5                                              break;
 545   5      
 546   5                                      case 11:
 547   5                                      {
 548   6                          u8 i;
 549   6                                              u8 crc = 0;
 550   6                          xdata u16 temp_buf[30];
 551   6                                              if(byte != 0x5A)
 552   6                          {
 553   7                              if(byte == 0xA5) 
 554   7                                                              UART_INIT_1 
 555   7                              else             
 556   7                                                              UART_INIT
 557   7                              break; 
 558   7                          }
 559   6                     
 560   6      
 561   6                          for(i = 1; i <= len; i++) {
 562   7                                                      crc += bufin[i];
 563   7                                              }
 564   6                          if(crc != bufin[len+1]) { 
 565   7                                                      UART_INIT
 566   7                                                      break; 
 567   7                                              }
 568   6                          //decode
 569   6                          for(i = 0; i < len; i++)
 570   6                          {  
 571   7                              sprintf((u8*) &temp_buf[i], "%02X", (u8)bufin[i + 1]);                        
 572   7                          } 
 573   6                          temp_buf[i] = 0x0000;
 574   6                          write_dgus_vp(0x1200, (u8*) &temp_buf, (len * 2) + 2);
 575   6                          
 576   6                      //     
 577   6                          //decode
 578   6                          // if(bufin[1] == 0x31) {
 579   6                          //     u8 i, j;
 580   6                          //     u8 temp_buf[30];
 581   6                          //     for(i = 2, j = 0; i < len; i++, j++) {
 582   6                          //         temp_buf[j] = bufin[i];         
 583   6                          //     }
 584   6                          //     temp_buf[j] = 0x00;
 585   6                          //     print_machine_name(temp_buf);
 586   6                          // }
 587   6                         
 588   6                                              UART_INIT
 589   6                                              break;
 590   6                                      }
 591   5                                      
 592   5                                      default: 
 593   5                                              break;
 594   5                              }
 595   4                              
 596   4                              
 597   4                              EA = 1;                
 598   4                  }
 599   3                 
 600   3                  
 601   3              }        
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 11  

 602   2      
 603   2          }
 604   1          
 605   1      
 606   1      
 607   1         
 608   1      }
*** WARNING C280 IN LINE 239 OF source\main.c: 'tp_state': unreferenced local variable
*** WARNING C280 IN LINE 452 OF source\main.c: 'buf_idx': unreferenced local variable
*** WARNING C290 IN LINE 196 OF source\main.c: missing return value
*** WARNING C294 IN LINE 433 OF source\main.c: unreachable code
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 12  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION io_init (BEGIN)
                                           ; SOURCE LINE # 54
                                           ; SOURCE LINE # 55
                                           ; SOURCE LINE # 56
0000 75F901            MOV     PORTDRV,#01H
                                           ; SOURCE LINE # 65
0003 75BCFD            MOV     P1MDOUT,#0FDH
                                           ; SOURCE LINE # 66
0006 7590FD            MOV     P1,#0FDH
                                           ; SOURCE LINE # 67
0009 22                RET     
             ; FUNCTION io_init (END)

             ; FUNCTION nothing (BEGIN)
                                           ; SOURCE LINE # 80
                                           ; SOURCE LINE # 81
                                           ; SOURCE LINE # 84
0000 22                RET     
             ; FUNCTION nothing (END)

             ; FUNCTION _draw_rectangle (BEGIN)
                                           ; SOURCE LINE # 86
0000 900000      R     MOV     DPTR,#x
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
;---- Variable 'y' assigned to Register 'R4/R5' ----
                                           ; SOURCE LINE # 87
                                           ; SOURCE LINE # 89
0008 A3                INC     DPTR
0009 E4                CLR     A
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C 7403              MOV     A,#03H
000E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 90
000F A3                INC     DPTR
0010 E4                CLR     A
0011 F0                MOVX    @DPTR,A
0012 A3                INC     DPTR
0013 7403              MOV     A,#03H
0015 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 91
0016 E4                CLR     A
0017 A3                INC     DPTR
0018 F0                MOVX    @DPTR,A
0019 A3                INC     DPTR
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 92
001B A3                INC     DPTR
001C EC                MOV     A,R4
001D F0                MOVX    @DPTR,A
001E A3                INC     DPTR
001F ED                MOV     A,R5
0020 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 93
0021 A3                INC     DPTR
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 13  

0022 7403              MOV     A,#03H
0024 F0                MOVX    @DPTR,A
0025 A3                INC     DPTR
0026 74FF              MOV     A,#0FFH
0028 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 94
0029 ED                MOV     A,R5
002A 2464              ADD     A,#064H
002C FE                MOV     R6,A
002D E4                CLR     A
002E 3C                ADDC    A,R4
002F A3                INC     DPTR
0030 F0                MOVX    @DPTR,A
0031 A3                INC     DPTR
0032 CE                XCH     A,R6
0033 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 95
0034 74FF              MOV     A,#0FFH
0036 A3                INC     DPTR
0037 F0                MOVX    @DPTR,A
0038 A3                INC     DPTR
0039 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 96
003A A3                INC     DPTR
003B E4                CLR     A
003C F0                MOVX    @DPTR,A
003D A3                INC     DPTR
003E 04                INC     A
003F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 97
0040 2D                ADD     A,R5
0041 FE                MOV     R6,A
0042 E4                CLR     A
0043 3C                ADDC    A,R4
0044 A3                INC     DPTR
0045 F0                MOVX    @DPTR,A
0046 A3                INC     DPTR
0047 CE                XCH     A,R6
0048 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 98
0049 A3                INC     DPTR
004A 7403              MOV     A,#03H
004C F0                MOVX    @DPTR,A
004D A3                INC     DPTR
004E 74FE              MOV     A,#0FEH
0050 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 99
0051 ED                MOV     A,R5
0052 2463              ADD     A,#063H
0054 FE                MOV     R6,A
0055 E4                CLR     A
0056 3C                ADDC    A,R4
0057 A3                INC     DPTR
0058 F0                MOVX    @DPTR,A
0059 A3                INC     DPTR
005A CE                XCH     A,R6
005B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 100
005C 74FF              MOV     A,#0FFH
005E A3                INC     DPTR
005F F0                MOVX    @DPTR,A
0060 A3                INC     DPTR
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 14  

0061 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 101
0062 A3                INC     DPTR
0063 E4                CLR     A
0064 F0                MOVX    @DPTR,A
0065 A3                INC     DPTR
0066 7402              MOV     A,#02H
0068 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 102
0069 2D                ADD     A,R5
006A FE                MOV     R6,A
006B E4                CLR     A
006C 3C                ADDC    A,R4
006D A3                INC     DPTR
006E F0                MOVX    @DPTR,A
006F A3                INC     DPTR
0070 CE                XCH     A,R6
0071 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 103
0072 A3                INC     DPTR
0073 7403              MOV     A,#03H
0075 F0                MOVX    @DPTR,A
0076 A3                INC     DPTR
0077 74FD              MOV     A,#0FDH
0079 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 104
007A ED                MOV     A,R5
007B 2462              ADD     A,#062H
007D FE                MOV     R6,A
007E E4                CLR     A
007F 3C                ADDC    A,R4
0080 A3                INC     DPTR
0081 F0                MOVX    @DPTR,A
0082 A3                INC     DPTR
0083 CE                XCH     A,R6
0084 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 105
0085 74FF              MOV     A,#0FFH
0087 A3                INC     DPTR
0088 F0                MOVX    @DPTR,A
0089 A3                INC     DPTR
008A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 106
008B A3                INC     DPTR
008C F0                MOVX    @DPTR,A
008D A3                INC     DPTR
008E E4                CLR     A
008F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 108
0090 7B01              MOV     R3,#01H
0092 7A00        R     MOV     R2,#HIGH draw_rect_cmd
0094 7900        R     MOV     R1,#LOW draw_rect_cmd
0096 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0099 F0                MOVX    @DPTR,A
009A A3                INC     DPTR
009B 741E              MOV     A,#01EH
009D F0                MOVX    @DPTR,A
009E 7F00              MOV     R7,#00H
00A0 7E30              MOV     R6,#030H
00A2 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION _draw_rectangle (END)

C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 15  

             ; FUNCTION _draw_string (BEGIN)
                                           ; SOURCE LINE # 111
0000 900000      R     MOV     DPTR,#s
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 112
                                           ; SOURCE LINE # 115
000B 120000      E     LCALL   _strlen
000E EF                MOV     A,R7
000F 04                INC     A
0010 FF                MOV     R7,A
;---- Variable 'len' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 116
;---- Variable 'i' assigned to Register 'R6' ----
0011 E4                CLR     A
0012 FE                MOV     R6,A
0013         ?C0004:
0013 EE                MOV     A,R6
0014 C3                CLR     C
0015 9F                SUBB    A,R7
0016 5028              JNC     ?C0005
                                           ; SOURCE LINE # 117
                                           ; SOURCE LINE # 118
0018 900000      R     MOV     DPTR,#s
001B E0                MOVX    A,@DPTR
001C FB                MOV     R3,A
001D A3                INC     DPTR
001E E0                MOVX    A,@DPTR
001F FA                MOV     R2,A
0020 A3                INC     DPTR
0021 E0                MOVX    A,@DPTR
0022 F9                MOV     R1,A
0023 8E82              MOV     DPL,R6
0025 758300            MOV     DPH,#00H
0028 120000      E     LCALL   ?C?CLDOPTR
002B FD                MOV     R5,A
002C EE                MOV     A,R6
002D 25E0              ADD     A,ACC
002F 2400        R     ADD     A,#LOW str
0031 F582              MOV     DPL,A
0033 E4                CLR     A
0034 3400        R     ADDC    A,#HIGH str
0036 F583              MOV     DPH,A
0038 E4                CLR     A
0039 F0                MOVX    @DPTR,A
003A A3                INC     DPTR
003B ED                MOV     A,R5
003C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 119
003D 0E                INC     R6
003E 80D3              SJMP    ?C0004
0040         ?C0005:
                                           ; SOURCE LINE # 120
0040 7B01              MOV     R3,#01H
0042 7A00        R     MOV     R2,#HIGH str
0044 7900        R     MOV     R1,#LOW str
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 16  

0046 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0049 E4                CLR     A
004A F0                MOVX    @DPTR,A
004B A3                INC     DPTR
004C EF                MOV     A,R7
004D F0                MOVX    @DPTR,A
004E 7F00              MOV     R7,#00H
0050 7E11              MOV     R6,#011H
0052 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION _draw_string (END)

             ; FUNCTION btn_0 (BEGIN)
                                           ; SOURCE LINE # 124
                                           ; SOURCE LINE # 125
                                           ; SOURCE LINE # 131
0000 900000      R     MOV     DPTR,#rect_y_pos+01H
0003 E0                MOVX    A,@DPTR
0004 249C              ADD     A,#09CH
0006 F0                MOVX    @DPTR,A
0007 900000      R     MOV     DPTR,#rect_y_pos
000A E0                MOVX    A,@DPTR
000B 34FF              ADDC    A,#0FFH
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 132
000E D3                SETB    C
000F A3                INC     DPTR
0010 E0                MOVX    A,@DPTR
0011 9400              SUBB    A,#00H
0013 900000      R     MOV     DPTR,#rect_y_pos
0016 E0                MOVX    A,@DPTR
0017 6480              XRL     A,#080H
0019 9480              SUBB    A,#080H
001B 5007              JNC     ?C0008
                                           ; SOURCE LINE # 133
001D 7402              MOV     A,#02H
001F F0                MOVX    @DPTR,A
0020 A3                INC     DPTR
0021 74BC              MOV     A,#0BCH
0023 F0                MOVX    @DPTR,A
0024         ?C0008:
                                           ; SOURCE LINE # 134
0024 900000      R     MOV     DPTR,#rect_y_pos
0027 E0                MOVX    A,@DPTR
0028 FC                MOV     R4,A
0029 A3                INC     DPTR
002A E0                MOVX    A,@DPTR
002B FD                MOV     R5,A
002C E4                CLR     A
002D FF                MOV     R7,A
002E FE                MOV     R6,A
002F 020000      R     LJMP    _draw_rectangle
             ; FUNCTION btn_0 (END)

             ; FUNCTION btn_1 (BEGIN)
                                           ; SOURCE LINE # 136
                                           ; SOURCE LINE # 137
                                           ; SOURCE LINE # 139
0000 900000      R     MOV     DPTR,#rect_y_pos+01H
0003 E0                MOVX    A,@DPTR
0004 2464              ADD     A,#064H
0006 F0                MOVX    @DPTR,A
0007 900000      R     MOV     DPTR,#rect_y_pos
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 17  

000A E0                MOVX    A,@DPTR
000B 3400              ADDC    A,#00H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 140
000E E0                MOVX    A,@DPTR
000F B4030C            CJNE    A,#03H,?C0010
0012 A3                INC     DPTR
0013 E0                MOVX    A,@DPTR
0014 B42007            CJNE    A,#020H,?C0010
                                           ; SOURCE LINE # 141
0017 E4                CLR     A
0018 900000      R     MOV     DPTR,#rect_y_pos
001B F0                MOVX    @DPTR,A
001C A3                INC     DPTR
001D F0                MOVX    @DPTR,A
001E         ?C0010:
                                           ; SOURCE LINE # 142
001E 900000      R     MOV     DPTR,#rect_y_pos
0021 E0                MOVX    A,@DPTR
0022 FC                MOV     R4,A
0023 A3                INC     DPTR
0024 E0                MOVX    A,@DPTR
0025 FD                MOV     R5,A
0026 E4                CLR     A
0027 FF                MOV     R7,A
0028 FE                MOV     R6,A
0029 120000      R     LCALL   _draw_rectangle
                                           ; SOURCE LINE # 143
002C 7BFF              MOV     R3,#0FFH
002E 7A00        R     MOV     R2,#HIGH ?SC_0
0030 7900        R     MOV     R1,#LOW ?SC_0
0032 020000      R     LJMP    _draw_string
             ; FUNCTION btn_1 (END)

             ; FUNCTION btn_2 (BEGIN)
                                           ; SOURCE LINE # 146
                                           ; SOURCE LINE # 147
                                           ; SOURCE LINE # 148
0000 7BFF              MOV     R3,#0FFH
0002 7A00        R     MOV     R2,#HIGH ?SC_9
0004 7900        R     MOV     R1,#LOW ?SC_9
0006 120000      R     LCALL   _draw_string
                                           ; SOURCE LINE # 149
0009 7BFF              MOV     R3,#0FFH
000B 7A00        R     MOV     R2,#HIGH ?SC_18
000D 7900        R     MOV     R1,#LOW ?SC_18
000F 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0012 E4                CLR     A
0013 F0                MOVX    @DPTR,A
0014 A3                INC     DPTR
0015 7404              MOV     A,#04H
0017 F0                MOVX    @DPTR,A
0018 7F00              MOV     R7,#00H
001A 7E12              MOV     R6,#012H
001C 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION btn_2 (END)

             ; FUNCTION btn_3 (BEGIN)
                                           ; SOURCE LINE # 152
                                           ; SOURCE LINE # 153
                                           ; SOURCE LINE # 156
0000 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 18  

0003 74FF              MOV     A,#0FFH
0005 F0                MOVX    @DPTR,A
0006 A3                INC     DPTR
0007 7400        R     MOV     A,#HIGH ?SC_22
0009 F0                MOVX    @DPTR,A
000A A3                INC     DPTR
000B 7400        R     MOV     A,#LOW ?SC_22
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F 74FF              MOV     A,#0FFH
0011 F0                MOVX    @DPTR,A
0012 A3                INC     DPTR
0013 7400        R     MOV     A,#HIGH ?SC_29
0015 F0                MOVX    @DPTR,A
0016 A3                INC     DPTR
0017 7400        R     MOV     A,#LOW ?SC_29
0019 F0                MOVX    @DPTR,A
001A 900000      R     MOV     DPTR,#n
001D E0                MOVX    A,@DPTR
001E FF                MOV     R7,A
001F A3                INC     DPTR
0020 E0                MOVX    A,@DPTR
0021 900000      E     MOV     DPTR,#?_sprintf?BYTE+09H
0024 CF                XCH     A,R7
0025 F0                MOVX    @DPTR,A
0026 A3                INC     DPTR
0027 EF                MOV     A,R7
0028 F0                MOVX    @DPTR,A
0029 7B01              MOV     R3,#01H
002B 7A00        R     MOV     R2,#HIGH temp
002D 7900        R     MOV     R1,#LOW temp
002F 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 157
0032 900000      R     MOV     DPTR,#n+01H
0035 E0                MOVX    A,@DPTR
0036 04                INC     A
0037 F0                MOVX    @DPTR,A
0038 7006              JNZ     ?C0079
003A 900000      R     MOV     DPTR,#n
003D E0                MOVX    A,@DPTR
003E 04                INC     A
003F F0                MOVX    @DPTR,A
0040         ?C0079:
                                           ; SOURCE LINE # 158
0040 7B01              MOV     R3,#01H
0042 7A00        R     MOV     R2,#HIGH temp
0044 7900        R     MOV     R1,#LOW temp
0046 120000      R     LCALL   _draw_string
                                           ; SOURCE LINE # 159
0049 7BFF              MOV     R3,#0FFH
004B 7A00        R     MOV     R2,#HIGH ?SC_34
004D 7900        R     MOV     R1,#LOW ?SC_34
004F 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0052 E4                CLR     A
0053 F0                MOVX    @DPTR,A
0054 A3                INC     DPTR
0055 7404              MOV     A,#04H
0057 F0                MOVX    @DPTR,A
0058 7F00              MOV     R7,#00H
005A 7E12              MOV     R6,#012H
005C 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION btn_3 (END)
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 19  


             ; FUNCTION btn_4 (BEGIN)
                                           ; SOURCE LINE # 162
                                           ; SOURCE LINE # 163
                                           ; SOURCE LINE # 164
0000 7BFF              MOV     R3,#0FFH
0002 7A00        R     MOV     R2,#HIGH ?SC_38
0004 7900        R     MOV     R1,#LOW ?SC_38
0006 120000      R     LCALL   _draw_string
                                           ; SOURCE LINE # 165
0009 7BFF              MOV     R3,#0FFH
000B 7A00        R     MOV     R2,#HIGH ?SC_47
000D 7900        R     MOV     R1,#LOW ?SC_47
000F 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0012 E4                CLR     A
0013 F0                MOVX    @DPTR,A
0014 A3                INC     DPTR
0015 7404              MOV     A,#04H
0017 F0                MOVX    @DPTR,A
0018 7F00              MOV     R7,#00H
001A 7E12              MOV     R6,#012H
001C 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION btn_4 (END)

             ; FUNCTION btn_5 (BEGIN)
                                           ; SOURCE LINE # 167
                                           ; SOURCE LINE # 168
                                           ; SOURCE LINE # 169
0000 7BFF              MOV     R3,#0FFH
0002 7A00        R     MOV     R2,#HIGH ?SC_51
0004 7900        R     MOV     R1,#LOW ?SC_51
0006 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0009 E4                CLR     A
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C 7404              MOV     A,#04H
000E F0                MOVX    @DPTR,A
000F 7F00              MOV     R7,#00H
0011 7E12              MOV     R6,#012H
0013 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION btn_5 (END)

             ; FUNCTION _print_utf_str (BEGIN)
                                           ; SOURCE LINE # 183
0000 900000      R     MOV     DPTR,#vp
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 EB                MOV     A,R3
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EA                MOV     A,R2
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F E9                MOV     A,R1
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 184
                                           ; SOURCE LINE # 189
0011 120000      E     LCALL   _strlen
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 20  

0014 EF                MOV     A,R7
0015 04                INC     A
0016 FF                MOV     R7,A
;---- Variable 'len' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 191
;---- Variable 'i' assigned to Register 'R6' ----
0017 E4                CLR     A
0018 FE                MOV     R6,A
0019         ?C0016:
0019 EE                MOV     A,R6
001A C3                CLR     C
001B 9F                SUBB    A,R7
001C 5028              JNC     ?C0017
                                           ; SOURCE LINE # 192
001E 900000      R     MOV     DPTR,#str
0021 E0                MOVX    A,@DPTR
0022 FB                MOV     R3,A
0023 A3                INC     DPTR
0024 E0                MOVX    A,@DPTR
0025 FA                MOV     R2,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 F9                MOV     R1,A
0029 8E82              MOV     DPL,R6
002B 758300            MOV     DPH,#00H
002E 120000      E     LCALL   ?C?CLDOPTR
0031 FD                MOV     R5,A
0032 EE                MOV     A,R6
0033 25E0              ADD     A,ACC
0035 2400        R     ADD     A,#LOW out_str
0037 F582              MOV     DPL,A
0039 E4                CLR     A
003A 3400        R     ADDC    A,#HIGH out_str
003C F583              MOV     DPH,A
003E E4                CLR     A
003F F0                MOVX    @DPTR,A
0040 A3                INC     DPTR
0041 ED                MOV     A,R5
0042 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 193
0043 0E                INC     R6
0044 80D3              SJMP    ?C0016
0046         ?C0017:
                                           ; SOURCE LINE # 195
0046 900000      R     MOV     DPTR,#vp
0049 E0                MOVX    A,@DPTR
004A FE                MOV     R6,A
004B A3                INC     DPTR
004C E0                MOVX    A,@DPTR
004D FF                MOV     R7,A
004E 7B01              MOV     R3,#01H
0050 7A00        R     MOV     R2,#HIGH out_str
0052 7900        R     MOV     R1,#LOW out_str
0054 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0057 E4                CLR     A
0058 F0                MOVX    @DPTR,A
0059 A3                INC     DPTR
005A 743C              MOV     A,#03CH
005C F0                MOVX    @DPTR,A
005D 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION _print_utf_str (END)

C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 21  

             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 209
                                           ; SOURCE LINE # 210
                                           ; SOURCE LINE # 211
0000 120000      E     LCALL   INIT_CPU
                                           ; SOURCE LINE # 212
0003 120000      E     LCALL   T0_Init
                                           ; SOURCE LINE # 213
0006 D2AF              SETB    EA
                                           ; SOURCE LINE # 218
0008 120000      R     LCALL   io_init
                                           ; SOURCE LINE # 220
000B 120000      E     LCALL   ssd2828_init
                                           ; SOURCE LINE # 222
000E 900000      E     MOV     DPTR,#?_UartInit?BYTE+01H
0011 120000      E     LCALL   ?C?LSTKXDATA
0014 00                DB      00H
0015 01                DB      01H
0016 C2                DB      0C2H
0017 00                DB      00H
0018 7F03              MOV     R7,#03H
001A 120000      E     LCALL   _UartInit
                                           ; SOURCE LINE # 223
001D E4                CLR     A
001E 900000      R     MOV     DPTR,#inbufind
0021 F0                MOVX    @DPTR,A
0022 900000      R     MOV     DPTR,#state
0025 F0                MOVX    @DPTR,A
0026 900000      R     MOV     DPTR,#endfl
0029 F0                MOVX    @DPTR,A
002A 900000      R     MOV     DPTR,#begfl
002D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 225
002E 120000      E     LCALL   draw_bottom_menu
                                           ; SOURCE LINE # 227
                                           ; SOURCE LINE # 228
0031         ?C0022:
                                           ; SOURCE LINE # 248
                                           ; SOURCE LINE # 249
                                           ; SOURCE LINE # 250
0031 7B01              MOV     R3,#01H
0033 7A00        R     MOV     R2,#HIGH touch_data
0035 7900        R     MOV     R1,#LOW touch_data
0037 900000      E     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
003A E4                CLR     A
003B F0                MOVX    @DPTR,A
003C A3                INC     DPTR
003D 7403              MOV     A,#03H
003F F0                MOVX    @DPTR,A
0040 7F16              MOV     R7,#016H
0042 7E00              MOV     R6,#00H
0044 120000      E     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 252
0047 900000      R     MOV     DPTR,#touch_data
004A E0                MOVX    A,@DPTR
004B B45AE3            CJNE    A,#05AH,?C0022
                                           ; SOURCE LINE # 253
                                           ; SOURCE LINE # 254
004E E4                CLR     A
004F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 255
0050 7B01              MOV     R3,#01H
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 22  

0052 7A00        R     MOV     R2,#HIGH touch_data+02H
0054 7900        R     MOV     R1,#LOW touch_data+02H
0056 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
0059 F0                MOVX    @DPTR,A
005A A3                INC     DPTR
005B 04                INC     A
005C F0                MOVX    @DPTR,A
005D 7F16              MOV     R7,#016H
005F 7E00              MOV     R6,#00H
0061 120000      E     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 257
                                           ; SOURCE LINE # 258
0064 900000      R     MOV     DPTR,#touch_data+01H
0067 E0                MOVX    A,@DPTR
0068 FF                MOV     R7,A
0069 900000      R     MOV     DPTR,#action
006C E4                CLR     A
006D F0                MOVX    @DPTR,A
006E A3                INC     DPTR
006F EF                MOV     A,R7
0070 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 259
0071 7B01              MOV     R3,#01H
0073 7A00        R     MOV     R2,#HIGH action
0075 7900        R     MOV     R1,#LOW action
0077 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
007A E4                CLR     A
007B F0                MOVX    @DPTR,A
007C A3                INC     DPTR
007D 04                INC     A
007E F0                MOVX    @DPTR,A
007F 7F00              MOV     R7,#00H
0081 7E40              MOV     R6,#040H
0083 120000      E     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 260
0086 7B01              MOV     R3,#01H
0088 7A00        R     MOV     R2,#HIGH touch_data+02H
008A 7900        R     MOV     R1,#LOW touch_data+02H
008C 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
008F E4                CLR     A
0090 F0                MOVX    @DPTR,A
0091 A3                INC     DPTR
0092 7402              MOV     A,#02H
0094 F0                MOVX    @DPTR,A
0095 7F00              MOV     R7,#00H
0097 7E52              MOV     R6,#052H
0099 120000      E     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 261
                                           ; SOURCE LINE # 263
009C 900000      R     MOV     DPTR,#touch_data+01H
009F E0                MOVX    A,@DPTR
00A0 14                DEC     A
00A1 708E              JNZ     ?C0022
                                           ; SOURCE LINE # 264
                                           ; SOURCE LINE # 265
00A3         ?C0026:
                                           ; SOURCE LINE # 266
                                           ; SOURCE LINE # 268
00A3 E4                CLR     A
00A4 900000      E     MOV     DPTR,#last_selected_menu_item
00A7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 269
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 23  

00A8 900000      R     MOV     DPTR,#i
00AB F0                MOVX    @DPTR,A
00AC         ?C0027:
00AC 900000      E     MOV     DPTR,#cur_menu
00AF E0                MOVX    A,@DPTR
00B0 FB                MOV     R3,A
00B1 A3                INC     DPTR
00B2 E0                MOVX    A,@DPTR
00B3 FA                MOV     R2,A
00B4 A3                INC     DPTR
00B5 E0                MOVX    A,@DPTR
00B6 F9                MOV     R1,A
00B7 120000      E     LCALL   ?C?CLDPTR
00BA FF                MOV     R7,A
00BB 900000      R     MOV     DPTR,#i
00BE E0                MOVX    A,@DPTR
00BF FE                MOV     R6,A
00C0 C3                CLR     C
00C1 9F                SUBB    A,R7
00C2 4003              JC      $ + 5H
00C4 020000      R     LJMP    ?C0028
                                           ; SOURCE LINE # 271
00C7 900001            MOV     DPTR,#01H
00CA 120000      E     LCALL   ?C?ILDOPTR
00CD FD                MOV     R5,A
00CE ACF0              MOV     R4,B
00D0 A806              MOV     R0,AR6
00D2 7401              MOV     A,#01H
00D4 7E00              MOV     R6,#00H
00D6 08                INC     R0
00D7 8005              SJMP    ?C0081
00D9         ?C0080:
00D9 C3                CLR     C
00DA 33                RLC     A
00DB CE                XCH     A,R6
00DC 33                RLC     A
00DD CE                XCH     A,R6
00DE         ?C0081:
00DE D8F9              DJNZ    R0,?C0080
00E0 FF                MOV     R7,A
00E1 EE                MOV     A,R6
00E2 5C                ANL     A,R4
00E3 FE                MOV     R6,A
00E4 EF                MOV     A,R7
00E5 5D                ANL     A,R5
00E6 4E                ORL     A,R6
00E7 7003              JNZ     $ + 5H
00E9 020000      R     LJMP    ?C0029
                                           ; SOURCE LINE # 272
00EC 900003            MOV     DPTR,#03H
00EF 120000      E     LCALL   ?C?PLDOPTR
00F2 900000      R     MOV     DPTR,#i
00F5 E0                MOVX    A,@DPTR
00F6 75F009            MOV     B,#09H
00F9 A4                MUL     AB
00FA 29                ADD     A,R1
00FB F9                MOV     R1,A
00FC EA                MOV     A,R2
00FD 35F0              ADDC    A,B
00FF FA                MOV     R2,A
0100 900001            MOV     DPTR,#01H
0103 120000      E     LCALL   ?C?ILDOPTR
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 24  

0106 FF                MOV     R7,A
0107 C3                CLR     C
0108 900000      R     MOV     DPTR,#touch_data+03H
010B E0                MOVX    A,@DPTR
010C 9F                SUBB    A,R7
010D 900000      R     MOV     DPTR,#touch_data+02H
0110 E0                MOVX    A,@DPTR
0111 95F0              SUBB    A,B
0113 406A              JC      ?C0031
0115 900005            MOV     DPTR,#05H
0118 120000      E     LCALL   ?C?ILDOPTR
011B FF                MOV     R7,A
011C D3                SETB    C
011D 900000      R     MOV     DPTR,#touch_data+03H
0120 E0                MOVX    A,@DPTR
0121 9F                SUBB    A,R7
0122 900000      R     MOV     DPTR,#touch_data+02H
0125 E0                MOVX    A,@DPTR
0126 95F0              SUBB    A,B
0128 5055              JNC     ?C0031
012A 900003            MOV     DPTR,#03H
012D 120000      E     LCALL   ?C?ILDOPTR
0130 FF                MOV     R7,A
0131 C3                CLR     C
0132 900000      R     MOV     DPTR,#touch_data+05H
0135 E0                MOVX    A,@DPTR
0136 9F                SUBB    A,R7
0137 900000      R     MOV     DPTR,#touch_data+04H
013A E0                MOVX    A,@DPTR
013B 95F0              SUBB    A,B
013D 4040              JC      ?C0031
013F 900007            MOV     DPTR,#07H
0142 120000      E     LCALL   ?C?ILDOPTR
0145 FF                MOV     R7,A
0146 D3                SETB    C
0147 900000      R     MOV     DPTR,#touch_data+05H
014A E0                MOVX    A,@DPTR
014B 9F                SUBB    A,R7
014C 900000      R     MOV     DPTR,#touch_data+04H
014F E0                MOVX    A,@DPTR
0150 95F0              SUBB    A,B
0152 502B              JNC     ?C0031
                                           ; SOURCE LINE # 273
                                           ; SOURCE LINE # 275
0154 900000      R     MOV     DPTR,#i
0157 E0                MOVX    A,@DPTR
0158 FF                MOV     R7,A
0159 900000      E     MOV     DPTR,#cur_menu
015C E0                MOVX    A,@DPTR
015D FB                MOV     R3,A
015E A3                INC     DPTR
015F E0                MOVX    A,@DPTR
0160 FA                MOV     R2,A
0161 A3                INC     DPTR
0162 E0                MOVX    A,@DPTR
0163 F9                MOV     R1,A
0164 900006            MOV     DPTR,#06H
0167 120000      E     LCALL   ?C?ILDOPTR
016A FD                MOV     R5,A
016B ACF0              MOV     R4,B
016D F582              MOV     DPL,A
016F 85F083            MOV     DPH,B
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 25  

0172 120000      E     LCALL   ?C?ICALL2
                                           ; SOURCE LINE # 276
0175 900000      E     MOV     DPTR,#last_selected_menu_item
0178 E0                MOVX    A,@DPTR
0179 900000      E     MOV     DPTR,#prev_menu_item
017C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 277
017D 800F              SJMP    ?C0028
                                           ; SOURCE LINE # 278
017F         ?C0031:
                                           ; SOURCE LINE # 279
017F 900000      E     MOV     DPTR,#last_selected_menu_item
0182 E0                MOVX    A,@DPTR
0183 04                INC     A
0184 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 280
                                           ; SOURCE LINE # 282
0185         ?C0029:
0185 900000      R     MOV     DPTR,#i
0188 E0                MOVX    A,@DPTR
0189 04                INC     A
018A F0                MOVX    @DPTR,A
018B 020000      R     LJMP    ?C0027
018E         ?C0028:
                                           ; SOURCE LINE # 285
                                           ; SOURCE LINE # 286
018E 900000      E     MOV     DPTR,#last_selected_menu_item
0191 E0                MOVX    A,@DPTR
0192 FF                MOV     R7,A
0193 900000      R     MOV     DPTR,#dummy
0196 E4                CLR     A
0197 F0                MOVX    @DPTR,A
0198 A3                INC     DPTR
0199 EF                MOV     A,R7
019A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 287
019B 7B01              MOV     R3,#01H
019D 7A00        R     MOV     R2,#HIGH dummy
019F 7900        R     MOV     R1,#LOW dummy
01A1 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
01A4 E4                CLR     A
01A5 F0                MOVX    @DPTR,A
01A6 A3                INC     DPTR
01A7 04                INC     A
01A8 F0                MOVX    @DPTR,A
01A9 7F00              MOV     R7,#00H
01AB 7E25              MOV     R6,#025H
01AD 120000      E     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 288
                                           ; SOURCE LINE # 290
01B0 020000      R     LJMP    ?C0022
             ; FUNCTION main (END)

C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 26  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


INIT_CPU . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
QUENE. . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  11
  pQuene . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0000H  3
  QueneHead. . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  QueneTail. . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  3
  QueneSize. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
EIID_AC. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
CANBUSUNIT . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  6661
  BusRXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  3328
  BusTXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0D00H  3328
  CanRxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A00H  1
  CanRxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A01H  1
  CanTxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A02H  1
  CanTxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A03H  1
  CanTxFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A04H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
EIID_D_10. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
begfl. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0004H  1
EIID_H2O_OFF . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_D_20. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_2T. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
counter. . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0005H  1
EIID_D_40. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_4T. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_PULSE_ON. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
EIID_D_16. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Uart_Struct. . . . . . . . . . . . . .  EXTERN   XDATA  ARRAY    -----  -----
EIID_HF. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_sprintf . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
endfl. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0006H  1
menu_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  size . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  active . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  items. . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  func . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  2
_write_dgus_vp . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
P1MDOUT. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BCH  1
my_text. . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0007H  100
last_selected_menu_item. . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
CANBUS8283 . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  260
  Busbuf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  256
  Can8283RxHead. . . . . . . . . . . .  MEMBER   -----  U_INT    0100H  2
  Can8283RxTail. . . . . . . . . . . .  MEMBER   -----  U_INT    0102H  2
CANUNIT. . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  13
  status . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  candata. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0005H  8
bufin. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    006BH  255
_strlen. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
_print_utf_str . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  vp . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  str. . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0002H  3
  out_str. . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0005H  60
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
  len. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 27  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


menu_item_t. . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  ico. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  r. . . . . . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0001H  8
temp_offset. . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   016AH  1
state. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   016BH  1
EIID_NO_ICON . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  action . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0006H  2
  dummy. . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0007H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0006H  1
  ETPS_WAIT. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETPS_RELEASE . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETPS_FIRST_PRESS . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETPS_LIFT. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETPS_PRESSING. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETP_STATE. . . . . . . . . . . . . .  * TAG *  -----  ENUM     -----  -----
  tp_state . . . . . . . . . . . . . .  STATIC   XDATA  U_CHAR   0002H  1
  touch_data . . . . . . . . . . . . .  AUTO     XDATA  STRUCT   0000H  6
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
  crc. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0002H  1
  temp_buf . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0003H  60
  byte . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
  buf_idx. . . . . . . . . . . . . . .  STATIC   XDATA  U_CHAR   0003H  1
dbg_string . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    016CH  50
EIID_DC_PLUS . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_4T_PLUS . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
MSPIFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
_mSPIFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
s8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
_draw_string . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  s. . . . . . . . . . . . . . . . . .  AUTO     XDATA  PTR      0000H  3
  str. . . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0003H  100
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0006H  1
  len. . . . . . . . . . . . . . . . .  * REG *  DATA   U_CHAR   0007H  1
EIID_RECT. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_LIFT. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
u8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
MNORFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 28  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


_mNORFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
text_field . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  9
  vp . . . . . . . . . . . . . . . . .  MEMBER   -----  VOID_PTR 0000H  3
  x. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0003H  2
  y. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  color. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
_candataunitbuf. . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  6661
  BusRXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  3328
  BusTXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0D00H  3328
  CanRxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A00H  1
  CanRxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A01H  1
  CanTxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A02H  1
  CanTxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A03H  1
  CanTxFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A04H  1
EIID_TRIG. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
PORTDRV. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F9H  1
EIID_TRAP. . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_UartInit. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
list_par_t . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  32
  name . . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  30
  val. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    001EH  2
ssd2828_init . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
rect_y_pos . . . . . . . . . . . . . .  PUBLIC   XDATA  INT      019EH  2
len. . . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   01A0H  1
DATABUFF . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  2057
  tx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  1024
  rx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0400H  1024
  tx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0800H  2
  tx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0802H  2
  rx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0804H  2
  rx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0806H  2
  tx_flag. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0808H  1
draw_bottom_menu . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
databuff . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  2057
  tx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  1024
  rx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0400H  1024
  tx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0800H  2
  tx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0802H  2
  rx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0804H  2
  rx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0806H  2
  tx_flag. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0808H  1
EIID_H2O_ON. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIID_PULSE_OFF . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
idx. . . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   01A1H  1
key_code . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_INT    01A2H  2
_draw_rectangle. . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  x. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0000H  2
  y. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0004H  2
  draw_rect_cmd. . . . . . . . . . . .  AUTO     XDATA  ARRAY    0002H  60
MMUSIC . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 29  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_mMUSIC. . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
btn_func . . . . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    003CH  48
inbufind . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   01A4H  1
btn_0. . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
btn_1. . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
btn_2. . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_quene8283 . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  11
  pQuene . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0000H  3
  QueneHead. . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  QueneTail. . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  3
  QueneSize. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
btn_3. . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  n. . . . . . . . . . . . . . . . . .  STATIC   XDATA  U_INT    0000H  2
  temp . . . . . . . . . . . . . . . .  AUTO     XDATA  ARRAY    0000H  50
EIID_MMA . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
s32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
btn_4. . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
icon_id. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
btn_5. . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
u32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
s16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
u16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
EIID_TIG . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
cur_menu . . . . . . . . . . . . . . .  EXTERN   XDATA  PTR      -----  3
EIID_SIN . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
prev_menu_item . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
_can8283 . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  260
  Busbuf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  256
  Can8283RxHead. . . . . . . . . . . .  MEMBER   -----  U_INT    0100H  2
  Can8283RxTail. . . . . . . . . . . .  MEMBER   -----  U_INT    0102H  2
EIID_MIX . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
KEY_CODE_VP. . . . . . . . . . . . . .  PUBLIC   XDATA  U_INT    01A5H  2
some_rus_string. . . . . . . . . . . .  PUBLIC   DATA   ARRAY    0000H  54
io_init. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
EIID_DC_MINUS. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_candataunit . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  13
  status . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  candata. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0005H  8
text1. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  STRUCT   01A7H  9
trect_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  x0 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  y0 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  x1 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  y1 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
string_offsets . . . . . . . . . . . .  PUBLIC   CODE   ARRAY    006CH  16
T0_Init. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
nothing. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_read_dgus_vp. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----


C51 COMPILER V9.53.0.0   MAIN                                                              11/02/2023 12:10:40 PAGE 30  

MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1074    ----
   CONSTANT SIZE    =    124    ----
   XDATA SIZE       =    432     343
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     54    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  6 WARNING(S),  0 ERROR(S)
