C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\DWIN\Keil_v5\C51\BIN\C51.EXE source\main.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\driver;.\sour
                    -ce) DEBUG OBJECTEXTEND CODE SYMBOLS PRINT(.\Listings\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          #include "timer.h"
   2          #include "ui.h"
   3          #include "uart.h"
   4          #include "dwin8283.h"
   5          #include "canbus.h"
   6          #include "ssd2828.h"
*** WARNING C235 IN LINE 76 OF source\ssd2828.h: parameter 1: different types
   7          #include <string.h> 
   8          #include <stdio.h>
   9          
  10          
  11          #include "temp.h"
  12          #include "encoder.h"
  13          
  14          #define UART_INIT       {state = inbufind=0;  begfl=endfl=0;} 
  15          #define UART_INIT_1 {state=1; inbufind=0; begfl=endfl=0;}
  16          
  17          u8 state, inbufind;
  18          xdata u8 bufin[100];
  19          xdata u8 bufout[100];
  20          u8 uart_len; 
  21          u8 begfl,endfl;
  22          
  23          
  24          
  25          
  26          
  27          
  28          
  29          
  30          
  31          
  32          
  33          
  34          
  35          
  36          //IOÔøΩÔøΩÔøΩ≈≥ÔøΩ ºÔøΩÔøΩ
  37          void io_init()
  38          {
  39   1               PORTDRV = 0x01;//ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩŒ™8mA
  40   1              //P1MDOUT |= 0x02;//ÔøΩÔøΩP1.1ÔøΩÔøΩÔøΩÔøΩŒ™ÔøΩÔøΩÔøΩ,ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩLED1ÔøΩÔøΩ
  41   1              //P1MDOUT &= 0xFE;//ÔøΩÔøΩP1.0ÔøΩÔøΩÔøΩÔøΩŒ™ÔøΩÔøΩÔøΩÔøΩ,ÔøΩÔøΩÔøΩ⁄∂ÔøΩ»°ÔøΩÔøΩÔøΩ≈µƒµÔøΩ∆ΩÔøΩ‰ªØ
  42   1              //sbit csx = P1^0;              //p1.0
  43   1              //sbit sdo = P1^1;              //p1.1
  44   1              //sbit sdi = P1^2;              //p1.2
  45   1              //sbit sck = P1^3;              //p1.3
  46   1              //sbit sdc = P1^4;              //p1.4
  47   1              
  48   1              P1MDOUT = 0xFD; 
  49   1              P1=0xFD;        
  50   1      }
  51          
  52           
  53          
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 2   

  54          
  55          
  56          
  57          
  58          
  59          
  60          u8 val; 
  61          
  62          static u8 encoder_state_adsfl;
  63          
  64          void ext_int0() interrupt 0
  65          { //p3.0
  66   1          do {
  67   2              delay_us(600);
  68   2          } while((P3 & (1 << 0)) == 0);
  69   1          do {
  70   2              delay_us(600);
  71   2          } while((P3 & (1 << 0)) == 0);
  72   1          do {
  73   2              delay_us(300);
  74   2          } while((P3 & (1 << 0)) == 0);
  75   1          
  76   1          if((P3 & (1 << 1)) == 0) {
  77   2              if(encoder_ticks > 80)
  78   2                  encoder_state_adsfl = ENC_L1;
  79   2                 // Process_Encoder(ENC_L1);
  80   2              else
  81   2                  encoder_state_adsfl = ENC_L0;
  82   2                  //Process_Encoder(ENC_L0);
  83   2              encoder_ticks = 100;
  84   2          }
  85   1          delay_ms(1);
  86   1         
  87   1          
  88   1          IE0 = 0;
  89   1          IE1 = 0;
  90   1      }
  91          
  92          
  93          void ext_int1() interrupt 2
  94          {//p3.1
  95   1         
  96   1          do {
  97   2              delay_us(600);
  98   2          } while((P3 & (1 << 1)) == 0);
  99   1          do {
 100   2              delay_us(600);
 101   2          } while((P3 & (1 << 1)) == 0);
 102   1          do {
 103   2              delay_us(300);
 104   2          } while((P3 & (1 << 1)) == 0);
 105   1          
 106   1          if((P3 & (1 << 0)) == 0) {
 107   2              if(encoder_ticks > 80) 
 108   2                  encoder_state_adsfl = ENC_R1;
 109   2                  //Process_Encoder(ENC_R1);
 110   2             else
 111   2                  encoder_state_adsfl = ENC_R0;
 112   2                  //Process_Encoder(ENC_R0);
 113   2              encoder_ticks = 100;
 114   2          }
 115   1          delay_ms(1);
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 3   

 116   1         
 117   1          
 118   1          IE0 = 0;
 119   1          IE1 = 0;
 120   1      }
 121          
 122          
 123          xdata par_tek[36];
 124          //dbg
 125          #define SETPAR23(aaa)   if(aaa == 23)                                       \
 126                                  {                                                   \
 127                                  par_tek[23]=0;                                          \
 128                                      if(par_tek[18] == 2) par_tek[23] |= 0x0001;             \
 129                                      if(par_tek[20] == 2) par_tek[23] |= 0x0002;             \
 130                                      if(par_tek[17] == 2) par_tek[23] |= 0x0004;             \
 131                                      if(par_tek[35] == 2) par_tek[23] |= 0x0008;             \
 132                                      if(par_tek[19] == 2) par_tek[23] |= 0x0010;             \
 133                                      if(par_tek[16] == 2) par_tek[23] |= 0x0040;             \
 134                                      if(par_tek[28] == 2) par_tek[23] |= 0x0080;             \
 135                                  }  
 136          void udgu_par_init(void)
 137          {
 138   1          par_tek[0]=0x0100;
 139   1          par_tek[1]=53;   // t gaz
 140   1          par_tek[2]=50;   // I begin
 141   1          par_tek[3]=20;   // t begin
 142   1          par_tek[4]=33;   // increase
 143   1          par_tek[5]=100;  // I –±–∞–∑—ã
 144   1          par_tek[6]=2;    // t –±–∞–∑—ã
 145   1          par_tek[7]=150;  // I –∏–º–ø
 146   1          par_tek[8]=3;    // t –∏–º–ø
 147   1          par_tek[9]=100;  // F
 148   1          par_tek[10]=6;   // balans
 149   1          par_tek[11]=11;  // Decrease
 150   1          par_tek[12]=60;  // I end
 151   1          par_tek[13]=11;  // t end
 152   1          par_tek[14]=3;   // t gaz
 153   1          par_tek[15]=55;  // I kz
 154   1          par_tek[16]=1;   // BSN 1-off 2-on
 155   1          par_tek[17]=1;   // 2T-4T
 156   1          par_tek[18]=2;
 157   1          par_tek[19]=1;
 158   1          par_tek[20]=2;
 159   1          par_tek[21]=3;
 160   1          par_tek[22]=1;   // sin
 161   1          par_tek[23]=0;   // flags
 162   1          par_tek[24]=24;
 163   1          par_tek[25]=25;
 164   1          par_tek[26]=26;
 165   1          par_tek[27]=27;
 166   1          par_tek[28]=2;   // Oscill  1-our, 2-China
 167   1          par_tek[29]=29;
 168   1          par_tek[30]=30;
 169   1          par_tek[31]=31;
 170   1          par_tek[32]=32;
 171   1          par_tek[33]=33;
 172   1          par_tek[34]=120; // 4T+ - –≤—Ç–æ—Ä–æ–π —Ç–æ–∫ –±–∞–∑—ã
 173   1          par_tek[35]=1;   // 4T+  1-off, 2-on    
 174   1      }
 175          //dbg
 176          
 177          enum PAR_ID{
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 4   

 178              EPID_MODES_SUBMODES,//0    —Ä–µ–∂–∏–º—ã/–ø–æ–¥—Ä–µ–∂–∏–º—ã
 179              EPID_PRE_FLOW_T1,   //1    –¢1  –≤—Ä–µ–º—è –ø—Ä–µ–¥–≤. –ø—Ä–æ–¥—É–≤–∫–∏, —Å
 180              EPID_START_I1,      //2    I1  –Ω–∞—á–∞–ª—å–Ω—ã–π —Ç–æ–∫, –ê
 181              EPID_START_T2,      //3    T2  –≤—Ä–µ–º—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Ç–æ–∫–∞, c
 182              EPID_UP_T3,         //4    –¢3  –≤—Ä–µ–º—è –Ω–∞—Ä–∞—Å—Ç–∞–Ω–∏—è, —Å
 183              EPID_BASE_I2,       //5    I2  —Å–≤–∞—Ä–æ—á–Ω—ã–π —Ç–æ–∫ (—Ç–æ–∫ –±–∞–∑—ã), –ê
 184              EPID_BASE_T4,       //6    –¢4  –≤—Ä–µ–º—è —Ç–æ–∫–∞ –±–∞–∑—ã, —Å
 185              EPID_IMPULSE_I3,    //7    I3  –∏–º–ø—É–ª—å—Å–Ω—ã–π —Ç–æ–∫, –ê
 186              EPID_IMPULSE_T5,    //8    –¢5  –≤—Ä–µ–º—è —Ç–æ–∫–∞ –∏–º–ø—É–ª—å—Å–∞, —Å
 187              EPID_FREQ_F1,       //9    F1  —á–∞—Å—Ç–æ—Ç–∞, –ì—Ü
 188              EPID_BALANCE_D1,    //10   D1  –±–∞–ª–∞–Ω—Å *
 189              EPID_DOWN_T6,       //11   –¢6  –≤—Ä–µ–º—è —Å–ø–∞–¥–∞, —Å
 190              EPID_END_I4,        //12   I4  —Ç–æ–∫ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–≤–∞—Ä–∫–∏, –ê
 191              EPID_END_T7,        //13   T7  –≤—Ä–µ–º—è –∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ç–æ–∫–∞, —Å
 192              EPID_POST_FLOW_T8,  //14   –¢8  –≤—Ä–µ–º—è –ø—Ä–æ–¥—É–≤–∫–∏ –≤ –∫–æ–Ω—Ü–µ, —Å
 193              EPID_KZ_I5,         //15   I5  —Ç–æ–∫ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∑–∞–º—ã–∫–∞–Ω–∏—è, %
 194              EPID_BSN,           //16   –ë–°–ù - –≤–∫–ª/–≤—ã–∫–ª
 195              EPID_2T_4T,         //17   2t/4t
 196           
 197          
 198              EPID_BASE2_I2X,     //   I2—Ö –≤—Ç–æ—Ä–æ–π —Ç–æ–∫ –±–∞–∑—ã (—Ç–æ–ª—å–∫–æ –≤ 4–¢+), –ê
 199          };
 200          
 201          
 202          
 203          //debug
 204          static data u8  welding_state;
 205          static data u16 amp;
 206          static data u16 volt;
 207          static data u16 time;
 208          static data u16 touch_coord_x;
 209          static data u16 touch_coord_y;
 210          static data u16 touch_state;
 211          static data u16 last_touch_item;
 212          static u16 good_packages_cnt;
 213          static u16 bad_packages_cnt;
 214          void print_debug_info(void)
 215          {
 216   1          static u8 buf[100];
 217   1          code u8 *welding_states_tig[] = {
 218   1              "Preflow", "Nothing", "Ignition", "Begin I", "Increase", "Welding", "Decreaseing",
 219   1              "End I", "Cleaning", "Flow end",
 220   1          };
 221   1      
 222   1          //memset(buf, 0, ARR_SIZE(buf));
 223   1      
 224   1          sprintf(buf, "%s %d %d %d %d\n\r%dA\n\r%.1fV\n\r%.1fs\n\rgood: %d\n\rbad: %d",welding_states_tig[weldi
             -ng_state], touch_coord_x, touch_coord_y, touch_state, last_touch_item, amp, (float)volt / 10.0, (float)time / 10.0, good
             -_packages_cnt, bad_packages_cnt);
 225   1          write_dgus_vp(0x2500, (u8*) &buf, sizeof(buf) / 2);  
 226   1      }
 227          //debug
 228          
 229          
 230          
 231          void process_touch(void)
 232          {
 233   1         enum ETP_STATE 
 234   1         {
 235   1             ETPS_WAIT,
 236   1             ETPS_RELEASE,
 237   1             ETPS_FIRST_PRESS,
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 5   

 238   1             ETPS_LIFT,
 239   1             ETPS_PRESSING,
 240   1         };
 241   1         
 242   1         struct {
 243   1             u8 status;
 244   1             u8 action_type;
 245   1             u16 x;
 246   1             u16 y;
 247   1         } touch_data;
 248   1          
 249   1          read_dgus_vp(0x16,(u8*)&touch_data, sizeof(touch_data) / 2); //info about touch status and coords
 250   1              if(touch_data.status == 0x5A) //if status byte 0x05 some action done
 251   1              {
 252   2                  touch_data.status = 0x00;
 253   2                  write_dgus_vp(0x16, (u8*) &touch_data.x, 1); //clear status byte to 00;
 254   2                 
 255   2                  //debug
 256   2                  touch_coord_x = touch_data.x;
 257   2                  touch_coord_y = touch_data.y;
 258   2                  touch_state   =  touch_data.action_type;
 259   2                  //debug
 260   2                  
 261   2              
 262   2                  switch(touch_data.action_type)
 263   2                  {
 264   3                      case ETPS_RELEASE: {
 265   4                          u8 i;
 266   4                          for(i = 0; i < cur_menu_size; i++) { //if touch coords in recatnle area               
             -         
 267   5                                  if( touch_data.x >= cur_menu[i].r.x0 && touch_data.x <= cur_menu[i].r.x1 &&  
 268   5                                      touch_data.y >= cur_menu[i].r.y0 && touch_data.y <= cur_menu[i].r.y1 ) {
 269   6                                          cur_menu_fanc(i);
 270   6                                          break;  
 271   6                                  }
 272   5                              }
 273   4                              last_touch_item = i; //debug
 274   4                      } break;
 275   3                      case ETPS_FIRST_PRESS: break;
 276   3                      case ETPS_LIFT:        break;
 277   3                      case ETPS_PRESSING:    break;
 278   3                      default: break;
 279   3                  }
 280   2              }
 281   1      }
 282          
 283          
 284          
 285          
 286          
 287          void process_uart(void) 
 288          {
 289   1          //–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ uart
 290   1              if(Uart_Struct[UART5].tx_flag == 0) //–µ—Å–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
 291   1                      {
 292   2                  while(Uart_Struct[UART5].rx_tail != Uart_Struct[UART5].rx_head)
 293   2                              { 
 294   3                      u8 byte = Uart_Struct[UART5].rx_buf[Uart_Struct[UART5].rx_tail];
 295   3                      
 296   3                                      Uart_Struct[UART5].rx_tail++;
 297   3                                      Uart_Struct[UART5].rx_tail &= SERIAL_COUNT;
 298   3                                      
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 6   

 299   3      
 300   3                      switch (state)
 301   3                                      {
 302   4                          case 0: {
 303   5                              if(byte == 0xA5) 
 304   5                                  state=1;
 305   5                          }break;
 306   4                              
 307   4                          case 1: {
 308   5                              if(byte == 0xA5) 
 309   5                                  state=4;
 310   5                              else 
 311   5                                  UART_INIT
 312   5                          }break;
 313   4                              
 314   4                          case 4:
 315   4                              if(byte == 0xA5) 
 316   4                                  begfl = 1;
 317   4                              else if(byte == 0x5A)
 318   4                                  endfl = 1;
 319   4                              uart_len = byte; 
 320   4                              state = 6; 
 321   4                              break;  
 322   4      
 323   4                          case 6:
 324   4                              if(byte == 0xA5)
 325   4                              {
 326   5                                  if (begfl == 1) 
 327   5                                      state = 4;
 328   5                                  else           
 329   5                                      begfl = 1; 
 330   5                              }
 331   4                              else 
 332   4                                  begfl=0;
 333   4      
 334   4                              if(byte == 0x5A)
 335   4                              {
 336   5                                  if(endfl == 1) 
 337   5                                  {
 338   6                                      UART_INIT 
 339   6                                      break;
 340   6                                  } else
 341   5                                      endfl = 1; 
 342   5                              } else 
 343   4                                  endfl = 0;
 344   4      
 345   4                              bufin[inbufind] = byte; 
 346   4                              inbufind++;
 347   4      
 348   4                              if(inbufind == uart_len + 2)
 349   4                              { 
 350   5                                  state = 10;
 351   5                              } 
 352   4                                  
 353   4                              break;
 354   4      
 355   4                          case 10:
 356   4                              if(byte == 0x5A) {
 357   5                                  state = 11; 
 358   5                                  break;
 359   5                              }    
 360   4                              if(byte == 0xA5) {      
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 7   

 361   5                                  UART_INIT_1 
 362   5                                  break;
 363   5                              }
 364   4                              UART_INIT 
 365   4                              break;
 366   4      
 367   4                          case 11:
 368   4                          {
 369   5                              u8 i;
 370   5                              u8 crc = 0;
 371   5                              if(byte != 0x5A)
 372   5                              {
 373   6                                  if(byte == 0xA5) 
 374   6                                      UART_INIT_1 
 375   6                                  else             
 376   6                                      UART_INIT
 377   6                                  break; 
 378   6                              }
 379   5                      
 380   5      
 381   5                              for(i = 1; i <= uart_len; i++) {
 382   6                                  crc += bufin[i];
 383   6                              }
 384   5                              if(crc != bufin[uart_len+1]) { 
 385   6                                  UART_INIT
 386   6                                  bad_packages_cnt++;//dbg
 387   6                                  break; 
 388   6                              }
 389   5      
 390   5                              good_packages_cnt++; //dbg
 391   5                          
 392   5                              { 
 393   6                              switch (bufin[1]) //–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–æ–º–µ—Ä–∞ –∫–æ–º–∞–Ω–¥—ã
 394   6                              {
 395   7                                  case 0x25: {
 396   8                                      u8 ch = bufin[2];
 397   8                                      if(ch > 36) break;
 398   8                                      bufout[0]=bufout[1]=0xA5;                           // BEGIN
 399   8                                      bufout[2]=0x04;                                     // Len
 400   8                                      bufout[3]=0x80+0x25;                                // INF1
 401   8                                      bufout[4]=0x25;                                     // Answer code
 402   8                                      bufout[5]=ch;                                       // Parameter Number
 403   8                                      bufout[6]=(unsigned char)(par_tek[ch] & 0x00FF);     // Parameter
 404   8                                      bufout[7]=(unsigned char)(par_tek[ch] >> 8);
 405   8                                      bufout[8]=bufout[4]+bufout[5]+bufout[6]+bufout[7];  // CRC        
 406   8                                      bufout[9]=bufout[10]=0x5A;
 407   8                                      Uatr_Send_Data(UART5, 11, bufout);                            // END
 408   8                                  } break;
 409   7                                  
 410   7                                  case 0x26: {
 411   8                                      u8 ch=bufin[2];
 412   8                                      u8 ch1;
 413   8                                      u8 ch2;
 414   8                                      if(ch > 36) break;
 415   8                                      bufout[0] = bufout[1] = 0xA5;                           // BEGIN
 416   8                                      bufout[2] = (ch<<1) + 2;                                // Len 
 417   8                                      bufout[3] = 0x80+0x26;                                // INF1
 418   8                                      bufout[4] = 0x26;                                     // Answer code
 419   8                                      bufout[5] = ch;                                       // Parameters Number
 420   8                                      ch2=bufout[4]+bufout[5];                            // CRC  
 421   8                                          for(ch1 = 1; ch1<ch; ch1++) {
 422   9                                              SETPAR23(ch1);
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 8   

 423   9                                              bufout[(unsigned char)((ch1<<1)+4)]=(unsigned char)(par_tek[ch1] &
             - 0x00FF);     // Parameter
 424   9                                              bufout[(unsigned char)((ch1<<1)+5)]=(unsigned char)(par_tek[ch1] >
             -> 8); 
 425   9                                              ch2=ch2+bufout[(unsigned char)((ch1<<1)+4)]+bufout[(unsigned char)
             -((ch1<<1)+5)];
 426   9                                          }
 427   8                                      bufout[(unsigned char)((ch1<<1)+6)]=ch2;                             // CR
             -C
 428   8                                      bufout[(unsigned char)((ch1<<1)+7)]=bufout[(unsigned char)((ch1<<1)+8)]=0x
             -5A;         // END
 429   8                                      
 430   8                                      Uatr_Send_Data(UART5, (unsigned char)((ch1<<1)+9), bufout);               
             -             // END
 431   8                                  } break;       
 432   7      
 433   7                                  case 0x33: {
 434   8                                      if(bufin[2] != 88)
 435   8                                          welding_state = bufin[2] - 1;
 436   8                                  } break;
 437   7      
 438   7                                  case 0x3D: {
 439   8                                      u16 value = ((unsigned int)(bufin[4]) << 8) + bufin[3];
 440   8                                      if(bufin[2] == 0x40) { //amp
 441   9                                          amp = value;
 442   9                                      } else if (bufin[2] == 0x41) {//vlots
 443   9                                          volt = value;
 444   9                                      } else if(bufin[2] == 0x42) { //time
 445   9                                          time = value;
 446   9                                      }
 447   8      
 448   8                                  } break;
 449   7      
 450   7                                  default:
 451   7                                      break;
 452   7                              }
 453   6                              }
 454   5                              //////////////////////////////////////////////////////////////////////////////////
             -////////////////
 455   5                              
 456   5                              // for(i = 0; i < buf_idx; i++)
 457   5                              // {  
 458   5                              //     sprintf((u8*) &temp_buf[i], "%02X", (u8)local_buf[i]);                     
             -   
 459   5                              // }
 460   5                              // temp_buf[i] = 0x0000;
 461   5                              // write_dgus_vp(0x2500, (u8*) &temp_buf, 10);
 462   5                              // buf_idx = 0; 
 463   5                              
 464   5                              //write_dgus_vp(0x2500, (u8*) "OK\0\0", 2);
 465   5                              //////////////////////////////////////////////////////////////////////////////////
             -////////////////
 466   5                          
 467   5                              UART_INIT
 468   5                              break;
 469   5                          }
 470   4                          
 471   4                          default: 
 472   4                              break;
 473   4                              }
 474   3                              
 475   3                              
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 9   

 476   3                      
 477   3                  }
 478   2                 
 479   2                  
 480   2              }       
 481   1      }
 482          
 483          
 484          
 485          void main()
 486          {
 487   1              u16 uart_cmd_show_text_sp; //dbg
 488   1          
 489   1          INIT_CPU();            //CPU ÔøΩÔøΩ ºÔøΩÔøΩÔøΩÔøΩ◊¢ÔøΩÔøΩÔøΩ ºÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ–ªÔøΩÔøΩÔøΩÔøΩÔøΩÔø
             -ΩxdataÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ºÔøΩÔøΩÔøΩÔøΩ0ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩƒ±ÔøΩÔøΩÔøΩÔøΩ–≥ÔøΩ º÷µÔøΩÔøΩÔøΩÔøΩ“™ÔøΩ⁄∏√∫ÔøΩÔøΩÔ
             -øΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ¬∏ÔøΩ÷µ
 490   1          T0_Init();                                           //ÔøΩÔøΩ ±ÔøΩÔøΩ0ÔøΩÔøΩ ºÔøΩÔøΩ
 491   1              EA = 0; //interrupt off
 492   1          
 493   1        
 494   1      
 495   1           //int0
 496   1          IP0 &= 0xFE;//Clear bit0
 497   1              IP1 &= 0xFE;//Clear bit0
 498   1          
 499   1              IE0 = 0;//Clear the interrupt flag bit of external interrupt 0
 500   1              
 501   1              IT0 = 1;//1 is set as falling edge trigger, 0 is set as low level trigger
 502   1              EX0 = 1;//Enable external interrupt 0, the corresponding pin is P3.0
 503   1          
 504   1          //int1
 505   1          IE1 = 0;
 506   1          
 507   1          IT1 = 1;
 508   1          EX1 = 1;
 509   1          EA = 1;   
 510   1          
 511   1      
 512   1      
 513   1      
 514   1      
 515   1          //StartTimer(0,100);
 516   1              //StartTimer(1,50);
 517   1              //-------------------
 518   1              io_init();
 519   1      //      delay_ms(20);
 520   1              ssd2828_init();
 521   1      //__________________________________________________________________________________    
 522   1              UartInit(UART5, 115200);
 523   1              UART_INIT //MARCROS
 524   1      //__________________________________________________________________________________              
 525   1          
 526   1          //draw_cyclogramm();
 527   1          
 528   1          make_scene();
 529   1          
 530   1          
 531   1         
 532   1          udgu_par_init();
 533   1          while(1)    
 534   1          {
 535   2              process_uart();
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 10  

 536   2              process_touch();
 537   2      
 538   2      
 539   2              if(!GetTimeOutFlag(1)) {
 540   3                  StartTimer(0,250);
 541   3                 print_debug_info();
 542   3              }
 543   2      
 544   2              EA = 0;
 545   2              if(encoder_state_adsfl) {
 546   3                  Process_Encoder(encoder_state_adsfl);
 547   3                  encoder_state_adsfl = 0;
 548   3              }
 549   2              //Process_Encoder(ENC_R0);
 550   2              EA = 1;
 551   2                  
 552   2          }
 553   1              
 554   1            
 555   1              
 556   1      
 557   1      
 558   1         
 559   1      }
*** WARNING C280 IN LINE 487 OF source\main.c: 'uart_cmd_show_text_sp': unreferenced local variable
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 11  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION io_init (BEGIN)
                                           ; SOURCE LINE # 37
                                           ; SOURCE LINE # 38
                                           ; SOURCE LINE # 39
0000 75F901            MOV     PORTDRV,#01H
                                           ; SOURCE LINE # 48
0003 75BCFD            MOV     P1MDOUT,#0FDH
                                           ; SOURCE LINE # 49
0006 7590FD            MOV     P1,#0FDH
                                           ; SOURCE LINE # 50
0009 22                RET     
             ; FUNCTION io_init (END)

             ; FUNCTION ext_int0 (BEGIN)
0000 C0E0              PUSH    ACC
0002 C0F0              PUSH    B
0004 C083              PUSH    DPH
0006 C082              PUSH    DPL
0008 C0D0              PUSH    PSW
000A 75D000            MOV     PSW,#00H
000D C000              PUSH    AR0
000F C001              PUSH    AR1
0011 C002              PUSH    AR2
0013 C003              PUSH    AR3
0015 C004              PUSH    AR4
0017 C005              PUSH    AR5
0019 C006              PUSH    AR6
001B C007              PUSH    AR7
                                           ; SOURCE LINE # 64
001D         ?C0004:
                                           ; SOURCE LINE # 66
                                           ; SOURCE LINE # 67
001D 7F58              MOV     R7,#058H
001F 7E02              MOV     R6,#02H
0021 120000      E     LCALL   _delay_us
                                           ; SOURCE LINE # 68
0024 E5B0              MOV     A,P3
0026 30E0F4            JNB     ACC.0,?C0004
0029         ?C0007:
                                           ; SOURCE LINE # 69
                                           ; SOURCE LINE # 70
0029 7F58              MOV     R7,#058H
002B 7E02              MOV     R6,#02H
002D 120000      E     LCALL   _delay_us
                                           ; SOURCE LINE # 71
0030 E5B0              MOV     A,P3
0032 30E0F4            JNB     ACC.0,?C0007
0035         ?C0010:
                                           ; SOURCE LINE # 72
                                           ; SOURCE LINE # 73
0035 7F2C              MOV     R7,#02CH
0037 7E01              MOV     R6,#01H
0039 120000      E     LCALL   _delay_us
                                           ; SOURCE LINE # 74
003C E5B0              MOV     A,P3
003E 30E0F4            JNB     ACC.0,?C0010
                                           ; SOURCE LINE # 76
0041 E5B0              MOV     A,P3
0043 20E114            JB      ACC.1,?C0011
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 12  

                                           ; SOURCE LINE # 77
0046 E500        E     MOV     A,encoder_ticks
0048 D3                SETB    C
0049 9450              SUBB    A,#050H
004B 900000      R     MOV     DPTR,#encoder_state_adsfl
004E 4005              JC      ?C0012
                                           ; SOURCE LINE # 78
0050 7401              MOV     A,#01H
0052 F0                MOVX    @DPTR,A
0053 8002              SJMP    ?C0013
0055         ?C0012:
                                           ; SOURCE LINE # 81
0055 E4                CLR     A
0056 F0                MOVX    @DPTR,A
0057         ?C0013:
                                           ; SOURCE LINE # 83
0057 750064      E     MOV     encoder_ticks,#064H
                                           ; SOURCE LINE # 84
005A         ?C0011:
                                           ; SOURCE LINE # 85
005A 7F01              MOV     R7,#01H
005C 7E00              MOV     R6,#00H
005E 120000      E     LCALL   _delay_ms
                                           ; SOURCE LINE # 88
0061 C289              CLR     IE0
                                           ; SOURCE LINE # 89
0063 C28B              CLR     IE1
                                           ; SOURCE LINE # 90
0065 D007              POP     AR7
0067 D006              POP     AR6
0069 D005              POP     AR5
006B D004              POP     AR4
006D D003              POP     AR3
006F D002              POP     AR2
0071 D001              POP     AR1
0073 D000              POP     AR0
0075 D0D0              POP     PSW
0077 D082              POP     DPL
0079 D083              POP     DPH
007B D0F0              POP     B
007D D0E0              POP     ACC
007F 32                RETI    
             ; FUNCTION ext_int0 (END)

             ; FUNCTION ext_int1 (BEGIN)
0000 C0E0              PUSH    ACC
0002 C0F0              PUSH    B
0004 C083              PUSH    DPH
0006 C082              PUSH    DPL
0008 C0D0              PUSH    PSW
000A 75D000            MOV     PSW,#00H
000D C000              PUSH    AR0
000F C001              PUSH    AR1
0011 C002              PUSH    AR2
0013 C003              PUSH    AR3
0015 C004              PUSH    AR4
0017 C005              PUSH    AR5
0019 C006              PUSH    AR6
001B C007              PUSH    AR7
                                           ; SOURCE LINE # 93
001D         ?C0017:
                                           ; SOURCE LINE # 96
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 13  

                                           ; SOURCE LINE # 97
001D 7F58              MOV     R7,#058H
001F 7E02              MOV     R6,#02H
0021 120000      E     LCALL   _delay_us
                                           ; SOURCE LINE # 98
0024 E5B0              MOV     A,P3
0026 30E1F4            JNB     ACC.1,?C0017
0029         ?C0020:
                                           ; SOURCE LINE # 99
                                           ; SOURCE LINE # 100
0029 7F58              MOV     R7,#058H
002B 7E02              MOV     R6,#02H
002D 120000      E     LCALL   _delay_us
                                           ; SOURCE LINE # 101
0030 E5B0              MOV     A,P3
0032 30E1F4            JNB     ACC.1,?C0020
0035         ?C0023:
                                           ; SOURCE LINE # 102
                                           ; SOURCE LINE # 103
0035 7F2C              MOV     R7,#02CH
0037 7E01              MOV     R6,#01H
0039 120000      E     LCALL   _delay_us
                                           ; SOURCE LINE # 104
003C E5B0              MOV     A,P3
003E 30E1F4            JNB     ACC.1,?C0023
                                           ; SOURCE LINE # 106
0041 E5B0              MOV     A,P3
0043 20E015            JB      ACC.0,?C0024
                                           ; SOURCE LINE # 107
0046 E500        E     MOV     A,encoder_ticks
0048 D3                SETB    C
0049 9450              SUBB    A,#050H
004B 900000      R     MOV     DPTR,#encoder_state_adsfl
004E 4005              JC      ?C0025
                                           ; SOURCE LINE # 108
0050 7403              MOV     A,#03H
0052 F0                MOVX    @DPTR,A
0053 8003              SJMP    ?C0026
0055         ?C0025:
                                           ; SOURCE LINE # 111
0055 7402              MOV     A,#02H
0057 F0                MOVX    @DPTR,A
0058         ?C0026:
                                           ; SOURCE LINE # 113
0058 750064      E     MOV     encoder_ticks,#064H
                                           ; SOURCE LINE # 114
005B         ?C0024:
                                           ; SOURCE LINE # 115
005B 7F01              MOV     R7,#01H
005D 7E00              MOV     R6,#00H
005F 120000      E     LCALL   _delay_ms
                                           ; SOURCE LINE # 118
0062 C289              CLR     IE0
                                           ; SOURCE LINE # 119
0064 C28B              CLR     IE1
                                           ; SOURCE LINE # 120
0066 D007              POP     AR7
0068 D006              POP     AR6
006A D005              POP     AR5
006C D004              POP     AR4
006E D003              POP     AR3
0070 D002              POP     AR2
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 14  

0072 D001              POP     AR1
0074 D000              POP     AR0
0076 D0D0              POP     PSW
0078 D082              POP     DPL
007A D083              POP     DPH
007C D0F0              POP     B
007E D0E0              POP     ACC
0080 32                RETI    
             ; FUNCTION ext_int1 (END)

             ; FUNCTION udgu_par_init (BEGIN)
                                           ; SOURCE LINE # 136
                                           ; SOURCE LINE # 137
                                           ; SOURCE LINE # 138
0000 900000      R     MOV     DPTR,#par_tek
0003 7401              MOV     A,#01H
0005 F0                MOVX    @DPTR,A
0006 A3                INC     DPTR
0007 E4                CLR     A
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 139
0009 A3                INC     DPTR
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C 7435              MOV     A,#035H
000E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 140
000F A3                INC     DPTR
0010 E4                CLR     A
0011 F0                MOVX    @DPTR,A
0012 A3                INC     DPTR
0013 7432              MOV     A,#032H
0015 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 141
0016 A3                INC     DPTR
0017 E4                CLR     A
0018 F0                MOVX    @DPTR,A
0019 A3                INC     DPTR
001A 7414              MOV     A,#014H
001C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 142
001D A3                INC     DPTR
001E E4                CLR     A
001F F0                MOVX    @DPTR,A
0020 A3                INC     DPTR
0021 7421              MOV     A,#021H
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 143
0024 A3                INC     DPTR
0025 E4                CLR     A
0026 F0                MOVX    @DPTR,A
0027 A3                INC     DPTR
0028 7464              MOV     A,#064H
002A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 144
002B A3                INC     DPTR
002C E4                CLR     A
002D F0                MOVX    @DPTR,A
002E A3                INC     DPTR
002F 7402              MOV     A,#02H
0031 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 145
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 15  

0032 A3                INC     DPTR
0033 E4                CLR     A
0034 F0                MOVX    @DPTR,A
0035 A3                INC     DPTR
0036 7496              MOV     A,#096H
0038 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 146
0039 A3                INC     DPTR
003A E4                CLR     A
003B F0                MOVX    @DPTR,A
003C A3                INC     DPTR
003D 7403              MOV     A,#03H
003F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 147
0040 A3                INC     DPTR
0041 E4                CLR     A
0042 F0                MOVX    @DPTR,A
0043 A3                INC     DPTR
0044 7464              MOV     A,#064H
0046 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 148
0047 A3                INC     DPTR
0048 E4                CLR     A
0049 F0                MOVX    @DPTR,A
004A A3                INC     DPTR
004B 7406              MOV     A,#06H
004D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 149
004E A3                INC     DPTR
004F E4                CLR     A
0050 F0                MOVX    @DPTR,A
0051 A3                INC     DPTR
0052 740B              MOV     A,#0BH
0054 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 150
0055 A3                INC     DPTR
0056 E4                CLR     A
0057 F0                MOVX    @DPTR,A
0058 A3                INC     DPTR
0059 743C              MOV     A,#03CH
005B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 151
005C A3                INC     DPTR
005D E4                CLR     A
005E F0                MOVX    @DPTR,A
005F A3                INC     DPTR
0060 740B              MOV     A,#0BH
0062 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 152
0063 A3                INC     DPTR
0064 E4                CLR     A
0065 F0                MOVX    @DPTR,A
0066 A3                INC     DPTR
0067 7403              MOV     A,#03H
0069 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 153
006A A3                INC     DPTR
006B E4                CLR     A
006C F0                MOVX    @DPTR,A
006D A3                INC     DPTR
006E 7437              MOV     A,#037H
0070 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 16  

                                           ; SOURCE LINE # 154
0071 A3                INC     DPTR
0072 E4                CLR     A
0073 F0                MOVX    @DPTR,A
0074 A3                INC     DPTR
0075 04                INC     A
0076 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 155
0077 A3                INC     DPTR
0078 E4                CLR     A
0079 F0                MOVX    @DPTR,A
007A A3                INC     DPTR
007B 04                INC     A
007C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 156
007D A3                INC     DPTR
007E E4                CLR     A
007F F0                MOVX    @DPTR,A
0080 A3                INC     DPTR
0081 7402              MOV     A,#02H
0083 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 157
0084 A3                INC     DPTR
0085 E4                CLR     A
0086 F0                MOVX    @DPTR,A
0087 A3                INC     DPTR
0088 04                INC     A
0089 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 158
008A A3                INC     DPTR
008B E4                CLR     A
008C F0                MOVX    @DPTR,A
008D A3                INC     DPTR
008E 7402              MOV     A,#02H
0090 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 159
0091 A3                INC     DPTR
0092 E4                CLR     A
0093 F0                MOVX    @DPTR,A
0094 A3                INC     DPTR
0095 7403              MOV     A,#03H
0097 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 160
0098 A3                INC     DPTR
0099 E4                CLR     A
009A F0                MOVX    @DPTR,A
009B A3                INC     DPTR
009C 04                INC     A
009D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 161
009E E4                CLR     A
009F A3                INC     DPTR
00A0 F0                MOVX    @DPTR,A
00A1 A3                INC     DPTR
00A2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 162
00A3 A3                INC     DPTR
00A4 F0                MOVX    @DPTR,A
00A5 A3                INC     DPTR
00A6 7418              MOV     A,#018H
00A8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 163
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 17  

00A9 A3                INC     DPTR
00AA E4                CLR     A
00AB F0                MOVX    @DPTR,A
00AC A3                INC     DPTR
00AD 7419              MOV     A,#019H
00AF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 164
00B0 A3                INC     DPTR
00B1 E4                CLR     A
00B2 F0                MOVX    @DPTR,A
00B3 A3                INC     DPTR
00B4 741A              MOV     A,#01AH
00B6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 165
00B7 A3                INC     DPTR
00B8 E4                CLR     A
00B9 F0                MOVX    @DPTR,A
00BA A3                INC     DPTR
00BB 741B              MOV     A,#01BH
00BD F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 166
00BE A3                INC     DPTR
00BF E4                CLR     A
00C0 F0                MOVX    @DPTR,A
00C1 A3                INC     DPTR
00C2 7402              MOV     A,#02H
00C4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 167
00C5 A3                INC     DPTR
00C6 E4                CLR     A
00C7 F0                MOVX    @DPTR,A
00C8 A3                INC     DPTR
00C9 741D              MOV     A,#01DH
00CB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 168
00CC A3                INC     DPTR
00CD E4                CLR     A
00CE F0                MOVX    @DPTR,A
00CF A3                INC     DPTR
00D0 741E              MOV     A,#01EH
00D2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 169
00D3 A3                INC     DPTR
00D4 E4                CLR     A
00D5 F0                MOVX    @DPTR,A
00D6 A3                INC     DPTR
00D7 741F              MOV     A,#01FH
00D9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 170
00DA A3                INC     DPTR
00DB E4                CLR     A
00DC F0                MOVX    @DPTR,A
00DD A3                INC     DPTR
00DE 7420              MOV     A,#020H
00E0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 171
00E1 A3                INC     DPTR
00E2 E4                CLR     A
00E3 F0                MOVX    @DPTR,A
00E4 A3                INC     DPTR
00E5 7421              MOV     A,#021H
00E7 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 18  

                                           ; SOURCE LINE # 172
00E8 A3                INC     DPTR
00E9 E4                CLR     A
00EA F0                MOVX    @DPTR,A
00EB A3                INC     DPTR
00EC 7478              MOV     A,#078H
00EE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 173
00EF A3                INC     DPTR
00F0 E4                CLR     A
00F1 F0                MOVX    @DPTR,A
00F2 A3                INC     DPTR
00F3 04                INC     A
00F4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 174
00F5 22                RET     
             ; FUNCTION udgu_par_init (END)

             ; FUNCTION print_debug_info (BEGIN)
                                           ; SOURCE LINE # 214
                                           ; SOURCE LINE # 215
                                           ; SOURCE LINE # 224
0000 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0003 74FF              MOV     A,#0FFH
0005 F0                MOVX    @DPTR,A
0006 A3                INC     DPTR
0007 7400        R     MOV     A,#HIGH ?SC_86
0009 F0                MOVX    @DPTR,A
000A A3                INC     DPTR
000B 7400        R     MOV     A,#LOW ?SC_86
000D F0                MOVX    @DPTR,A
000E E500        R     MOV     A,welding_state
0010 75F003            MOV     B,#03H
0013 A4                MUL     AB
0014 2400        R     ADD     A,#LOW welding_states_tig
0016 F582              MOV     DPL,A
0018 E4                CLR     A
0019 3400        R     ADDC    A,#HIGH welding_states_tig
001B F583              MOV     DPH,A
001D E4                CLR     A
001E 93                MOVC    A,@A+DPTR
001F F9                MOV     R1,A
0020 7401              MOV     A,#01H
0022 93                MOVC    A,@A+DPTR
0023 FA                MOV     R2,A
0024 7402              MOV     A,#02H
0026 93                MOVC    A,@A+DPTR
0027 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
002A C9                XCH     A,R1
002B F0                MOVX    @DPTR,A
002C A3                INC     DPTR
002D EA                MOV     A,R2
002E F0                MOVX    @DPTR,A
002F A3                INC     DPTR
0030 E9                MOV     A,R1
0031 F0                MOVX    @DPTR,A
0032 A3                INC     DPTR
0033 E500        R     MOV     A,touch_coord_x
0035 F0                MOVX    @DPTR,A
0036 A3                INC     DPTR
0037 E500        R     MOV     A,touch_coord_x+01H
0039 F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 19  

003A A3                INC     DPTR
003B E500        R     MOV     A,touch_coord_y
003D F0                MOVX    @DPTR,A
003E A3                INC     DPTR
003F E500        R     MOV     A,touch_coord_y+01H
0041 F0                MOVX    @DPTR,A
0042 A3                INC     DPTR
0043 E500        R     MOV     A,touch_state
0045 F0                MOVX    @DPTR,A
0046 A3                INC     DPTR
0047 E500        R     MOV     A,touch_state+01H
0049 F0                MOVX    @DPTR,A
004A A3                INC     DPTR
004B E500        R     MOV     A,last_touch_item
004D F0                MOVX    @DPTR,A
004E A3                INC     DPTR
004F E500        R     MOV     A,last_touch_item+01H
0051 F0                MOVX    @DPTR,A
0052 A3                INC     DPTR
0053 E500        R     MOV     A,amp
0055 F0                MOVX    @DPTR,A
0056 A3                INC     DPTR
0057 E500        R     MOV     A,amp+01H
0059 F0                MOVX    @DPTR,A
005A AC00        R     MOV     R4,volt
005C AD00        R     MOV     R5,volt+01H
005E E4                CLR     A
005F 120000      E     LCALL   ?C?FCASTI
0062 E4                CLR     A
0063 FB                MOV     R3,A
0064 FA                MOV     R2,A
0065 7920              MOV     R1,#020H
0067 7841              MOV     R0,#041H
0069 120000      E     LCALL   ?C?FPDIV
006C 900000      E     MOV     DPTR,#?_sprintf?BYTE+013H
006F 120000      E     LCALL   ?C?LSTXDATA
0072 AC00        R     MOV     R4,time
0074 AD00        R     MOV     R5,time+01H
0076 E4                CLR     A
0077 120000      E     LCALL   ?C?FCASTI
007A E4                CLR     A
007B FB                MOV     R3,A
007C FA                MOV     R2,A
007D 7920              MOV     R1,#020H
007F 7841              MOV     R0,#041H
0081 120000      E     LCALL   ?C?FPDIV
0084 900000      E     MOV     DPTR,#?_sprintf?BYTE+017H
0087 120000      E     LCALL   ?C?LSTXDATA
008A 900000      R     MOV     DPTR,#good_packages_cnt
008D E0                MOVX    A,@DPTR
008E FF                MOV     R7,A
008F A3                INC     DPTR
0090 E0                MOVX    A,@DPTR
0091 900000      E     MOV     DPTR,#?_sprintf?BYTE+01BH
0094 CF                XCH     A,R7
0095 F0                MOVX    @DPTR,A
0096 A3                INC     DPTR
0097 EF                MOV     A,R7
0098 F0                MOVX    @DPTR,A
0099 900000      R     MOV     DPTR,#bad_packages_cnt
009C E0                MOVX    A,@DPTR
009D FF                MOV     R7,A
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 20  

009E A3                INC     DPTR
009F E0                MOVX    A,@DPTR
00A0 900000      E     MOV     DPTR,#?_sprintf?BYTE+01DH
00A3 CF                XCH     A,R7
00A4 F0                MOVX    @DPTR,A
00A5 A3                INC     DPTR
00A6 EF                MOV     A,R7
00A7 F0                MOVX    @DPTR,A
00A8 7B01              MOV     R3,#01H
00AA 7A00        R     MOV     R2,#HIGH buf
00AC 7900        R     MOV     R1,#LOW buf
00AE 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 225
00B1 7B01              MOV     R3,#01H
00B3 7A00        R     MOV     R2,#HIGH buf
00B5 7900        R     MOV     R1,#LOW buf
00B7 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
00BA E4                CLR     A
00BB F0                MOVX    @DPTR,A
00BC A3                INC     DPTR
00BD 7432              MOV     A,#032H
00BF F0                MOVX    @DPTR,A
00C0 7F00              MOV     R7,#00H
00C2 7E25              MOV     R6,#025H
00C4 020000      E     LJMP    _write_dgus_vp
             ; FUNCTION print_debug_info (END)

             ; FUNCTION process_touch (BEGIN)
                                           ; SOURCE LINE # 231
                                           ; SOURCE LINE # 232
                                           ; SOURCE LINE # 249
0000 7B01              MOV     R3,#01H
0002 7A00        R     MOV     R2,#HIGH touch_data
0004 7900        R     MOV     R1,#LOW touch_data
0006 900000      E     MOV     DPTR,#?_read_dgus_vp?BYTE+05H
0009 E4                CLR     A
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C 7403              MOV     A,#03H
000E F0                MOVX    @DPTR,A
000F 7F16              MOV     R7,#016H
0011 7E00              MOV     R6,#00H
0013 120000      E     LCALL   _read_dgus_vp
                                           ; SOURCE LINE # 250
0016 900000      R     MOV     DPTR,#touch_data
0019 E0                MOVX    A,@DPTR
001A 645A              XRL     A,#05AH
001C 6003              JZ      $ + 5H
001E 020000      R     LJMP    ?C0041
                                           ; SOURCE LINE # 251
                                           ; SOURCE LINE # 252
0021 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 253
0022 7B01              MOV     R3,#01H
0024 7A00        R     MOV     R2,#HIGH touch_data+02H
0026 7900        R     MOV     R1,#LOW touch_data+02H
0028 900000      E     MOV     DPTR,#?_write_dgus_vp?BYTE+05H
002B F0                MOVX    @DPTR,A
002C A3                INC     DPTR
002D 04                INC     A
002E F0                MOVX    @DPTR,A
002F 7F16              MOV     R7,#016H
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 21  

0031 7E00              MOV     R6,#00H
0033 120000      E     LCALL   _write_dgus_vp
                                           ; SOURCE LINE # 256
0036 900000      R     MOV     DPTR,#touch_data+02H
0039 E0                MOVX    A,@DPTR
003A F500        R     MOV     touch_coord_x,A
003C A3                INC     DPTR
003D E0                MOVX    A,@DPTR
003E F500        R     MOV     touch_coord_x+01H,A
                                           ; SOURCE LINE # 257
0040 A3                INC     DPTR
0041 E0                MOVX    A,@DPTR
0042 F500        R     MOV     touch_coord_y,A
0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 F500        R     MOV     touch_coord_y+01H,A
                                           ; SOURCE LINE # 258
0048 900000      R     MOV     DPTR,#touch_data+01H
004B E0                MOVX    A,@DPTR
004C 750000      R     MOV     touch_state,#00H
004F F500        R     MOV     touch_state+01H,A
                                           ; SOURCE LINE # 262
0051 14                DEC     A
0052 6003              JZ      $ + 5H
0054 020000      R     LJMP    ?C0041
                                           ; SOURCE LINE # 263
                                           ; SOURCE LINE # 264
0057         ?C0032:
                                           ; SOURCE LINE # 266
0057 E4                CLR     A
0058 900000      R     MOV     DPTR,#i
005B F0                MOVX    @DPTR,A
005C         ?C0033:
005C 900000      E     MOV     DPTR,#cur_menu_size
005F E0                MOVX    A,@DPTR
0060 FF                MOV     R7,A
0061 900000      R     MOV     DPTR,#i
0064 E0                MOVX    A,@DPTR
0065 FE                MOV     R6,A
0066 C3                CLR     C
0067 9F                SUBB    A,R7
0068 4003              JC      $ + 5H
006A 020000      R     LJMP    ?C0034
                                           ; SOURCE LINE # 267
006D 75F009            MOV     B,#09H
0070 EE                MOV     A,R6
0071 A4                MUL     AB
0072 2400        E     ADD     A,#LOW cur_menu+01H
0074 F582              MOV     DPL,A
0076 E5F0              MOV     A,B
0078 3400        E     ADDC    A,#HIGH cur_menu+01H
007A F583              MOV     DPH,A
007C E0                MOVX    A,@DPTR
007D FE                MOV     R6,A
007E A3                INC     DPTR
007F E0                MOVX    A,@DPTR
0080 FF                MOV     R7,A
0081 900000      R     MOV     DPTR,#touch_data+02H
0084 E0                MOVX    A,@DPTR
0085 FC                MOV     R4,A
0086 A3                INC     DPTR
0087 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 22  

0088 FD                MOV     R5,A
0089 C3                CLR     C
008A 9F                SUBB    A,R7
008B EC                MOV     A,R4
008C 9E                SUBB    A,R6
008D 406F              JC      ?C0035
008F 900000      R     MOV     DPTR,#i
0092 E0                MOVX    A,@DPTR
0093 FF                MOV     R7,A
0094 75F009            MOV     B,#09H
0097 A4                MUL     AB
0098 2400        E     ADD     A,#LOW cur_menu+05H
009A F582              MOV     DPL,A
009C E5F0              MOV     A,B
009E 3400        E     ADDC    A,#HIGH cur_menu+05H
00A0 F583              MOV     DPH,A
00A2 E0                MOVX    A,@DPTR
00A3 FA                MOV     R2,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FB                MOV     R3,A
00A7 D3                SETB    C
00A8 ED                MOV     A,R5
00A9 9B                SUBB    A,R3
00AA EC                MOV     A,R4
00AB 9A                SUBB    A,R2
00AC 5050              JNC     ?C0035
00AE 75F009            MOV     B,#09H
00B1 EF                MOV     A,R7
00B2 A4                MUL     AB
00B3 2400        E     ADD     A,#LOW cur_menu+03H
00B5 F582              MOV     DPL,A
00B7 E5F0              MOV     A,B
00B9 3400        E     ADDC    A,#HIGH cur_menu+03H
00BB F583              MOV     DPH,A
00BD E0                MOVX    A,@DPTR
00BE FE                MOV     R6,A
00BF A3                INC     DPTR
00C0 E0                MOVX    A,@DPTR
00C1 FF                MOV     R7,A
00C2 900000      R     MOV     DPTR,#touch_data+04H
00C5 E0                MOVX    A,@DPTR
00C6 FC                MOV     R4,A
00C7 A3                INC     DPTR
00C8 E0                MOVX    A,@DPTR
00C9 FD                MOV     R5,A
00CA C3                CLR     C
00CB 9F                SUBB    A,R7
00CC EC                MOV     A,R4
00CD 9E                SUBB    A,R6
00CE 402E              JC      ?C0035
00D0 A3                INC     DPTR
00D1 E0                MOVX    A,@DPTR
00D2 FF                MOV     R7,A
00D3 75F009            MOV     B,#09H
00D6 A4                MUL     AB
00D7 2400        E     ADD     A,#LOW cur_menu+07H
00D9 F582              MOV     DPL,A
00DB E5F0              MOV     A,B
00DD 3400        E     ADDC    A,#HIGH cur_menu+07H
00DF F583              MOV     DPH,A
00E1 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 23  

00E2 FA                MOV     R2,A
00E3 A3                INC     DPTR
00E4 E0                MOVX    A,@DPTR
00E5 FB                MOV     R3,A
00E6 D3                SETB    C
00E7 ED                MOV     A,R5
00E8 9B                SUBB    A,R3
00E9 EC                MOV     A,R4
00EA 9A                SUBB    A,R2
00EB 5011              JNC     ?C0035
                                           ; SOURCE LINE # 268
                                           ; SOURCE LINE # 269
00ED 900000      E     MOV     DPTR,#_cur_menu_fanc
00F0 A3                INC     DPTR
00F1 E0                MOVX    A,@DPTR
00F2 FA                MOV     R2,A
00F3 A3                INC     DPTR
00F4 E0                MOVX    A,@DPTR
00F5 F582              MOV     DPL,A
00F7 8A83              MOV     DPH,R2
00F9 120000      E     LCALL   ?C?ICALL2
                                           ; SOURCE LINE # 270
00FC 8009              SJMP    ?C0034
                                           ; SOURCE LINE # 271
                                           ; SOURCE LINE # 272
00FE         ?C0035:
00FE 900000      R     MOV     DPTR,#i
0101 E0                MOVX    A,@DPTR
0102 04                INC     A
0103 F0                MOVX    @DPTR,A
0104 020000      R     LJMP    ?C0033
0107         ?C0034:
                                           ; SOURCE LINE # 273
0107 900000      R     MOV     DPTR,#i
010A E0                MOVX    A,@DPTR
010B 750000      R     MOV     last_touch_item,#00H
010E F500        R     MOV     last_touch_item+01H,A
                                           ; SOURCE LINE # 274
                                           ; SOURCE LINE # 275
                                           ; SOURCE LINE # 276
                                           ; SOURCE LINE # 277
                                           ; SOURCE LINE # 278
                                           ; SOURCE LINE # 279
                                           ; SOURCE LINE # 280
                                           ; SOURCE LINE # 281
0110         ?C0041:
0110 22                RET     
             ; FUNCTION process_touch (END)

             ; FUNCTION process_uart (BEGIN)
                                           ; SOURCE LINE # 287
                                           ; SOURCE LINE # 288
                                           ; SOURCE LINE # 290
0000 900000      E     MOV     DPTR,#Uart_Struct+02023H
0003 E0                MOVX    A,@DPTR
0004 6003              JZ      $ + 5H
0006 020000      R     LJMP    ?C0102
                                           ; SOURCE LINE # 291
0009         ?C0043:
                                           ; SOURCE LINE # 292
0009 900000      E     MOV     DPTR,#Uart_Struct+0201FH
000C E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 24  

000D FE                MOV     R6,A
000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 FF                MOV     R7,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FC                MOV     R4,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FD                MOV     R5,A
0017 6F                XRL     A,R7
0018 7002              JNZ     ?C0108
001A EC                MOV     A,R4
001B 6E                XRL     A,R6
001C         ?C0108:
001C 7003              JNZ     $ + 5H
001E 020000      R     LJMP    ?C0102
                                           ; SOURCE LINE # 293
                                           ; SOURCE LINE # 294
0021 7400        E     MOV     A,#LOW Uart_Struct+01C1BH
0023 2D                ADD     A,R5
0024 F582              MOV     DPL,A
0026 7400        E     MOV     A,#HIGH Uart_Struct+01C1BH
0028 3C                ADDC    A,R4
0029 F583              MOV     DPH,A
002B E0                MOVX    A,@DPTR
002C 900000      R     MOV     DPTR,#byte
002F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 296
0030 900000      E     MOV     DPTR,#Uart_Struct+02022H
0033 E0                MOVX    A,@DPTR
0034 04                INC     A
0035 F0                MOVX    @DPTR,A
0036 7006              JNZ     ?C0109
0038 900000      E     MOV     DPTR,#Uart_Struct+02021H
003B E0                MOVX    A,@DPTR
003C 04                INC     A
003D F0                MOVX    @DPTR,A
003E         ?C0109:
                                           ; SOURCE LINE # 297
003E 900000      E     MOV     DPTR,#Uart_Struct+02021H
0041 E0                MOVX    A,@DPTR
0042 5403              ANL     A,#03H
0044 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 300
0045 900000      R     MOV     DPTR,#state
0048 E0                MOVX    A,@DPTR
0049 14                DEC     A
004A 6028              JZ      ?C0048
004C 24FD              ADD     A,#0FDH
004E 6036              JZ      ?C0051
0050 24FE              ADD     A,#0FEH
0052 6057              JZ      ?C0055
0054 24FC              ADD     A,#0FCH
0056 7003              JNZ     $ + 5H
0058 020000      R     LJMP    ?C0065
005B 14                DEC     A
005C 7003              JNZ     $ + 5H
005E 020000      R     LJMP    ?C0068
0061 240B              ADD     A,#0BH
0063 70A4              JNZ     ?C0043
                                           ; SOURCE LINE # 301
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 25  

                                           ; SOURCE LINE # 302
0065         ?C0046:
                                           ; SOURCE LINE # 303
0065 900000      R     MOV     DPTR,#byte
0068 E0                MOVX    A,@DPTR
0069 B4A59D            CJNE    A,#0A5H,?C0043
                                           ; SOURCE LINE # 304
006C 900000      R     MOV     DPTR,#state
006F 7401              MOV     A,#01H
0071 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 305
0072 8095              SJMP    ?C0043
                                           ; SOURCE LINE # 307
0074         ?C0048:
                                           ; SOURCE LINE # 308
0074 900000      R     MOV     DPTR,#byte
0077 E0                MOVX    A,@DPTR
0078 B4A508            CJNE    A,#0A5H,?C0049
                                           ; SOURCE LINE # 309
007B 900000      R     MOV     DPTR,#state
007E 7404              MOV     A,#04H
0080 F0                MOVX    @DPTR,A
0081 8086              SJMP    ?C0043
0083         ?C0049:
                                           ; SOURCE LINE # 311
                                           ; SOURCE LINE # 312
0083 020000      R     LJMP    ?C0124
                                           ; SOURCE LINE # 314
0086         ?C0051:
                                           ; SOURCE LINE # 315
0086 900000      R     MOV     DPTR,#byte
0089 E0                MOVX    A,@DPTR
008A FF                MOV     R7,A
008B B4A505            CJNE    A,#0A5H,?C0052
                                           ; SOURCE LINE # 316
008E 900000      R     MOV     DPTR,#begfl
0091 8007              SJMP    ?C0123
0093         ?C0052:
                                           ; SOURCE LINE # 317
0093 EF                MOV     A,R7
0094 B45A06            CJNE    A,#05AH,?C0053
                                           ; SOURCE LINE # 318
0097 900000      R     MOV     DPTR,#endfl
009A         ?C0123:
009A 7401              MOV     A,#01H
009C F0                MOVX    @DPTR,A
009D         ?C0053:
                                           ; SOURCE LINE # 319
009D 900000      R     MOV     DPTR,#uart_len
00A0 EF                MOV     A,R7
00A1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 320
00A2 900000      R     MOV     DPTR,#state
00A5 7406              MOV     A,#06H
00A7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 321
00A8 020000      R     LJMP    ?C0043
                                           ; SOURCE LINE # 323
00AB         ?C0055:
                                           ; SOURCE LINE # 324
00AB 900000      R     MOV     DPTR,#byte
00AE E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 26  

00AF FF                MOV     R7,A
00B0 B4A517            CJNE    A,#0A5H,?C0056
                                           ; SOURCE LINE # 325
                                           ; SOURCE LINE # 326
00B3 900000      R     MOV     DPTR,#begfl
00B6 E0                MOVX    A,@DPTR
00B7 B40108            CJNE    A,#01H,?C0057
                                           ; SOURCE LINE # 327
00BA 900000      R     MOV     DPTR,#state
00BD 7404              MOV     A,#04H
00BF F0                MOVX    @DPTR,A
00C0 800D              SJMP    ?C0059
00C2         ?C0057:
                                           ; SOURCE LINE # 329
00C2 900000      R     MOV     DPTR,#begfl
00C5 7401              MOV     A,#01H
00C7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 330
00C8 8005              SJMP    ?C0059
00CA         ?C0056:
                                           ; SOURCE LINE # 332
00CA E4                CLR     A
00CB 900000      R     MOV     DPTR,#begfl
00CE F0                MOVX    @DPTR,A
00CF         ?C0059:
                                           ; SOURCE LINE # 334
00CF EF                MOV     A,R7
00D0 B45A12            CJNE    A,#05AH,?C0060
                                           ; SOURCE LINE # 335
                                           ; SOURCE LINE # 336
00D3 900000      R     MOV     DPTR,#endfl
00D6 E0                MOVX    A,@DPTR
00D7 B40103            CJNE    A,#01H,?C0061
                                           ; SOURCE LINE # 337
                                           ; SOURCE LINE # 338
00DA         ?C0122:
                                           ; SOURCE LINE # 339
00DA 020000      R     LJMP    ?C0124
                                           ; SOURCE LINE # 340
00DD         ?C0061:
                                           ; SOURCE LINE # 341
00DD 900000      R     MOV     DPTR,#endfl
00E0 7401              MOV     A,#01H
00E2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 342
00E3 8005              SJMP    ?C0063
00E5         ?C0060:
                                           ; SOURCE LINE # 343
00E5 E4                CLR     A
00E6 900000      R     MOV     DPTR,#endfl
00E9 F0                MOVX    @DPTR,A
00EA         ?C0063:
                                           ; SOURCE LINE # 345
00EA 900000      R     MOV     DPTR,#byte
00ED E0                MOVX    A,@DPTR
00EE FF                MOV     R7,A
00EF 900000      R     MOV     DPTR,#inbufind
00F2 E0                MOVX    A,@DPTR
00F3 2400        R     ADD     A,#LOW bufin
00F5 F582              MOV     DPL,A
00F7 E4                CLR     A
00F8 3400        R     ADDC    A,#HIGH bufin
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 27  

00FA F583              MOV     DPH,A
00FC EF                MOV     A,R7
00FD F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 346
00FE 900000      R     MOV     DPTR,#inbufind
0101 E0                MOVX    A,@DPTR
0102 04                INC     A
0103 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 348
0104 900000      R     MOV     DPTR,#uart_len
0107 E0                MOVX    A,@DPTR
0108 2402              ADD     A,#02H
010A FF                MOV     R7,A
010B E4                CLR     A
010C 33                RLC     A
010D FE                MOV     R6,A
010E 900000      R     MOV     DPTR,#inbufind
0111 E0                MOVX    A,@DPTR
0112 6F                XRL     A,R7
0113 7001              JNZ     ?C0110
0115 EE                MOV     A,R6
0116         ?C0110:
0116 6003              JZ      $ + 5H
0118 020000      R     LJMP    ?C0043
                                           ; SOURCE LINE # 349
                                           ; SOURCE LINE # 350
011B 900000      R     MOV     DPTR,#state
011E 740A              MOV     A,#0AH
0120 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 351
                                           ; SOURCE LINE # 353
0121 020000      R     LJMP    ?C0043
                                           ; SOURCE LINE # 355
0124         ?C0065:
                                           ; SOURCE LINE # 356
0124 900000      R     MOV     DPTR,#byte
0127 E0                MOVX    A,@DPTR
0128 FF                MOV     R7,A
0129 B45A09            CJNE    A,#05AH,?C0066
                                           ; SOURCE LINE # 357
012C 900000      R     MOV     DPTR,#state
012F 740B              MOV     A,#0BH
0131 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 358
0132 020000      R     LJMP    ?C0043
                                           ; SOURCE LINE # 359
0135         ?C0066:
                                           ; SOURCE LINE # 360
0135 EF                MOV     A,R7
0136 B4A50D            CJNE    A,#0A5H,?C0067
                                           ; SOURCE LINE # 361
0139 900000      R     MOV     DPTR,#state
013C 7401              MOV     A,#01H
013E F0                MOVX    @DPTR,A
013F E4                CLR     A
0140 900000      R     MOV     DPTR,#inbufind
                                           ; SOURCE LINE # 362
0143 020000      R     LJMP    ?C0126
                                           ; SOURCE LINE # 363
0146         ?C0067:
                                           ; SOURCE LINE # 364
0146 E4                CLR     A
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 28  

0147 900000      R     MOV     DPTR,#inbufind
014A F0                MOVX    @DPTR,A
014B 900000      R     MOV     DPTR,#state
014E         ?C0120:
                                           ; SOURCE LINE # 365
014E 020000      R     LJMP    ?C0126
                                           ; SOURCE LINE # 367
0151         ?C0068:
                                           ; SOURCE LINE # 368
                                           ; SOURCE LINE # 370
0151 E4                CLR     A
0152 900000      R     MOV     DPTR,#crc
0155 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 371
0156 900000      R     MOV     DPTR,#byte
0159 E0                MOVX    A,@DPTR
015A FF                MOV     R7,A
015B 645A              XRL     A,#05AH
015D 601B              JZ      ?C0069
                                           ; SOURCE LINE # 372
                                           ; SOURCE LINE # 373
015F EF                MOV     A,R7
0160 B4A50C            CJNE    A,#0A5H,?C0070
                                           ; SOURCE LINE # 374
0163 900000      R     MOV     DPTR,#state
0166 7401              MOV     A,#01H
0168 F0                MOVX    @DPTR,A
0169 E4                CLR     A
016A 900000      R     MOV     DPTR,#inbufind
016D 8008              SJMP    ?C0121
016F         ?C0070:
                                           ; SOURCE LINE # 376
016F E4                CLR     A
0170 900000      R     MOV     DPTR,#inbufind
0173 F0                MOVX    @DPTR,A
0174 900000      R     MOV     DPTR,#state
0177         ?C0121:
0177         ?C0125:
                                           ; SOURCE LINE # 377
0177 020000      R     LJMP    ?C0126
                                           ; SOURCE LINE # 378
017A         ?C0069:
                                           ; SOURCE LINE # 381
017A 900000      R     MOV     DPTR,#i
017D 7401              MOV     A,#01H
017F F0                MOVX    @DPTR,A
0180         ?C0072:
0180 900000      R     MOV     DPTR,#uart_len
0183 E0                MOVX    A,@DPTR
0184 FF                MOV     R7,A
0185 900000      R     MOV     DPTR,#i
0188 E0                MOVX    A,@DPTR
0189 FE                MOV     R6,A
018A D3                SETB    C
018B 9F                SUBB    A,R7
018C 501A              JNC     ?C0073
                                           ; SOURCE LINE # 382
018E 7400        R     MOV     A,#LOW bufin
0190 2E                ADD     A,R6
0191 F582              MOV     DPL,A
0193 E4                CLR     A
0194 3400        R     ADDC    A,#HIGH bufin
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 29  

0196 F583              MOV     DPH,A
0198 E0                MOVX    A,@DPTR
0199 FE                MOV     R6,A
019A 900000      R     MOV     DPTR,#crc
019D E0                MOVX    A,@DPTR
019E 2E                ADD     A,R6
019F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 383
01A0 900000      R     MOV     DPTR,#i
01A3 E0                MOVX    A,@DPTR
01A4 04                INC     A
01A5 F0                MOVX    @DPTR,A
01A6 80D8              SJMP    ?C0072
01A8         ?C0073:
                                           ; SOURCE LINE # 384
01A8 7400        R     MOV     A,#LOW bufin+01H
01AA 2F                ADD     A,R7
01AB F582              MOV     DPL,A
01AD E4                CLR     A
01AE 3400        R     ADDC    A,#HIGH bufin+01H
01B0 F583              MOV     DPH,A
01B2 E0                MOVX    A,@DPTR
01B3 FF                MOV     R7,A
01B4 900000      R     MOV     DPTR,#crc
01B7 E0                MOVX    A,@DPTR
01B8 6F                XRL     A,R7
01B9 6022              JZ      ?C0075
                                           ; SOURCE LINE # 385
01BB E4                CLR     A
01BC 900000      R     MOV     DPTR,#inbufind
01BF F0                MOVX    @DPTR,A
01C0 900000      R     MOV     DPTR,#state
01C3 F0                MOVX    @DPTR,A
01C4 900000      R     MOV     DPTR,#endfl
01C7 F0                MOVX    @DPTR,A
01C8 900000      R     MOV     DPTR,#begfl
01CB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 386
01CC 900000      R     MOV     DPTR,#bad_packages_cnt+01H
01CF E0                MOVX    A,@DPTR
01D0 04                INC     A
01D1 F0                MOVX    @DPTR,A
01D2 7006              JNZ     ?C0111
01D4 900000      R     MOV     DPTR,#bad_packages_cnt
01D7 E0                MOVX    A,@DPTR
01D8 04                INC     A
01D9 F0                MOVX    @DPTR,A
01DA         ?C0111:
                                           ; SOURCE LINE # 387
01DA 020000      R     LJMP    ?C0043
                                           ; SOURCE LINE # 388
01DD         ?C0075:
                                           ; SOURCE LINE # 390
01DD 900000      R     MOV     DPTR,#good_packages_cnt+01H
01E0 E0                MOVX    A,@DPTR
01E1 04                INC     A
01E2 F0                MOVX    @DPTR,A
01E3 7006              JNZ     ?C0112
01E5 900000      R     MOV     DPTR,#good_packages_cnt
01E8 E0                MOVX    A,@DPTR
01E9 04                INC     A
01EA F0                MOVX    @DPTR,A
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 30  

01EB         ?C0112:
                                           ; SOURCE LINE # 392
                                           ; SOURCE LINE # 393
01EB 900000      R     MOV     DPTR,#bufin+01H
01EE E0                MOVX    A,@DPTR
01EF 24DA              ADD     A,#0DAH
01F1 7003              JNZ     $ + 5H
01F3 020000      R     LJMP    ?C0079
01F6 24F3              ADD     A,#0F3H
01F8 7003              JNZ     $ + 5H
01FA 020000      R     LJMP    ?C0092
01FD 24F6              ADD     A,#0F6H
01FF 7003              JNZ     $ + 5H
0201 020000      R     LJMP    ?C0094
0204 2418              ADD     A,#018H
0206 6003              JZ      $ + 5H
0208 020000      R     LJMP    ?C0076
                                           ; SOURCE LINE # 394
                                           ; SOURCE LINE # 395
020B         ?C0077:
                                           ; SOURCE LINE # 396
020B 900000      R     MOV     DPTR,#bufin+02H
020E E0                MOVX    A,@DPTR
020F 900000      R     MOV     DPTR,#ch
0212 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 397
0213 D3                SETB    C
0214 9424              SUBB    A,#024H
0216 4003              JC      $ + 5H
0218 020000      R     LJMP    ?C0076
021B         ?C0078:
                                           ; SOURCE LINE # 398
021B 900000      R     MOV     DPTR,#bufout+01H
021E 74A5              MOV     A,#0A5H
0220 F0                MOVX    @DPTR,A
0221 900000      R     MOV     DPTR,#bufout
0224 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 399
0225 900000      R     MOV     DPTR,#bufout+02H
0228 7404              MOV     A,#04H
022A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 400
022B A3                INC     DPTR
022C 74A5              MOV     A,#0A5H
022E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 401
022F A3                INC     DPTR
0230 7425              MOV     A,#025H
0232 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 402
0233 900000      R     MOV     DPTR,#ch
0236 E0                MOVX    A,@DPTR
0237 900000      R     MOV     DPTR,#bufout+05H
023A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 403
023B 25E0              ADD     A,ACC
023D 2400        R     ADD     A,#LOW par_tek
023F F582              MOV     DPL,A
0241 E4                CLR     A
0242 3400        R     ADDC    A,#HIGH par_tek
0244 F583              MOV     DPH,A
0246 E0                MOVX    A,@DPTR
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 31  

0247 FC                MOV     R4,A
0248 A3                INC     DPTR
0249 E0                MOVX    A,@DPTR
024A 900000      R     MOV     DPTR,#bufout+06H
024D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 404
024E EC                MOV     A,R4
024F FF                MOV     R7,A
0250 A3                INC     DPTR
0251 EF                MOV     A,R7
0252 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 405
0253 900000      R     MOV     DPTR,#bufout+05H
0256 E0                MOVX    A,@DPTR
0257 FE                MOV     R6,A
0258 900000      R     MOV     DPTR,#bufout+04H
025B E0                MOVX    A,@DPTR
025C 2E                ADD     A,R6
025D FE                MOV     R6,A
025E 900000      R     MOV     DPTR,#bufout+06H
0261 E0                MOVX    A,@DPTR
0262 2E                ADD     A,R6
0263 2F                ADD     A,R7
0264 900000      R     MOV     DPTR,#bufout+08H
0267 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 406
0268 900000      R     MOV     DPTR,#bufout+0AH
026B 745A              MOV     A,#05AH
026D F0                MOVX    @DPTR,A
026E 900000      R     MOV     DPTR,#bufout+09H
0271 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 407
0272 7B01              MOV     R3,#01H
0274 7A00        R     MOV     R2,#HIGH bufout
0276 7900        R     MOV     R1,#LOW bufout
0278 7D0B              MOV     R5,#0BH
027A 7C00              MOV     R4,#00H
                                           ; SOURCE LINE # 408
027C 020000      R     LJMP    ?C0127
                                           ; SOURCE LINE # 410
027F         ?C0079:
                                           ; SOURCE LINE # 411
027F 900000      R     MOV     DPTR,#bufin+02H
0282 E0                MOVX    A,@DPTR
0283 900000      R     MOV     DPTR,#ch
0286 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 414
0287 D3                SETB    C
0288 9424              SUBB    A,#024H
028A 4003              JC      $ + 5H
028C 020000      R     LJMP    ?C0076
028F         ?C0080:
                                           ; SOURCE LINE # 415
028F 900000      R     MOV     DPTR,#bufout+01H
0292 74A5              MOV     A,#0A5H
0294 F0                MOVX    @DPTR,A
0295 900000      R     MOV     DPTR,#bufout
0298 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 416
0299 900000      R     MOV     DPTR,#ch
029C E0                MOVX    A,@DPTR
029D FD                MOV     R5,A
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 32  

029E 25E0              ADD     A,ACC
02A0 2402              ADD     A,#02H
02A2 900000      R     MOV     DPTR,#bufout+02H
02A5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 417
02A6 A3                INC     DPTR
02A7 74A6              MOV     A,#0A6H
02A9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 418
02AA A3                INC     DPTR
02AB 7426              MOV     A,#026H
02AD F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 419
02AE A3                INC     DPTR
02AF ED                MOV     A,R5
02B0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 420
02B1 900000      R     MOV     DPTR,#bufout+04H
02B4 E0                MOVX    A,@DPTR
02B5 2D                ADD     A,R5
02B6 900000      R     MOV     DPTR,#ch2
02B9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 421
02BA 900000      R     MOV     DPTR,#ch1
02BD 7401              MOV     A,#01H
02BF F0                MOVX    @DPTR,A
02C0         ?C0081:
02C0 900000      R     MOV     DPTR,#ch
02C3 E0                MOVX    A,@DPTR
02C4 FF                MOV     R7,A
02C5 A3                INC     DPTR
02C6 E0                MOVX    A,@DPTR
02C7 FE                MOV     R6,A
02C8 C3                CLR     C
02C9 9F                SUBB    A,R7
02CA 4003              JC      $ + 5H
02CC 020000      R     LJMP    ?C0082
                                           ; SOURCE LINE # 422
02CF EE                MOV     A,R6
02D0 6417              XRL     A,#017H
02D2 6003              JZ      $ + 5H
02D4 020000      R     LJMP    ?C0084
02D7 900000      R     MOV     DPTR,#par_tek+02EH
02DA F0                MOVX    @DPTR,A
02DB A3                INC     DPTR
02DC F0                MOVX    @DPTR,A
02DD 900000      R     MOV     DPTR,#par_tek+024H
02E0 E0                MOVX    A,@DPTR
02E1 7004              JNZ     ?C0113
02E3 A3                INC     DPTR
02E4 E0                MOVX    A,@DPTR
02E5 6402              XRL     A,#02H
02E7         ?C0113:
02E7 7007              JNZ     ?C0085
02E9 900000      R     MOV     DPTR,#par_tek+02FH
02EC E0                MOVX    A,@DPTR
02ED 4401              ORL     A,#01H
02EF F0                MOVX    @DPTR,A
02F0         ?C0085:
02F0 900000      R     MOV     DPTR,#par_tek+028H
02F3 E0                MOVX    A,@DPTR
02F4 7004              JNZ     ?C0114
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 33  

02F6 A3                INC     DPTR
02F7 E0                MOVX    A,@DPTR
02F8 6402              XRL     A,#02H
02FA         ?C0114:
02FA 7007              JNZ     ?C0086
02FC 900000      R     MOV     DPTR,#par_tek+02FH
02FF E0                MOVX    A,@DPTR
0300 4402              ORL     A,#02H
0302 F0                MOVX    @DPTR,A
0303         ?C0086:
0303 900000      R     MOV     DPTR,#par_tek+022H
0306 E0                MOVX    A,@DPTR
0307 7004              JNZ     ?C0115
0309 A3                INC     DPTR
030A E0                MOVX    A,@DPTR
030B 6402              XRL     A,#02H
030D         ?C0115:
030D 7007              JNZ     ?C0087
030F 900000      R     MOV     DPTR,#par_tek+02FH
0312 E0                MOVX    A,@DPTR
0313 4404              ORL     A,#04H
0315 F0                MOVX    @DPTR,A
0316         ?C0087:
0316 900000      R     MOV     DPTR,#par_tek+046H
0319 E0                MOVX    A,@DPTR
031A 7004              JNZ     ?C0116
031C A3                INC     DPTR
031D E0                MOVX    A,@DPTR
031E 6402              XRL     A,#02H
0320         ?C0116:
0320 7007              JNZ     ?C0088
0322 900000      R     MOV     DPTR,#par_tek+02FH
0325 E0                MOVX    A,@DPTR
0326 4408              ORL     A,#08H
0328 F0                MOVX    @DPTR,A
0329         ?C0088:
0329 900000      R     MOV     DPTR,#par_tek+026H
032C E0                MOVX    A,@DPTR
032D 7004              JNZ     ?C0117
032F A3                INC     DPTR
0330 E0                MOVX    A,@DPTR
0331 6402              XRL     A,#02H
0333         ?C0117:
0333 7007              JNZ     ?C0089
0335 900000      R     MOV     DPTR,#par_tek+02FH
0338 E0                MOVX    A,@DPTR
0339 4410              ORL     A,#010H
033B F0                MOVX    @DPTR,A
033C         ?C0089:
033C 900000      R     MOV     DPTR,#par_tek+020H
033F E0                MOVX    A,@DPTR
0340 7004              JNZ     ?C0118
0342 A3                INC     DPTR
0343 E0                MOVX    A,@DPTR
0344 6402              XRL     A,#02H
0346         ?C0118:
0346 7007              JNZ     ?C0090
0348 900000      R     MOV     DPTR,#par_tek+02FH
034B E0                MOVX    A,@DPTR
034C 4440              ORL     A,#040H
034E F0                MOVX    @DPTR,A
034F         ?C0090:
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 34  

034F 900000      R     MOV     DPTR,#par_tek+038H
0352 E0                MOVX    A,@DPTR
0353 7004              JNZ     ?C0119
0355 A3                INC     DPTR
0356 E0                MOVX    A,@DPTR
0357 6402              XRL     A,#02H
0359         ?C0119:
0359 7007              JNZ     ?C0084
035B 900000      R     MOV     DPTR,#par_tek+02FH
035E E0                MOVX    A,@DPTR
035F 4480              ORL     A,#080H
0361 F0                MOVX    @DPTR,A
0362         ?C0084:
                                           ; SOURCE LINE # 423
0362 900000      R     MOV     DPTR,#ch1
0365 E0                MOVX    A,@DPTR
0366 FF                MOV     R7,A
0367 25E0              ADD     A,ACC
0369 2400        R     ADD     A,#LOW par_tek
036B F582              MOV     DPL,A
036D E4                CLR     A
036E 3400        R     ADDC    A,#HIGH par_tek
0370 F583              MOV     DPH,A
0372 A3                INC     DPTR
0373 E0                MOVX    A,@DPTR
0374 FE                MOV     R6,A
0375 EF                MOV     A,R7
0376 25E0              ADD     A,ACC
0378 FD                MOV     R5,A
0379 2404              ADD     A,#04H
037B FC                MOV     R4,A
037C 2400        R     ADD     A,#LOW bufout
037E F582              MOV     DPL,A
0380 E4                CLR     A
0381 3400        R     ADDC    A,#HIGH bufout
0383 F583              MOV     DPH,A
0385 EE                MOV     A,R6
0386 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 424
0387 900000      R     MOV     DPTR,#ch1
038A E0                MOVX    A,@DPTR
038B 25E0              ADD     A,ACC
038D 2400        R     ADD     A,#LOW par_tek
038F F582              MOV     DPL,A
0391 E4                CLR     A
0392 3400        R     ADDC    A,#HIGH par_tek
0394 F583              MOV     DPH,A
0396 E0                MOVX    A,@DPTR
0397 FF                MOV     R7,A
0398 ED                MOV     A,R5
0399 2405              ADD     A,#05H
039B FE                MOV     R6,A
039C 2400        R     ADD     A,#LOW bufout
039E F582              MOV     DPL,A
03A0 E4                CLR     A
03A1 3400        R     ADDC    A,#HIGH bufout
03A3 F583              MOV     DPH,A
03A5 EF                MOV     A,R7
03A6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 425
03A7 7400        R     MOV     A,#LOW bufout
03A9 2C                ADD     A,R4
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 35  

03AA F582              MOV     DPL,A
03AC E4                CLR     A
03AD 3400        R     ADDC    A,#HIGH bufout
03AF F583              MOV     DPH,A
03B1 E0                MOVX    A,@DPTR
03B2 FF                MOV     R7,A
03B3 900000      R     MOV     DPTR,#ch2
03B6 E0                MOVX    A,@DPTR
03B7 2F                ADD     A,R7
03B8 FF                MOV     R7,A
03B9 7400        R     MOV     A,#LOW bufout
03BB 2E                ADD     A,R6
03BC F582              MOV     DPL,A
03BE E4                CLR     A
03BF 3400        R     ADDC    A,#HIGH bufout
03C1 F583              MOV     DPH,A
03C3 E0                MOVX    A,@DPTR
03C4 2F                ADD     A,R7
03C5 900000      R     MOV     DPTR,#ch2
03C8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 426
03C9 900000      R     MOV     DPTR,#ch1
03CC E0                MOVX    A,@DPTR
03CD 04                INC     A
03CE F0                MOVX    @DPTR,A
03CF 020000      R     LJMP    ?C0081
03D2         ?C0082:
                                           ; SOURCE LINE # 427
03D2 900000      R     MOV     DPTR,#ch2
03D5 E0                MOVX    A,@DPTR
03D6 FF                MOV     R7,A
03D7 900000      R     MOV     DPTR,#ch1
03DA E0                MOVX    A,@DPTR
03DB FE                MOV     R6,A
03DC 25E0              ADD     A,ACC
03DE FD                MOV     R5,A
03DF 2406              ADD     A,#06H
03E1 2400        R     ADD     A,#LOW bufout
03E3 F582              MOV     DPL,A
03E5 E4                CLR     A
03E6 3400        R     ADDC    A,#HIGH bufout
03E8 F583              MOV     DPH,A
03EA EF                MOV     A,R7
03EB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 428
03EC ED                MOV     A,R5
03ED 2408              ADD     A,#08H
03EF 2400        R     ADD     A,#LOW bufout
03F1 F582              MOV     DPL,A
03F3 E4                CLR     A
03F4 3400        R     ADDC    A,#HIGH bufout
03F6 F583              MOV     DPH,A
03F8 745A              MOV     A,#05AH
03FA F0                MOVX    @DPTR,A
03FB EE                MOV     A,R6
03FC 25E0              ADD     A,ACC
03FE FF                MOV     R7,A
03FF 2407              ADD     A,#07H
0401 2400        R     ADD     A,#LOW bufout
0403 F582              MOV     DPL,A
0405 E4                CLR     A
0406 3400        R     ADDC    A,#HIGH bufout
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 36  

0408 F583              MOV     DPH,A
040A 745A              MOV     A,#05AH
040C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 430
040D EF                MOV     A,R7
040E 2409              ADD     A,#09H
0410 FD                MOV     R5,A
0411 7C00              MOV     R4,#00H
0413 7B01              MOV     R3,#01H
0415 7A00        R     MOV     R2,#HIGH bufout
0417 7900        R     MOV     R1,#LOW bufout
0419         ?C0127:
0419 7F03              MOV     R7,#03H
041B 120000      E     LCALL   _Uatr_Send_Data
                                           ; SOURCE LINE # 431
041E 8058              SJMP    ?C0076
                                           ; SOURCE LINE # 433
0420         ?C0092:
                                           ; SOURCE LINE # 434
0420 900000      R     MOV     DPTR,#bufin+02H
0423 E0                MOVX    A,@DPTR
0424 FF                MOV     R7,A
0425 6458              XRL     A,#058H
0427 604F              JZ      ?C0076
                                           ; SOURCE LINE # 435
0429 EF                MOV     A,R7
042A 14                DEC     A
042B F500        R     MOV     welding_state,A
                                           ; SOURCE LINE # 436
042D 8049              SJMP    ?C0076
                                           ; SOURCE LINE # 438
042F         ?C0094:
                                           ; SOURCE LINE # 439
042F 900000      R     MOV     DPTR,#bufin+04H
0432 E0                MOVX    A,@DPTR
0433 FE                MOV     R6,A
0434 900000      R     MOV     DPTR,#bufin+03H
0437 E0                MOVX    A,@DPTR
0438 7C00              MOV     R4,#00H
043A 2400              ADD     A,#00H
043C FF                MOV     R7,A
043D EC                MOV     A,R4
043E 3E                ADDC    A,R6
043F 900000      R     MOV     DPTR,#value
0442 F0                MOVX    @DPTR,A
0443 A3                INC     DPTR
0444 EF                MOV     A,R7
0445 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 440
0446 900000      R     MOV     DPTR,#bufin+02H
0449 E0                MOVX    A,@DPTR
044A FF                MOV     R7,A
044B B4400C            CJNE    A,#040H,?C0095
                                           ; SOURCE LINE # 441
044E 900000      R     MOV     DPTR,#value
0451 E0                MOVX    A,@DPTR
0452 F500        R     MOV     amp,A
0454 A3                INC     DPTR
0455 E0                MOVX    A,@DPTR
0456 F500        R     MOV     amp+01H,A
                                           ; SOURCE LINE # 442
0458 801E              SJMP    ?C0076
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 37  

045A         ?C0095:
045A EF                MOV     A,R7
045B B4410C            CJNE    A,#041H,?C0097
                                           ; SOURCE LINE # 443
045E 900000      R     MOV     DPTR,#value
0461 E0                MOVX    A,@DPTR
0462 F500        R     MOV     volt,A
0464 A3                INC     DPTR
0465 E0                MOVX    A,@DPTR
0466 F500        R     MOV     volt+01H,A
                                           ; SOURCE LINE # 444
0468 800E              SJMP    ?C0076
046A         ?C0097:
046A EF                MOV     A,R7
046B B4420A            CJNE    A,#042H,?C0076
                                           ; SOURCE LINE # 445
046E 900000      R     MOV     DPTR,#value
0471 E0                MOVX    A,@DPTR
0472 F500        R     MOV     time,A
0474 A3                INC     DPTR
0475 E0                MOVX    A,@DPTR
0476 F500        R     MOV     time+01H,A
                                           ; SOURCE LINE # 446
                                           ; SOURCE LINE # 448
                                           ; SOURCE LINE # 450
                                           ; SOURCE LINE # 451
                                           ; SOURCE LINE # 452
0478         ?C0076:
                                           ; SOURCE LINE # 453
                                           ; SOURCE LINE # 467
0478         ?C0124:
0478 E4                CLR     A
0479 900000      R     MOV     DPTR,#inbufind
047C F0                MOVX    @DPTR,A
047D 900000      R     MOV     DPTR,#state
0480         ?C0126:
0480 F0                MOVX    @DPTR,A
0481 900000      R     MOV     DPTR,#endfl
0484 F0                MOVX    @DPTR,A
0485 900000      R     MOV     DPTR,#begfl
0488 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 468
0489 020000      R     LJMP    ?C0043
                                           ; SOURCE LINE # 469
                                           ; SOURCE LINE # 471
                                           ; SOURCE LINE # 472
                                           ; SOURCE LINE # 473
                                           ; SOURCE LINE # 477
                                           ; SOURCE LINE # 480
                                           ; SOURCE LINE # 481
048C         ?C0102:
048C 22                RET     
             ; FUNCTION process_uart (END)

             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 485
                                           ; SOURCE LINE # 486
                                           ; SOURCE LINE # 489
0000 120000      E     LCALL   INIT_CPU
                                           ; SOURCE LINE # 490
0003 120000      E     LCALL   T0_Init
                                           ; SOURCE LINE # 491
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 38  

0006 C2AF              CLR     EA
                                           ; SOURCE LINE # 496
0008 53A9FE            ANL     IP0,#0FEH
                                           ; SOURCE LINE # 497
000B 53B9FE            ANL     IP1,#0FEH
                                           ; SOURCE LINE # 499
000E C289              CLR     IE0
                                           ; SOURCE LINE # 501
0010 D288              SETB    IT0
                                           ; SOURCE LINE # 502
0012 D2A8              SETB    EX0
                                           ; SOURCE LINE # 505
0014 C28B              CLR     IE1
                                           ; SOURCE LINE # 507
0016 D28A              SETB    IT1
                                           ; SOURCE LINE # 508
0018 D2AA              SETB    EX1
                                           ; SOURCE LINE # 509
001A D2AF              SETB    EA
                                           ; SOURCE LINE # 518
001C 120000      R     LCALL   io_init
                                           ; SOURCE LINE # 520
001F 120000      E     LCALL   ssd2828_init
                                           ; SOURCE LINE # 522
0022 900000      E     MOV     DPTR,#?_UartInit?BYTE+01H
0025 120000      E     LCALL   ?C?LSTKXDATA
0028 00                DB      00H
0029 01                DB      01H
002A C2                DB      0C2H
002B 00                DB      00H
002C 7F03              MOV     R7,#03H
002E 120000      E     LCALL   _UartInit
                                           ; SOURCE LINE # 523
0031 E4                CLR     A
0032 900000      R     MOV     DPTR,#inbufind
0035 F0                MOVX    @DPTR,A
0036 900000      R     MOV     DPTR,#state
0039 F0                MOVX    @DPTR,A
003A 900000      R     MOV     DPTR,#endfl
003D F0                MOVX    @DPTR,A
003E 900000      R     MOV     DPTR,#begfl
0041 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 528
0042 120000      E     LCALL   make_scene
                                           ; SOURCE LINE # 532
0045 120000      R     LCALL   udgu_par_init
0048         ?C0103:
                                           ; SOURCE LINE # 533
                                           ; SOURCE LINE # 534
                                           ; SOURCE LINE # 535
0048 120000      R     LCALL   process_uart
                                           ; SOURCE LINE # 536
004B 120000      R     LCALL   process_touch
                                           ; SOURCE LINE # 539
004E 7F01              MOV     R7,#01H
0050 120000      E     LCALL   _GetTimeOutFlag
0053 EF                MOV     A,R7
0054 700A              JNZ     ?C0105
                                           ; SOURCE LINE # 540
0056 7DFA              MOV     R5,#0FAH
0058 FC                MOV     R4,A
0059 FF                MOV     R7,A
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 39  

005A 120000      E     LCALL   _StartTimer
                                           ; SOURCE LINE # 541
005D 120000      R     LCALL   print_debug_info
                                           ; SOURCE LINE # 542
0060         ?C0105:
                                           ; SOURCE LINE # 544
0060 C2AF              CLR     EA
                                           ; SOURCE LINE # 545
0062 900000      R     MOV     DPTR,#encoder_state_adsfl
0065 E0                MOVX    A,@DPTR
0066 FF                MOV     R7,A
0067 6008              JZ      ?C0106
                                           ; SOURCE LINE # 546
0069 120000      E     LCALL   _Process_Encoder
                                           ; SOURCE LINE # 547
006C E4                CLR     A
006D 900000      R     MOV     DPTR,#encoder_state_adsfl
0070 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 548
0071         ?C0106:
                                           ; SOURCE LINE # 550
0071 D2AF              SETB    EA
                                           ; SOURCE LINE # 552
0073 80D3              SJMP    ?C0103
             ; FUNCTION main (END)

C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 40  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


INIT_CPU . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
icon_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  ico. . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  r. . . . . . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0001H  8
QUENE. . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  11
  pQuene . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0000H  3
  QueneHead. . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  QueneTail. . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  3
  QueneSize. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
CANBUSUNIT . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  6661
  BusRXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  3328
  BusTXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0D00H  3328
  CanRxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A00H  1
  CanRxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A01H  1
  CanTxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A02H  1
  CanTxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A03H  1
  CanTxFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A04H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
cur_menu_size. . . . . . . . . . . . .  EXTERN   XDATA  U_CHAR   -----  1
point_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  4
  x. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  y. . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
EPID_IMPULSE_I3. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
begfl. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0064H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
rect_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  8
  x0 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  y0 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0002H  2
  x1 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0004H  2
  y1 . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
EPID_BASE2_I2X . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EPID_KZ_I5 . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
Uart_Struct. . . . . . . . . . . . . .  EXTERN   XDATA  ARRAY    -----  -----
EPID_BASE_T4 . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_Process_Encoder . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
process_touch. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0006H  1
  ETPS_WAIT. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETPS_RELEASE . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETPS_FIRST_PRESS . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETPS_LIFT. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETPS_PRESSING. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
  ETP_STATE. . . . . . . . . . . . . .  * TAG *  -----  ENUM     -----  -----
  touch_data . . . . . . . . . . . . .  AUTO     XDATA  STRUCT   0000H  6
EPID_FREQ_F1 . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_sprintf . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
endfl. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0065H  1
_write_dgus_vp . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
P1MDOUT. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00BCH  1
dgus_text_display_t. . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  26
  vp . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  start_pos. . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0002H  4
  color. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
  lh . . . . . . . . . . . . . . . . .  MEMBER   -----  STRUCT   0008H  4
  rl . . . . . . . . . . . . . . . . .  MEMBER   -----  STRUCT   000CH  4
  text_len . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0010H  2
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 41  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  font0_id . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0012H  1
  font1_id . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0013H  1
  font_x_dots. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0014H  1
  font_y_dots. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0015H  1
  encode_mode. . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0016H  1
  hor_dis. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0017H  1
  ver_dis. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0018H  1
  undef. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0019H  1
dgus_data_variable_display_t . . . . .  TYPEDEF  -----  STRUCT   -----  20
  vp . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  upper_left_point . . . . . . . . . .  MEMBER   -----  STRUCT   0002H  4
  color. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
  lib_id . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0008H  1
  font_size. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0009H  1
  alignment. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000AH  1
  integer_digits . . . . . . . . . . .  MEMBER   -----  U_CHAR   000BH  1
  decimal_places . . . . . . . . . . .  MEMBER   -----  U_CHAR   000CH  1
  variable_data_type . . . . . . . . .  MEMBER   -----  U_CHAR   000DH  1
  len_unit . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000EH  1
  string_unit. . . . . . . . . . . . .  MEMBER   -----  ARRAY    000FH  5
EPID_IMPULSE_T5. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EPID_UP_T3 . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
make_scene . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
CANBUS8283 . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  260
  Busbuf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  256
  Can8283RxHead. . . . . . . . . . . .  MEMBER   -----  U_INT    0100H  2
  Can8283RxTail. . . . . . . . . . . .  MEMBER   -----  U_INT    0102H  2
CANUNIT. . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  13
  status . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  candata. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0005H  8
_StartTimer. . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
bufin. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0066H  100
bufout . . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    00CAH  100
process_uart . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  ch . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0003H  1
  ch . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0003H  1
  ch1. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0004H  1
  ch2. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0005H  1
  value. . . . . . . . . . . . . . . .  AUTO     XDATA  U_INT    0003H  2
  i. . . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0001H  1
  crc. . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0002H  1
  byte . . . . . . . . . . . . . . . .  AUTO     XDATA  U_CHAR   0000H  1
state. . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   012EH  1
SCREEN_WIDTH . . . . . . . . . . . . .  STATIC   CODE   U_INT    008BH  2
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  uart_cmd_show_text_sp. . . . . . . .  AUTO     XDATA  U_INT    0000H  2
EPID_DOWN_T6 . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
print_debug_info . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  buf. . . . . . . . . . . . . . . . .  STATIC   XDATA  ARRAY    0000H  100
  welding_states_tig . . . . . . . . .  STATIC   CODE   ARRAY    008FH  30
touch_state. . . . . . . . . . . . . .  STATIC   DATA   U_INT    0000H  2
MSPIFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 42  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
_mSPIFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  16
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0001H  2
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0003H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      000BH  3
  Delay. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000EH  2
s8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
u8 . . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
MNORFLASH. . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
_mNORFLASH . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  12
  Mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  FLAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  VPAddr . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0005H  2
  Len. . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0007H  2
  Buf. . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0009H  3
ext_int0 . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
time . . . . . . . . . . . . . . . . .  STATIC   DATA   U_INT    0002H  2
ext_int1 . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
ENC_L0 . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_candataunitbuf. . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  6661
  BusRXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  3328
  BusTXbuf . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0D00H  3328
  CanRxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A00H  1
  CanRxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A01H  1
  CanTxHead. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A02H  1
  CanTxTail. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A03H  1
  CanTxFlag. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   1A04H  1
ENC_L1 . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
PORTDRV. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F9H  1
_UartInit. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
dgus_variables_icon_t. . . . . . . . .  TYPEDEF  -----  STRUCT   -----  20
  vp . . . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0000H  2
  upper_left_point . . . . . . . . . .  MEMBER   -----  STRUCT   0002H  4
  v_min. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0006H  2
  v_max. . . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0008H  2
  icon_min . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000AH  2
  icon_max . . . . . . . . . . . . . .  MEMBER   -----  U_INT    000CH  2
  icon_lib . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000EH  1
  mode . . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   000FH  1
  layer_mode . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0010H  1
  icon_gamma . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0011H  1
  pic_gamma. . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0012H  1
  filter_set . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0013H  1
ssd2828_init . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
EPID_END_I4. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
ENC_R0 . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 43  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


ENC_R1 . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
IE0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0089H  1
amp. . . . . . . . . . . . . . . . . .  STATIC   DATA   U_INT    0004H  2
IE1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008BH  1
DATABUFF . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  2057
  tx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  1024
  rx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0400H  1024
  tx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0800H  2
  tx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0802H  2
  rx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0804H  2
  rx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0806H  2
  tx_flag. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0808H  1
EPID_BALANCE_D1. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
databuff . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  2057
  tx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  1024
  rx_buf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0400H  1024
  tx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0800H  2
  tx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0802H  2
  rx_head. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0804H  2
  rx_tail. . . . . . . . . . . . . . .  MEMBER   -----  U_INT    0806H  2
  tx_flag. . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0808H  1
EPID_MODES_SUBMODES. . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
val. . . . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   012FH  1
volt . . . . . . . . . . . . . . . . .  STATIC   DATA   U_INT    0006H  2
EPID_END_T7. . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
IP0. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A9H  1
IP1. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B9H  1
EX0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00A8H  1
IT0. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0088H  1
EX1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AAH  1
IT1. . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      008AH  1
last_touch_item. . . . . . . . . . . .  STATIC   DATA   U_INT    0008H  2
MMUSIC . . . . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
_mMUSIC. . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  35
  IdNmu. . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  32
  PlayTail . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0020H  1
  PlayHead . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0021H  1
  PlayInterrupt. . . . . . . . . . . .  MEMBER   -----  U_CHAR   0022H  1
PAR_ID . . . . . . . . . . . . . . . .  * TAG *  -----  ENUM     -----  -----
EPID_POST_FLOW_T8. . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_delay_ms. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
inbufind . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0130H  1
encoder_state_adsfl. . . . . . . . . .  STATIC   XDATA  U_CHAR   0131H  1
_quene8283 . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  11
  pQuene . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0000H  3
  QueneHead. . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  QueneTail. . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  3
  QueneSize. . . . . . . . . . . . . .  MEMBER   -----  U_INT    0009H  2
s32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
u32. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
s16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
_delay_us. . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
u16. . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
C51 COMPILER V9.53.0.0   MAIN                                                              12/01/2023 15:52:14 PAGE 44  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


_cur_menu_fanc . . . . . . . . . . . .  EXTERN   XDATA  PTR      -----  3
SCREEN_HEIGHT. . . . . . . . . . . . .  STATIC   CODE   U_INT    008DH  2
uart_len . . . . . . . . . . . . . . .  PUBLIC   XDATA  U_CHAR   0132H  1
cur_menu . . . . . . . . . . . . . . .  EXTERN   XDATA  ARRAY    -----  -----
encoder_ticks. . . . . . . . . . . . .  EXTERN   DATA   U_CHAR   -----  1
EPID_BSN . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_Uatr_Send_Data. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
_can8283 . . . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  260
  Busbuf . . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0000H  256
  Can8283RxHead. . . . . . . . . . . .  MEMBER   -----  U_INT    0100H  2
  Can8283RxTail. . . . . . . . . . . .  MEMBER   -----  U_INT    0102H  2
par_tek. . . . . . . . . . . . . . . .  PUBLIC   XDATA  ARRAY    0133H  72
_GetTimeOutFlag. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
EPID_PRE_FLOW_T1 . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EPID_START_I1. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
io_init. . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
EPID_2T_4T . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
welding_state. . . . . . . . . . . . .  STATIC   DATA   U_CHAR   000AH  1
udgu_par_init. . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_candataunit . . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  13
  status . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  ID . . . . . . . . . . . . . . . . .  MEMBER   -----  U_LONG   0001H  4
  candata. . . . . . . . . . . . . . .  MEMBER   -----  ARRAY    0005H  8
bad_packages_cnt . . . . . . . . . . .  STATIC   XDATA  U_INT    017BH  2
va_list. . . . . . . . . . . . . . . .  TYPEDEF  -----  PTR      -----  3
good_packages_cnt. . . . . . . . . . .  STATIC   XDATA  U_INT    017DH  2
touch_coord_x. . . . . . . . . . . . .  STATIC   DATA   U_INT    000BH  2
touch_coord_y. . . . . . . . . . . . .  STATIC   DATA   U_INT    000DH  2
EPID_START_T2. . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
T0_Init. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
EPID_BASE_I2 . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_read_dgus_vp. . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   2267    ----
   CONSTANT SIZE    =    173    ----
   XDATA SIZE       =    383      15
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     15    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  2 WARNING(S),  0 ERROR(S)
